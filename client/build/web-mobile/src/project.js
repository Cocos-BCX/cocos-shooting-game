window.__require=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};t[a][0].call(h.exports,function(e){return r(t[a][1][e]||e)},h,h.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=function(e){for(var t,n=u(e),i=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,a)),c=0,h=a>0?i-4:i,l=0;l<h;l+=4)t=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,s[c++]=255&t);1===a&&(t=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function l(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(h(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){"use strict";var i=e("base64-js"),r=e("ieee754"),o=e("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(h(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return j(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,i){return W(j(t,e.length-n),e,n,i)}function w(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function _(e,t,n,i){return w(e,t,n,i)}function S(e,t,n,i){return W(Y(t),e,n,i)}function E(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function P(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,u=e[r],h=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=l}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=C));return n}(i)}n.Buffer=c,n.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return h(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,a=n-t,s=Math.min(o,a),u=this.slice(i,r),h=e.slice(t,n),l=0;l<s;++l)if(u[l]!==h[l]){o=u[l],a=h[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function R(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function B(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function O(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,i,o){return o||O(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return o||O(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||x(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||x(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:j(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],4:[function(e,t,n){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,h=-7,l=n?r-1:0,f=n?-1:1,p=e[t+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+e[t+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,c,u=8*o-r-1,h=(1<<u)-1,l=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(t*c-1)*Math.pow(2,r),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*g}},{}],FightBoss:[function(e,t,n){"use strict";cc._RF.push(t,"44b29FwP/NHmpIGY3QOsvI7","FightBoss");var i=e("playerData"),r=e("constants"),o=e("resourceUtil");cc.Class({extends:cc.Component,properties:{spBoss:cc.Sprite,arrImgBoss:[cc.SpriteFrame]},onLoad:function(){},initInfo:function(e,t){this.level=e,this.fightScene=t,this.maxHp=[100,200,300],this.node.opacity=255;var n=this.arrImgBoss[this.level-1];this.hp=this.maxHp[this.level-1],this.spBoss.spriteFrame=n,this.node.position=cc.v2(0,cc.winSize.height/2+n.getOriginalSize().height),this.node.getComponent(cc.BoxCollider).size=cc.size(n.getOriginalSize()),this.show(),cc.gameSpace.audioManager.playSound("bossComing",!1)},show:function(){var e=cc.moveTo(3,cc.v2(0,cc.winSize.height/2-100)),t=cc.sequence(e,cc.callFunc(function(){this.startFire()},this));this.node.runAction(t)},getRotation:function(e,t){return(270-180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI)%360},startFire:function(){this.schedule(this.createCandy,5),1===this.level?this.schedule(this.fire1,2):2===this.level?this.schedule(this.fire2,2):3===this.level&&(this.schedule(this.fire1,2),this.scheduleOnce(this.fire3,3))},createCandy:function(){for(var e=0;e<5&&!(this.fightScene.allCandyNum>=i.info.candy);e++){var t=this.fightScene.getItem().getComponent("FightItem"),n=cc.v2(120*e+50,cc.winSize.height/2+this.node.position.y);t.initInfo(r.ITEM_TYPE.CANDY,n,this.fightScene)}},fire1:function(){if(this.fightScene.gameStageOver)this.unscheduleAllCallbacks();else for(var e=this.node.position,t=0;t<20;t++){var n=e.y-this.node.height/2,i=this.fightScene.getBullet(),r=i.getComponent("FightBullet");r.initInfo(0,10,1,0,this.fightScene),i.position=cc.v2(64*t-cc.winSize.width/2,n),r.rota=this.getRotation(i.position,this.fightScene.player.position)}},fire2:function(){if(this.fightScene.gameStageOver)this.unscheduleAllCallbacks();else for(var e=null,t=null,n=this.node.position,i=0;i<10;i++)(t=(e=this.fightScene.getBullet()).getComponent("FightBullet")).initInfo(0,10,1,0,this.fightScene),e.position=cc.v2(0,n.y-this.node.height/2),t.rota=180+14*i,(t=(e=this.fightScene.getBullet()).getComponent("FightBullet")).initInfo(0,10,1,0,this.fightScene),e.position=cc.v2(0,n.y-this.node.height/2),t.rota=180-14*i},fire3:function(){this.fightScene.gameStageOver?this.unscheduleAllCallbacks():this.schedule(this.fire2,2)},loseHP:function(e){if(!(this.hp<=0)&&(this.playHitEffect(),this.hp-=e,this.hp<=0)){var t=cc.sequence(cc.fadeOut(2),cc.delayTime(.5),cc.callFunc(this.bossDie,this));this.node.runAction(t)}},bossDie:function(){cc.gameSpace.audioManager.playSound("bossDie",!1),this.unscheduleAllCallbacks(),this.fightScene.onBossKilled(this.node)},onCollisionEnter:function(e,t){"playerBullet"===e.node.group&&(e.getComponent("FightBullet").recover(),this.loseHP(1))},playHitEffect:function(){if(!this.isPlayingHitEffect){this.isPlayingHitEffect=!0;var e=this.hitEffect,t=.5*Math.ceil(4*Math.random())+1.5,n=cc.v2(_.random(-this.node.width/4,this.node.width/4),_.random(0,this.node.height/2));e?(e.active=!0,e.setScale(t),e.position=n,o.playEffect(e,function(){e.active=!1,this.isPlayingHitEffect=!1},this)):o.createEffect("damage3",this.node,function(e,i){e?this.isPlayingHitEffect=!1:(i.setScale(t),i.position=n,this.hitEffect=i,o.playEffect(i,function(){i.active=!1,this.isPlayingHitEffect=!1},this))},this)}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightBullet:[function(e,t,n){"use strict";cc._RF.push(t,"78211G/Xh1GP7zi742aCpqq","FightBullet"),cc.Class({extends:cc.Component,properties:{typeBullet:{default:1,tooltip:"\u81ea\u5df1\u7684\u5b50\u5f39:1  \u654c\u4eba\u7684\u5b50\u5f39:0"},rota:0,speed:0,fireType:{default:0,tooltip:"\u666e\u901a\u5b50\u5f39:0 \u8ddf\u8e2a\u5b50\u5f39:1"},imgPlayerBullet:cc.SpriteFrame,arrImgSuperBullet:[cc.SpriteFrame],imgEnemyBullet:cc.SpriteFrame,imgMissile:cc.SpriteFrame,spBullet:cc.Sprite},start:function(){},initInfo:function(e,t,n,i,r,o){this.rota=e,this.speed=t,this.fireType=n,this.typeBullet=i,this.target=null;var a=this.imgPlayerBullet;1===this.typeBullet?(this.node.group="playerBullet",1===this.fireType?a=this.imgMissile:o&&(a=this.arrImgSuperBullet[o-1])):(this.node.group="bullet",a=this.imgEnemyBullet),this.spBullet.spriteFrame=a,this.fightScene=r,this.node.getComponent(cc.BoxCollider).size=cc.size(a.getOriginalSize())},moveByRotation:function(e){var t=cc.v2(this.node.position);t.x+=e*Math.cos((90-this.rota)*Math.PI/180),t.y+=e*Math.sin((90-this.rota)*Math.PI/180),this.node.angle=-this.rota,this.node.position=t},getRotation:function(e,t){return(270-180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI)%360},update:function(e){if(!window.isPauseFight){if(this.typeBullet){if(0===this.fireType)this.moveByRotation(this.speed);else if(1===this.fireType){if(!this.target){var t=this.fightScene.enemyGroup.children,n=Math.round(100*Math.random()%t.length);this.target=t[n]}this.target&&this.target.parent&&this.target.position.y<cc.winSize.height?this.rota=this.getRotation(this.node.position,this.target.position):this.rota=this.getRotation(this.node.position,cc.v2(this.node.position.x,this.node.position.y+100)),this.moveByRotation(this.speed/2)}}else 1===this.fireType&&this.moveByRotation(this.speed/2);var i=this.node.convertToWorldSpace(cc.v2(0,0));(i.x<-20||i.x>cc.winSize.width+20||i.y<-20||i.y>cc.winSize.height+20)&&this.recover()}},recover:function(){this.node.angle=0,this.target=null,this.node.removeFromParent(),this.fightScene.isValid?this.fightScene.putBullet(this.node):this.node.destroy()}}),cc._RF.pop()},{}],FightEnemy:[function(e,t,n){"use strict";cc._RF.push(t,"158b9Rir/JDIZA2ng3rnmFA","FightEnemy");var i=e("resourceUtil");cc.Class({extends:cc.Component,properties:{arrImg:[cc.SpriteFrame],type:{default:0},scale:{default:.6},maxHp:{default:3},hp:{default:1},fireInterval:{default:1e3},speed:{default:3},imgSprite:cc.Sprite},start:function(){},initInfo:function(e){this.fightScene=e,this.imgSprite.spriteFrame=this.arrImg[Math.floor(Math.random()*this.arrImg.length)],this.node.scale=this.scale;var t=this.imgSprite.spriteFrame.getOriginalSize(),n=t.width*this.node.scale,i=Math.random()*(cc.winSize.width-n+1)+n/2,r=cc.winSize.height+t.height*this.node.scale;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(i,r)),this.hp=this.maxHp*this.fightScene.level,this.schedule(this.fire,4/this.fightScene.level)},update:function(e){window.isPauseFight||this.move()},move:function(){var e=this.node.convertToWorldSpace(cc.v2(0,0));2==this.type&&e.y<cc.winSize.height-this.node.height||(this.node.y=this.node.position.y-2,e.y<=-this.node.height&&this.recover())},recover:function(){this.node.removeFromParent(),this.node.active=!0,this.unscheduleAllCallbacks(),this.fightScene.putEnemy(this.node)},clear:function(){this.hitEffect&&this.hitEffect.getComponent(cc.Animation).stop(),this.missileEffect&&this.missileEffect.getComponent(cc.Animation).stop()},playHitEffect:function(e){if(!this.isPlayingHitEffect){this.isPlayingHitEffect=!0;var t="hit",n=this.hitEffect;e&&(t="missile",n=this.missileEffect),n?(n.active=!0,i.playEffect(n,function(){n.active=!1,this.isPlayingHitEffect=!1},this)):i.createEffect(t,this.node,function(t,n){t?this.isPlayingHitEffect=!1:(e?this.missileEffect=n:this.hitEffect=n,i.playEffect(n,function(){n.active=!1,this.isPlayingHitEffect=!1},this))},this)}},playDieEffect:function(e){cc.gameSpace.audioManager.playSound("dieSound",!1),i.createEffect("die2",this.fightScene.effectGroup,function(t,n){t||(n.position=this.node.position,i.playEffect(n,e,this,!0))},this)},getRotation:function(e,t){return(270-180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI)%360},fire:function(){if(!(this.node.position.y<0||this.fightScene.gameStageOver)){var e=this.fightScene.getBullet(),t=e.getComponent("FightBullet");t.initInfo(0,10,1,0,this.fightScene),e.position=this.node.position,t.rota=this.getRotation(e.position,this.fightScene.player.position)}},loseHP:function(e,t){if(this.hp-=e,this.playHitEffect(t),this.hp<=0){var n=this.node.convertToWorldSpace(cc.v2(0,0));this.fightScene.onEnemyKilled(this.type,n),this.node.active=!1,this.playDieEffect(this.recover)}},onCollisionEnter:function(e,t){if("playerBullet"===e.node.group){var n=e.getComponent("FightBullet");n.recover(),this.loseHP(1,n.fireType)}else"player"===e.node.group&&this.loseHP(this.hp,0)}}),cc._RF.pop()},{resourceUtil:"resourceUtil"}],FightItem:[function(e,t,n){"use strict";cc._RF.push(t,"e9eeePt/wlB2rgPGLq3Tn4t","FightItem");var i=e("constants");cc.Class({extends:cc.Component,properties:{imgBullet:cc.SpriteFrame,imgCandy:cc.SpriteFrame,imgGold:cc.SpriteFrame,imgFollow:cc.SpriteFrame,imgLifeUp:cc.SpriteFrame,imgBomb:cc.SpriteFrame,spItem:cc.Sprite},start:function(){},initInfo:function(e,t,n){this.fightScene=n,this.type=e,this.node.angle=0,this.goldIndex=0;var r=null;switch(e){case i.ITEM_TYPE.BULLET_LEVEL:r=this.imgBullet;break;case i.ITEM_TYPE.FOLLOW_NUM:r=this.imgFollow;break;case i.ITEM_TYPE.BGold:r=this.imgGold;break;case i.ITEM_TYPE.CANDY:r=this.imgCandy;break;case i.ITEM_TYPE.LIFE_UP:r=this.imgLifeUp;break;case i.ITEM_TYPE.BOMB:r=this.imgBomb}if(this.spItem.spriteFrame=r,this.speed=5,4===e&&(this.speed=2),t)this.node.position=this.node.parent.convertToNodeSpaceAR(t);else{var o=r.getOriginalSize().width,a=r.getOriginalSize().height,s=Math.random()*(cc.winSize.width-o+1)+o/2;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(s,cc.winSize.height+a))}},update:function(e){window.isPauseFight||this.move()},getRotation:function(e,t){return(270-180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI)%360},moveByRotation:function(e,t){var n=cc.v2(this.node.position);n.x+=e*Math.cos((90-t)*Math.PI/180),n.y+=e*Math.sin((90-t)*Math.PI/180),this.node.position=n},move:function(){if(this.targetNode){var e=this.getRotation(this.node.position,this.targetNode.position);this.moveByRotation(2*this.speed,e)}else{this.node.y=this.node.position.y-this.speed,this.node.convertToWorldSpace(cc.v2(0,0)).y<-this.node.height&&this.recover()}},flyToPlayer:function(e){this.targetNode=e},recover:function(){this.targetNode=null,this.unscheduleAllCallbacks(),this.node.removeFromParent(),this.fightScene.putItem(this.node)}}),cc._RF.pop()},{constants:"constants"}],FightMapObj:[function(e,t,n){"use strict";cc._RF.push(t,"0576eBNREZD9KS4b5ZhKOtm","FightMapObj"),cc.Class({extends:cc.Component,properties:{speed:0,imgSprite:cc.Sprite,arrBigMapObj:[cc.SpriteFrame],arrLowMapObj:[cc.SpriteFrame],arrLine:[cc.SpriteFrame]},start:function(){},setFightScene:function(e){this.fightScene=e},initInfo:function(e,t,n){this.speed=t;var i=1,r=null;switch(e){case"Low":r=this.arrLowMapObj;break;case"Big":r=this.arrBigMapObj,i=.5*Math.random()+.3;break;case"Line":r=this.arrLine}var o=Math.floor(Math.random()*r.length);this.imgSprite.spriteFrame=r[o],this.node.scale=i;var a=Math.random()*cc.winSize.width,s=cc.winSize.height+this.imgSprite.spriteFrame.getOriginalSize().height*i;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(a,s))},update:function(e){window.isPauseFight||(this.node.y=this.node.position.y-this.speed,this.node.convertToWorldSpace(cc.v2(0,0)).y<-this.node.height&&this.recover())},recover:function(){this.node.removeFromParent(),this.fightScene.putMapObj(this.node)}}),cc._RF.pop()},{}],FightPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"04210uTrN5MxJtOMxY7wwDU","FightPlayer");var i=e("constants"),r=e("resourceUtil"),o=e("playerData");cc.Class({extends:cc.Component,properties:{speed:15,hp:1,followBulletNum:1,fireLevel:0,shieldNode:cc.Node,spPlane:cc.Sprite,imgSuperPlane:cc.SpriteFrame},start:function(){this.playFlyAni(cc.v2(this.node.position.x,-150),0,!0),cc.gameSpace.audioManager.playSound("startGameSound",!1),this.fireTime=0,this.fireIndex=0;var e=o.getCurrentWeapon();e?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=o.getWeaponLevel(e),this.fireLevel=2):this.weaponLevel=0;var t=o.getCurrentPilot();if(t){var n=0;switch(JSON.parse(t.base_describe).quality){case i.QUALITY.WHITE:n=1;break;case i.QUALITY.GREEN:n=2;break;case i.QUALITY.GREEN_1:n=3;break;case i.QUALITY.GREEN_2:n=4;break;case i.QUALITY.BLUE:n=5;break;case i.QUALITY.PURPLE:n=6;break;case i.QUALITY.GOLD:n=7}this.hp+=n}},playFlyAni:function(e,t,n,i){if(void 0===t&&(t=0),this.node.active){n&&(this.unschedule(this.fireBulletNum),this.isPauseFire=!0),this.isAutoFlyFinished=!1;var r=cc.moveTo(1,e).easing(cc.easeOut(3)),o=cc.moveTo(1,0,-400),a=cc.sequence(r,cc.delayTime(t),cc.callFunc(function(){},this),o,cc.callFunc(function(){this.isAutoFlyFinished=!0,n&&this.schedule(this.fireBulletNum,1),this.isPauseFire=!1,i&&i.apply(this)},this));this.node.runAction(a)}else i&&i.apply(this)},setFightScene:function(e){this.fightScene=e},moveToPos:function(e){this.isAutoFlyFinished&&(this.targetPos=e)},fireUpdate:function(e){if(!this.isPauseFire){this.fireTime+=e;var t=2;this.fireLevel>2&&(t=this.fireLevel);var n=1/(t+1),i=Math.ceil(this.fireTime/n);i!==this.fireIndex&&(this.fireIndex=i,this.fireBullet())}},moveUpdate:function(){if(this.targetPos){var e=this.node.position,t=this.targetPos;if(e.x>(cc.winSize.width-this.node.width)/2&&t.x>(cc.winSize.width-this.node.width)/2)return void(this.node.x=(cc.winSize.width-this.node.width)/2+1);if(e.x<(-cc.winSize.width+this.node.width)/2&&t.x<(-cc.winSize.width+this.node.width)/2)return void(this.node.x=(-cc.winSize.width+this.node.width)/2-1);if(e.y>(cc.winSize.height-this.node.height)/2&&t.y>(cc.winSize.height-this.node.height)/2)return void(this.node.y=(cc.winSize.height-this.node.height)/2+1);if(Math.abs(t.x-e.x)<this.speed&&Math.abs(t.y-e.y)<this.speed)return void(this.node.position=this.targetPos);e.x+=this.speed*Math.cos(Math.atan2(this.targetPos.y-e.y,this.targetPos.x-e.x)),e.y+=this.speed*Math.sin(Math.atan2(this.targetPos.y-e.y,this.targetPos.x-e.x)),this.node.position=e}},update:function(e){window.isPauseFight||this.hp<=0||(this.fireUpdate(e),this.moveUpdate())},fireBulletNum:function(){if(!(this.hp<=0))for(var e=this.node.position,t=e.y+20,n=0;n<this.followBulletNum;n++){var i=this.fightScene.getBullet();i.getComponent("FightBullet").initInfo(20*(n-(this.followBulletNum-1)/2),10,1,1,this.fightScene,this.weaponLevel),i.position=cc.v2(e.x,t)}},fireBullet:function(){if(!(this.hp<=0)){var e=this.node.position,t=e.y+20,n=this.fightScene.getBullet();n.getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),n.position=cc.v2(e.x,t);var i=null,r=null;if(0===this.fireLevel)cc.gameSpace.audioManager.playSound("attack02",!1);else if(1===this.fireLevel){cc.gameSpace.audioManager.playSound("attack02",!1);(i=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),i.setPosition(e.x-20,t),(r=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),r.setPosition(e.x+20,t)}else if(this.fireLevel>=2){cc.gameSpace.audioManager.playSound("attack02",!1);(i=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(-10,20,0,1,this.fightScene,this.weaponLevel),i.setPosition(e.x,t),i.angle=-10,(r=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(10,20,0,1,this.fightScene,this.weaponLevel),r.setPosition(e.x,t),r.angle=10}}},onCollisionEnter:function(e,t){if("bullet"===e.node.group)this.loseHP(1),e.node.getComponent("FightBullet").recover();else if("enemy"===e.node.group)this.loseHP(this.hp);else if("item"===e.node.group){var n=e.node.getComponent("FightItem");this.pickupItem(n.type),n.recover()}},playGetItemEffect:function(){cc.gameSpace.audioManager.playSound("pickup",!1),this.isPlayingItemEffect||(this.isPlayingItemEffect=!0,this.itemEffect?(this.itemEffect.active=!0,r.playEffect(this.itemEffect,function(){this.itemEffect.active=!1,this.isPlayingItemEffect=!1},this)):r.createEffect("collect",this.node,function(e,t){e?this.isPlayingItemEffect=!1:(this.itemEffect=t,r.playEffect(t,function(){this.itemEffect.active=!1,this.isPlayingItemEffect=!1},this))},this))},playDieEffect:function(e){cc.gameSpace.audioManager.playSound("playerDie",!1),r.createEffect("die1",this.fightScene.effectGroup,function(t,n){t||(n.position=this.node.position,r.playEffect(n,e,this,!0))},this)},pickupItem:function(e){switch(this.playGetItemEffect(),e){case i.ITEM_TYPE.BULLET_LEVEL:this.bulletLevel();break;case i.ITEM_TYPE.FOLLOW_NUM:this.followNum();break;case i.ITEM_TYPE.BGold:this.getBGold();break;case i.ITEM_TYPE.CANDY:this.getCandy();break;case i.ITEM_TYPE.LIFE_UP:this.lifeUp();break;case i.ITEM_TYPE.BOMB:this.pickBomb()}},pickBomb:function(){this.fightScene.onPickupBomb()},lifeUp:function(){this.hp++,this.fightScene.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.hp})},bulletLevel:function(){this.fireLevel<10&&(this.fireLevel++,this.fireTime=0,this.fireIndex=0)},followNum:function(){this.followBulletNum<5&&this.followBulletNum++},getBGold:function(){},getCandy:function(){this.fightScene.addCandy()},loseHP:function(e){this.shieldNode.active||this.hp<=0||(this.fightScene.playDamageEffect(),this.hp-=e,this.hp<=0&&(this.hp=0,this.onKilled()),this.fightScene.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.hp}))},onKilled:function(){this.node.active=!1,this.playDieEffect(function(){this.fightScene.pause(),this.fightScene.onPlayerKilled()})},reLife:function(){this.hp=1,this.node.active=!0,this.shieldNode.active=!0,this.node.position=cc.v2(0,-cc.winSize.height/2-400),this.isAutoFlyFinished=!1;var e=cc.moveTo(1,cc.v2(0,-50)).easing(cc.easeOut(3)),t=cc.sequence(e,cc.callFunc(function(){this.isAutoFlyFinished=!0,this.targetPos=cc.v2(0,-400)},this));this.node.runAction(t),this.scheduleOnce(function(){this.shieldNode.active=!1},4)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightScene:[function(e,t,n){"use strict";cc._RF.push(t,"876d34LAh9MEb/nhwdR41pI","FightScene");var i=e("constants"),r=e("playerData"),o=e("resourceUtil");cc.Class({extends:cc.Component,properties:{player:cc.Node,bulletGroup:cc.Node,mapObjGroup:cc.Node,enemyGroup:cc.Node,bossGroup:cc.Node,itemGroup:cc.Node,effectGroup:cc.Node,levelUpNode:cc.Node,fightUINode:cc.Node,mapObjPrefab:cc.Prefab,speedScale:1,bgSpeed:5,enemySmall:cc.Prefab,enemyMedium:cc.Prefab,enemyBig:cc.Prefab,bossPrefab:cc.Prefab,itemPrefab:cc.Prefab,bulletPrefab:cc.Prefab,damageEffectNode:cc.Node,arrMap:[cc.Node]},start:function(){cc.debug.setDisplayStats(!1);var e=cc.winSize;e.width>e.height&&(this.node.getComponent(cc.Canvas).fitHeight=!0),cc.director.getCollisionManager().enabled=!0,this.bombTmp=0,this.level=1,this.dropBombNum=0,this.gameStageOver=!1,this.isGameOver=!1,this.bulletPool=new cc.NodePool,this.enemySmallPool=new cc.NodePool,this.enemyMediumPool=new cc.NodePool,this.enemyBigPool=new cc.NodePool,this.bossPool=new cc.NodePool,this.itemPool=new cc.NodePool,this.mapObjPool=new cc.NodePool;for(var t=0;t<5;t++){var n=cc.instantiate(this.mapObjPrefab);this.mapObjPool.put(n)}this.regEvent(),this.fightPlayer=this.player.getComponent("FightPlayer"),this.fightPlayer.setFightScene(this),this.bgBigFrameTime=0,this.bgLowFrameTime=0,this.bgLineFrameTime=0,this.speedScale=1,this.initGame(),this.preloadRes()},regEvent:function(){this.node.on(i.FIGHT_EVENT.UPDATE_TOUCH_POS,this.onTouchPosChange,this),this.node.on(i.FIGHT_EVENT.RELEASE_BOMB,this.onReleaseBomb,this)},preloadRes:function(){cc.loader.loadRes("prefabs/ui/gameOver",cc.Prefab,function(e,t){})},initGame:function(){this.totalScore=0,this.allCandyNum=0,this.scheduleOnce(function(){this.create()},2)},create:function(){var e=r.info.GameData[this.level-1];this.schedule(this.createEnemy,e.enemy_num/1e3),this.schedule(this.createItem,10),this.scheduleOnce(this.createBoss,e.boss_num/1e3),this.schedule(this.createCandy,5),this.scheduleOnce(this.createGold,25)},unCreate:function(){this.unschedule(this.createEnemy),this.unschedule(this.createItem),this.unschedule(this.createBoss),this.unschedule(this.createCandy),this.unschedule(this.createGold)},createEnemy:function(){var e=0;1===this.level?e=Math.random()>.95?1:0:2==this.level?e=Math.random()>.75?1:0:3==this.level&&(e=Math.random()>.55?1:0),this.getEnemy(e).getComponent("FightEnemy").initInfo(this)},createItem:function(){var e=this.getItem().getComponent("FightItem"),t=Math.floor(2*Math.random());e.initInfo(t,null,this)},createBoss:function(){this.bossObj&&(this.bossObj=null),this.bossObj=this.getBoss(),this.bossObj.getComponent("FightBoss").initInfo(this.level,this)},createCandy:function(){this.allCandyNum>=r.info.candy||this.getItem().getComponent("FightItem").initInfo(i.ITEM_TYPE.CANDY,null,this)},createGold:function(){var e=null,t=null,n=Math.ceil(2*Math.random());if(1===n)for(var r=0;r<10;r++)e=this.getItem().getComponent("FightItem"),t=null,t=r<=5?cc.v2(120*r,cc.winSize.height+80*r):cc.v2(120*(10-r),cc.winSize.height+80*r),e.initInfo(i.ITEM_TYPE.CANDY,t,this);else if(2===n)for(var o=0;o<10;o++)e=this.getItem().getComponent("FightItem"),t=null,t=o<=5?cc.v2(120*(5-o),cc.winSize.height+80*o):cc.v2(120*(o-5),cc.winSize.height+80*o),e.initInfo(i.ITEM_TYPE.CANDY,t,this);else for(var a=0;a<5;a++)e=this.getItem().getComponent("FightItem"),t=cc.v2(120*(5-a),cc.winSize.height+80*a),e.initInfo(i.ITEM_TYPE.CANDY,t,this),e=this.getItem().getComponent("FightItem"),t=cc.v2(120*a,cc.winSize.height+80*a),e.initInfo(i.ITEM_TYPE.CANDY,t,this)},getBullet:function(){var e=null;return(e=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bulletPrefab)).parent=this.bulletGroup,e},putBullet:function(e){this.bulletPool.put(e)},getMapObj:function(){var e=null;return(e=this.mapObjPool.size()>0?this.mapObjPool.get():cc.instantiate(this.mapObjPrefab)).parent=this.mapObjGroup,e.getComponent("FightMapObj").setFightScene(this),e},putMapObj:function(e){this.mapObjPool.put(e)},getEnemy:function(e){var t=null,n=null;switch(e){case 0:t=this.enemySmallPool,n=this.enemySmall;break;case 1:t=this.enemyMediumPool,n=this.enemyMedium;break;case 2:t=this.enemyBigPool,n=this.enemyBig}var i=null;return(i=t.size()>0?t.get():cc.instantiate(n)).parent=this.enemyGroup,i},putEnemy:function(e,t){var n=null;switch(e){case 0:n=this.enemySmallPool;break;case 1:n=this.enemyMediumPool;break;case 2:n=this.enemyBigPool}n&&n.put(t)},getBoss:function(){var e=null;return(e=this.bossPool.size()>0?this.bossPool.get():cc.instantiate(this.bossPrefab)).parent=this.bossGroup,e},putBoss:function(e){this.bossPool.put(e)},getItem:function(){var e=null;return(e=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.itemPrefab)).parent=this.itemGroup,e},putItem:function(e){this.itemPool.put(e)},onTouchPosChange:function(e){var t=e.pos,n=this.node.convertToNodeSpaceAR(t);e.type===cc.Node.EventType.TOUCH_END||e.type===cc.Node.EventType.TOUCH_CANCEL?this.fightPlayer.moveToPos(null):this.fightPlayer.moveToPos(cc.v2(n.x,n.y+100))},onReleaseBomb:function(e){o.createEffect("timeBoom",this.effectGroup,function(e,t){o.playEffect(t,function(){this.clearEnemy(),this.clearBullet()},this,!0)},this)},pause:function(){if(cc.director.getScheduler().pauseTarget(this),window.isPauseFight=!0,this.bossObj&&this.bossObj.isValid){var e=this.bossObj.getComponent("FightBoss");cc.director.getScheduler().pauseTarget(e)}},resume:function(){if(cc.director.getScheduler().resumeTarget(this),window.isPauseFight=!1,this.bossObj&&this.bossObj.isValid){var e=this.bossObj.getComponent("FightBoss");cc.director.getScheduler().resumeTarget(e)}},update:function(e){window.isPauseFight||(this.updateMap(),this.updateMapObj())},updateMap:function(){var e=1;1!==this.speedScale&&(e=2);for(var t=0;t<this.arrMap.length;t++){var n=this.arrMap[t];n.y=n.position.y-e}for(var i=0;i<this.arrMap.length;i++){var r=this.arrMap[i];if(r.position.y<=-cc.winSize.height/2-n.height/2-100){var o=i-1;o=o<0?this.arrMap.length-1:o;var a=this.arrMap[o];r.y=a.position.y+r.height;break}}},updateMapObj:function(){(this.bgLowFrameTime++,this.bgBigFrameTime++,this.bgLineFrameTime++,this.bgBigFrameTime>=500)&&(this.bgBigFrameTime=0,this.getMapObj().getComponent("FightMapObj").initInfo("Big",this.speedScale,!1));var e=100;(1!==this.speedScale&&(e=5),this.bgLineFrameTime>=e)&&(this.bgLineFrameTime=0,this.getMapObj().getComponent("FightMapObj").initInfo("Line",15,!1))},dropPackage:function(e,t){var n=i.ITEM_TYPE.CANDY;1===e&&(n=Math.ceil(100*Math.random())<2?i.ITEM_TYPE.LIFE_UP:i.ITEM_TYPE.CANDY),this.getItem().getComponent("FightItem").initInfo(n,t,this)},dropBomb:function(e){this.getItem().getComponent("FightItem").initInfo(i.ITEM_TYPE.BOMB,e,this)},onEnemyKilled:function(e,t){var n=10,i=!1;if(1===e)n=50;else if(0===e){1==Math.ceil(2*Math.random())&&this.allCandyNum<r.info.candy&&(this.dropPackage(e,t),i=!0)}if(!i){var o=60;this.dropBombNum<=0&&(o=20),Math.floor(Math.random()*o)<=e&&(this.dropBombNum++,this.dropBomb(t))}this.addScore(n)},onBossKilled:function(e){for(var t=e.position,n=0;n<10;n++){var i=cc.v2(cc.winSize/2-60,t.y+60*n);this.dropBossPackage(i),i=cc.v2(cc.winSize/2+60,t.y+60*n),this.dropBossPackage(i)}e.removeFromParent(),this.putBoss(e),this.addScore(1e3*this.level),this.speedUp()},onPlayerKilled:function(){cc.gameSpace.uiManager.showSharedDialog("relife","relife",[this])},dropBossPackage:function(e){var t=this.getItem(),n=cc.v2(e.x,e.y+cc.winSize.height/2);t.getComponent("FightItem").initInfo(i.ITEM_TYPE.CANDY,n,this)},clearEnemy:function(){for(var e=[],t=0;t<this.enemyGroup.children.length;t++)e.push(this.enemyGroup.children[t]);for(var n=0;n<e.length;n++){var i=e[n].getComponent("FightEnemy");i.loseHP(i.hp)}},clearBullet:function(){for(var e=[],t=0;t<this.bulletGroup.children.length;t++)e.push(this.bulletGroup.children[t]);for(var n=0;n<e.length;n++){e[n].getComponent("FightBullet").recover()}},speedUp:function(){this.clearEnemy();for(var e=0;e<this.itemGroup.children.length;e++){this.itemGroup.children[e].getComponent("FightItem").flyToPlayer(this.player)}this.clearBullet(),this.unCreate(),this.gameStageOver=!0,this.speedScale=10,this.bgLineFrameTime=0,3===this.level?this.scheduleOnce(function(){this.speedScale=1,this.bgLineFrameTime=0,this.isSuccess=!0,this.showGameOver()},3):(this.fightPlayer.playFlyAni(cc.v2(0,0),3,!0),this.scheduleOnce(this.speedDown,6),this.scheduleOnce(function(){cc.gameSpace.audioManager.playSound("levelup",!1),this.levelUpNode.active=!0;var e=cc.sequence(cc.moveTo(3,0,200).easing(cc.easeOut(3)),cc.moveTo(1,0,-1e3).easing(cc.easeOut(3)),cc.callFunc(function(){this.levelUpNode.y=800,this.levelUpNode.active=!1},this));this.levelUpNode.runAction(e)},3))},speedDown:function(){this.bossObj=null,this.gameStageOver=!1,this.speedScale=1,this.bgLineFrameTime=0,this.create(),this.level++,this.createGold()},addCandy:function(){this.allCandyNum++,this.node.emit(i.FIGHT_EVENT.UPDATE_CANDY,{value:this.allCandyNum})},addScore:function(e){this.totalScore+=e,this.node.emit(i.FIGHT_EVENT.UPDATE_SCORE,{value:this.totalScore})},reLife:function(){this.clearEnemy(),this.clearBullet(),this.fightPlayer.reLife(),this.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.fightPlayer.hp})},onPickupBomb:function(){this.bombTmp++,this.node.emit(i.FIGHT_EVENT.UPDATE_BOMB,{})},playDamageEffect:function(){this.damageEffectNode.active=!0,this.damageEffectNode.getComponent(cc.Animation).play()},showGameOver:function(){cc.gameSpace.uiManager.showSharedDialog("gameOver","gameOver",[this.allCandyNum,this.bombTmp,this.totalScore,this])},clear:function(){this.player.destroy();for(var e=_.clone(this.enemyGroup.children),t=0;t<e.length;t++){var n=e[t];n.getComponent("FightEnemy").clear(),n.destroy()}for(var i=_.clone(this.effectGroup.children),r=0;r<i.length;r++){var o=i[r];o.getComponent(cc.Animation).stop(),o.destroy()}for(var a=_.clone(this.bossGroup.children),s=0;s<a.length;s++){a[s].destroy()}this.clearBullet()},exitFightScene:function(){this.clear(),this.resume(),cc.director.loadScene("start")}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightUI:[function(e,t,n){"use strict";cc._RF.push(t,"8e675Do8o9KMaab7a0+UoyI","FightUI");var i=e("constants"),r=e("playerData"),o=e("resourceUtil");cc.Class({extends:cc.Component,properties:{fightScene:cc.Node,nodeHead:cc.Node,txtScore:cc.Label,txtLife:cc.Label,txtCandy:cc.Label,headIcon:cc.Sprite,txtName:cc.Label,spFrame:cc.Sprite,txtBomb:cc.Label},start:function(){this.regEvent(),this.fightSceneScript=this.fightScene.getComponent("FightScene"),this.txtLife.string="X "+this.fightSceneScript.fightPlayer.hp;var e=r.getCurrentPilot();if(e){this.nodeHead.active=!0;var t=JSON.parse(e.base_describe),n=this;o.getPilotIcon(t.icon,function(e,t){!e&&cc.isValid(n.headIcon)&&(n.headIcon.spriteFrame=t)}),this.txtName.string=t.name}this.refreshBomb()},regEvent:function(){this.fightScene.on(i.FIGHT_EVENT.UPDATE_SCORE,this.updateScore,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_LIFE,this.updateLife,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_CANDY,this.updateCandy,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_BOMB,this.updateBomb,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},updateScore:function(e){this.txtScore.string="SCORE: "+e.value},updateLife:function(e){this.txtLife.string="X "+e.value},updateCandy:function(e){this.txtCandy.string="X "+e.value},updateBomb:function(e){this.refreshBomb()},onTouchStart:function(e){this.emitTouchPos(e)},onTouchMove:function(e){this.emitTouchPos(e)},onTouchEnd:function(e){this.emitTouchPos(e)},onTouchCancel:function(e){this.emitTouchPos(e)},onBombClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),!window.isPauseFight){if(this.fightSceneScript.bombTmp>0)this.fightSceneScript.bombTmp--;else if(!r.costBomb())return;this.refreshBomb(),this.fightScene.emit(i.FIGHT_EVENT.RELEASE_BOMB,{})}},refreshBomb:function(){var e=r.getBomb(),t=this.fightSceneScript.bombTmp;this.txtBomb.string=e.length+t},emitTouchPos:function(e){var t=e.getLocation();this.fightScene.emit(i.FIGHT_EVENT.UPDATE_TOUCH_POS,{pos:t,type:e.type})}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var i=e("polyglot.min"),r=null;function o(e){return window.i18n.languages[e]}function a(e){e&&(r?r.replace(e):r=new i({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=o(e)||{};window.i18n.curLang=e,a(t),this.inst=r}},t:function(e,t){if(r)return r.t(e,t)},inst:r,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var i=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,i)}for(var r=0;r<t.length;++r){var o=t[r];o.node.active&&o.updateLabel()}for(var a=[],s=0;s<e.length;++s){var c=e[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,c)}for(var u=0;u<a.length;++u){var h=a[u];h.node.active&&h.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var i=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?i.t(this.dataID)&&(this.label.string=i.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var i=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:i}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],LoginScene:[function(e,t,n){"use strict";cc._RF.push(t,"660639MKTxHjIcuqC8CYs+Q","LoginScene");var i=e("bcxAdapter");e("resourceUtil"),e("configuration"),e("constants"),e("clientEvent");cc.Class({extends:cc.Component,properties:{edtAccount:cc.EditBox,edtPassword:cc.EditBox,select_node:cc.Node,select_prefab:cc.Prefab},start:function(){console.log("login----start");var e=cc.instantiate(this.select_prefab);this.select_node.addChild(e),this.login()},onBtnLoginClick:function(){},login:function(){cc.gameSpace.showLoading(cc.gameSpace.text.logining);var e=this;i.login(function(t){t?(cc.gameSpace.showTips(t),cc.gameSpace.hideLoading()):(cc.gameSpace.showLoading(cc.gameSpace.text.loading_main+"..."),e.loadPlayerInfo())})},loadPlayerInfo:function(){var e=this;i.getItems(function(t,n){e.loadMainScene()})},loadMainScene:function(){cc.director.preloadScene("start",function(){cc.gameSpace.hideLoading(),cc.director.loadScene("start")})},onBtnRegisterClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading("loading..."),cc.gameSpace.uiManager.showSharedDialog("regist","regist",[this])},onBtnPrivateKeyClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading("loading..."),cc.gameSpace.uiManager.showSharedDialog("keyLogin","keyLogin",[this])}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",clientEvent:"clientEvent",configuration:"configuration",constants:"constants",resourceUtil:"resourceUtil"}],LotteryItem:[function(e,t,n){"use strict";cc._RF.push(t,"4ffa1UGXEpMO7A4VUo70yL/","LotteryItem"),cc.Class({extends:cc.Component,properties:{spSelect:cc.Sprite,lbValue:cc.Label,nodeNo:cc.Node,spItem:cc.Sprite,imgCocos:cc.SpriteFrame,imgBomb:cc.SpriteFrame,imgWeapon:cc.SpriteFrame,imgEmployee:cc.SpriteFrame},start:function(){},setInfo:function(e){switch(this.nodeNo.active=!1,e.type){case"money":this.lbValue.string="X "+e.amount,this.spItem.spriteFrame=this.imgCocos,this.spItem.node.width=80,this.spItem.node.height=73;break;case"bomb":this.lbValue.string="X "+e.amount,this.spItem.spriteFrame=this.imgBomb,this.spItem.node.width=64,this.spItem.node.height=82;break;case"weapon":this.lbValue.string="X "+e.amount,this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=90,this.spItem.node.height=90;break;case"no":this.spItem.spriteFrame=null,this.lbValue.string="",this.nodeNo.active=!0;break;case"employee":this.spItem.spriteFrame=this.imgEmployee,this.spItem.node.width=181,this.spItem.node.height=167,this.lbValue.string="X "+e.amount}},getIconWorldPos:function(){return this.spItem.node.convertToWorldSpaceAR(cc.v2(0,0))},setSelect:function(e){this.spSelect.enabled=e}}),cc._RF.pop()},{}],MainPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"bf28a1JQNNA0qicSUG+a3te","MainPlayer");var i=e("playerData");cc.Class({extends:cc.Component,properties:{fireLevel:0,bulletPrefab:cc.Prefab,bulletGroup:cc.Node,spPlane:cc.Sprite,imgNormalPlane:cc.SpriteFrame,imgSuperPlane:cc.SpriteFrame},start:function(){this.refreshModel(),this.bulletPool=new cc.NodePool,this.fireTime=0,this.fireIndex=0,this.schedule(this.changeWeaponLevel,5)},changeWeaponLevel:function(){this.fireLevel++,this.fireLevel>3&&(this.fireLevel=0),this.fireTime=0,this.fireIndex=0},update:function(e){this.fireUpdate(e)},fireUpdate:function(e){this.fireTime+=e;var t=2;this.fireLevel>2&&(t=this.fireLevel);var n=1/(t+1),i=Math.ceil(this.fireTime/n);i!==this.fireIndex&&(this.fireIndex=i,this.fireBullet())},fireBullet:function(){var e=this.node.position,t=e.y+20,n=this.getBullet();n.getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),n.position=cc.v2(e.x,t);var i=null,r=null;if(0===this.fireLevel);else if(1===this.fireLevel){(i=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),i.setPosition(e.x-20,t),(r=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),r.setPosition(e.x+20,t)}else if(this.fireLevel>=2){(i=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(-10,20,0,1,this,this.weaponLevel),i.setPosition(e.x,t),i.angle=-10,(r=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(10,20,0,1,this,this.weaponLevel),r.setPosition(e.x,t),r.angle=10}},getBullet:function(){var e=null;return(e=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bulletPrefab)).parent=this.bulletGroup,e},putBullet:function(e){this.bulletPool.put(e)},refreshModel:function(){var e=i.getCurrentWeapon();e?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=i.getWeaponLevel(e)):(this.spPlane.spriteFrame=this.imgNormalPlane,this.weaponLevel=0)},equipWeapon:function(e){e?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=i.getWeaponLevel(e)):this.spPlane.spriteFrame=this.imgNormalPlane}}),cc._RF.pop()},{playerData:"playerData"}],PilotItem:[function(e,t,n){"use strict";cc._RF.push(t,"06a8eQlvMtHJo1FnWxVe+sk","PilotItem");var i=e("resourceUtil"),r=e("constants"),o=e("playerData");cc.Class({extends:cc.Component,properties:{spHead:cc.Sprite,txtAdd:cc.Label,hpNode:cc.Node,spFrame:cc.Sprite,spFront:cc.Sprite,spSelect:cc.Sprite,nodeSelect:cc.Node,nodeCurrentFlag:cc.Node},start:function(){},setInfo:function(e,t,n){var a=this;if(this.itemInfo=e,this.pilotPanel=n,this.ownerPage=t,!e)return i.getPilotIcon("unknown",function(e,t){!e&&cc.isValid(a.spHead)&&(a.spHead.spriteFrame=t)}),this.hpNode.active=!1,void(this.nodeCurrentFlag.active=!1);var s=JSON.parse(e.base_describe),c=0,u="white";switch(s.quality){case r.QUALITY.WHITE:c=1,u="white";break;case r.QUALITY.GREEN:c=2,u="green";break;case r.QUALITY.GREEN_1:c=3,u="green";break;case r.QUALITY.GREEN_2:c=4,u="green";break;case r.QUALITY.BLUE:c=5,u="blue";break;case r.QUALITY.PURPLE:c=6,u="purple";break;case r.QUALITY.GOLD:c=7,u="gold"}this.hpNode.active=!0,this.txtAdd.string="+"+c,i.getPilotIcon(s.icon,function(e,t){!e&&cc.isValid(a.spHead)&&(a.spHead.spriteFrame=t)}),i.loadRes("Textures/Frame/"+u+"01",cc.SpriteFrame,function(e,t){!e&&cc.isValid(a.spFrame)&&(a.spFrame.spriteFrame=t)}),i.loadRes("Textures/Frame/"+u+"02",cc.SpriteFrame,function(e,t){!e&&cc.isValid(a.spFront)&&(a.spFront.spriteFrame=t)}),i.loadRes("Textures/Frame/"+u+"03",cc.SpriteFrame,function(e,t){!e&&cc.isValid(a.spSelect)&&(a.spSelect.spriteFrame=t)});var h=o.getCurrentPilotItemId();this.launch(h===this.itemInfo.id)},launch:function(e){this.nodeCurrentFlag.active=e},select:function(e){this.nodeSelect.active=e},onItemClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.itemInfo&&this.pilotPanel.onItemSelect(this.itemInfo.id,this.ownerPage)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],PilotPage:[function(e,t,n){"use strict";cc._RF.push(t,"f4daal2U/pK8KsJYp1OaUQJ","PilotPage");var i=e("playerData"),r=e("constants");cc.Class({extends:cc.Component,properties:{arrItem:[cc.Node],prefabItem:cc.Prefab},ctor:function(){this.arrPilot=[]},start:function(){this.initPage(),this.refreshPage()},initPage:function(){for(var e=0;e<this.arrItem.length;e++){var t=cc.instantiate(this.prefabItem);t.parent=this.node,t.position=this.arrItem[e].position,this.arrPilot.push(t)}},setPageInfo:function(e,t){this.currentPage=e,this.pilotPanel=t},refreshPage:function(){if(!(this.arrPilot.length<=0))for(var e=i.getPilotList(),t=0;t<this.arrPilot.length;t++){var n=this.arrPilot[t].getComponent("PilotItem"),o=this.currentPage*r.PAGE_SIZE+t;o>=e.length?n.setInfo(null,this.currentPage,this.pilotPanel):n.setInfo(e[o],this.currentPage,this.pilotPanel)}},unSelectAll:function(){for(var e=0;e<this.arrPilot.length;e++){this.arrPilot[e].getComponent("PilotItem").select(!1)}},selectByItemId:function(e){for(var t=0;t<this.arrPilot.length;t++){var n=this.arrPilot[t].getComponent("PilotItem");if(n.itemInfo&&n.itemInfo.id===e){n.select(!0);break}}},unLaunchAll:function(){for(var e=0;e<this.arrPilot.length;e++){this.arrPilot[e].getComponent("PilotItem").launch(!1)}},launchByItemId:function(e){for(var t=0;t<this.arrPilot.length;t++){var n=this.arrPilot[t].getComponent("PilotItem");if(n.itemInfo&&n.itemInfo.id===e){n.launch(!0);break}}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData"}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var i=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=i,cc._RF.pop()},{}],Tips:[function(e,t,n){"use strict";cc._RF.push(t,"4968bv/7CpA1ra4cPFcFSFR","Tips"),cc.Class({extends:cc.Component,properties:{lbContent:{type:cc.Label,default:null}},start:function(){},showTips:function(e,t){for(var n=cc.director.getScene(),i=!1,r=0;r<n.children.length;r++){var o=n.children[r];if(o.getComponent(cc.Canvas)){o.addChild(this.node,999),this.node.position=cc.v2(0,100),i=!0;break}}if(i){this.lbContent.string=e;var a,s=cc.delayTime(.8),c=cc.moveBy(.8,cc.v2(0,150)),u=cc.fadeOut(.8);a=t?cc.sequence(s,c,s,u,cc.callFunc(t),cc.removeSelf(!0)):cc.sequence(s,c,s,u,cc.removeSelf(!0)),this.node.runAction(a)}else this.node.destroy()}}),cc._RF.pop()},{}],WeaponItem:[function(e,t,n){"use strict";cc._RF.push(t,"5e7faszlztERqYbMPD9f2Bb","WeaponItem");var i=e("resourceUtil"),r=(e("constants"),e("playerData"));cc.Class({extends:cc.Component,properties:{spHead:cc.Sprite,txtLevel:cc.Label,spFrame:cc.Sprite,spFront:cc.Sprite,spSelect:cc.Sprite,nodeSelect:cc.Node,nodeCurrentFlag:cc.Node,imgWeapon:cc.SpriteFrame},start:function(){},setInfo:function(e,t,n){var o=this;if(this.itemInfo=e,this.weaponPanel=n,this.ownerPage=t,!e)return this.spHead.spriteFrame=null,this.txtLevel.string="",void(this.nodeCurrentFlag.active=!1);var a=r.getWeaponLevel(e),s="white";switch(a){case 1:s="white";break;case 2:s="green";break;case 3:s="blue";break;case 4:s="purple";break;case 5:s="gold"}this.txtLevel.string="lv."+a,this.spHead.spriteFrame=this.imgWeapon,i.loadRes("Textures/Frame/"+s+"01",cc.SpriteFrame,function(e,t){!e&&cc.isValid(o.spFrame)&&(o.spFrame.spriteFrame=t)}),i.loadRes("Textures/Frame/"+s+"02",cc.SpriteFrame,function(e,t){!e&&cc.isValid(o.spFront)&&(o.spFront.spriteFrame=t)}),i.loadRes("Textures/Frame/"+s+"03",cc.SpriteFrame,function(e,t){!e&&cc.isValid(o.spSelect)&&(o.spSelect.spriteFrame=t)});var c=r.getCurrentWeaponItemId();this.launch(c===this.itemInfo.id)},launch:function(e){this.nodeCurrentFlag.active=e},select:function(e){this.nodeSelect.active=e},refresh:function(){var e=r.getWeaponByItemId(this.itemInfo.id);this.setInfo(e,this.ownerPage,this.weaponPanel)},onItemClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.itemInfo&&this.weaponPanel.onItemSelect(this.itemInfo.id,this.ownerPage)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],WeaponPage:[function(e,t,n){"use strict";cc._RF.push(t,"c074eEf0K9Bua4RqYFnx+ke","WeaponPage");var i=e("playerData"),r=e("constants");cc.Class({extends:cc.Component,properties:{arrItem:[cc.Node],prefabItem:cc.Prefab},ctor:function(){this.arrWeapon=[]},start:function(){this.initPage(),this.refreshPage()},initPage:function(){for(var e=0;e<this.arrItem.length;e++){var t=cc.instantiate(this.prefabItem);t.parent=this.node,t.position=this.arrItem[e].position,this.arrWeapon.push(t)}},setPageInfo:function(e,t){this.currentPage=e,this.weaponPanel=t},refreshPage:function(){if(!(this.arrWeapon.length<=0))for(var e=i.getWeaponList(),t=0;t<this.arrWeapon.length;t++){var n=this.arrWeapon[t].getComponent("WeaponItem"),o=this.currentPage*r.WEAPON_PAGE_SIZE+t;o>=e.length?n.setInfo(null,this.currentPage,this.weaponPanel):n.setInfo(e[o],this.currentPage,this.weaponPanel)}},unSelectAll:function(){for(var e=0;e<this.arrWeapon.length;e++){this.arrWeapon[e].getComponent("WeaponItem").select(!1)}},selectByItemId:function(e){for(var t=0;t<this.arrWeapon.length;t++){var n=this.arrWeapon[t].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===e){n.select(!0);break}}},unLaunchAll:function(){for(var e=0;e<this.arrWeapon.length;e++){this.arrWeapon[e].getComponent("WeaponItem").launch(!1)}},launchByItemId:function(e){for(var t=0;t<this.arrWeapon.length;t++){var n=this.arrWeapon[t].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===e){n.launch(!0);break}}},refreshByItemId:function(e){for(var t=0;t<this.arrWeapon.length;t++){var n=this.arrWeapon[t].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===e){n.refresh();break}}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData"}],audioManager:[function(e,t,n){"use strict";cc._RF.push(t,"e1533SBS+BHUYiuj9rQhh9D","audioManager");var i=e("configuration"),r=e("resourceUtil"),o=new(cc.Class({properties:{musicVolume:1,soundVolume:1},onLoad:function(){this.audios={},this.musicVolume=this.getConfiguration(!0)?1:.001,this.soundVolume=this.getConfiguration(!1)?1:.001},playMusic:function(e,t){this.play(e,t,!0)},playSound:function(e,t){this.play(e,t,!1)},play:function(e,t,n){var i=this,o=this.audios[e];if(o&&(o.isManualStop=!1),o){if(this.isAudioStarting(o.audioId)&&n)return;this.playClip(e,n)}else{var a="audios/";a+=n?"music/":"sound/",r.loadRes(a+e,cc.AudioClip,function(r,o){var a={};a.clip=o,a.loop=t,a.isMusic=n,i.audios[e]=a,i.playClip(e,n)})}},playClip:function(e,t){var n=this.audios[e];if("number"==typeof n.audioId&&(cc.audioEngine.getState(n.audioId)===cc.audioEngine.AudioState.PLAYING&&n.loop))return;var i=this.musicVolume;t||(i=this.soundVolume);var r=cc.audioEngine.play(n.clip,n.loop,i);n.audioId=r},stop:function(e){if(this.audios.hasOwnProperty(e)){var t=this.audios[e].audioId;void 0!==t&&cc.audioEngine.stop(t),this.audios[e].isManualStop=!0}},setMusic:function(e){for(var t in this.musicVolume=e,this.audios)if(this.audios.hasOwnProperty(t)&&this.audios[t].isMusic){var n=this.audios[t];this.setVolume(n.audioId,this.musicVolume)}},openMusic:function(){this.setMusic(1),i.setGlobalData("music","true")},closeMusic:function(){this.setMusic(.001),i.setGlobalData("music","false")},openSound:function(){this.setSound(1),i.setGlobalData("sound","true")},closeSound:function(){this.setSound(.001),i.setGlobalData("sound","false")},setSound:function(e){for(var t in this.soundVolume=e,this.audios)if(this.audios.hasOwnProperty(t)&&!this.audios[t].isMusic){var n=this.audios[t];this.setVolume(n.audioId,this.soundVolume)}},changeState:function(e,t){var n=this.audios[e];if(t&&n.loop&&!n.isManualStop){if("number"==typeof n.audioId&&this.isAudioStarting(n.audioId))return;this.playClip(e)}else t||"number"==typeof n.audioId&&this.isAudioStarting(n.audioId)&&cc.audioEngine.stop(n.audioId)},getConfiguration:function(e){var t=void 0;return!(t=e?i.getGlobalData("music"):i.getGlobalData("sound"))||"true"===t},isAudioStarting:function(e){var t=!1;if("number"==typeof e){var n=cc.audioEngine.getState(e);t=n===cc.audioEngine.AudioState.PLAYING||n===cc.audioEngine.AudioState.INITIALZING,cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME&&(t=t||n===cc.audioEngine.AudioState.PAUSED)}return t},setVolume:function(e,t){var n=cc.audioEngine.getState(e);console.log("### audioId "+e+" state is: "+n),cc.audioEngine.setVolume(e,t)}}));o.onLoad(),t.exports=o,cc._RF.pop()},{configuration:"configuration",resourceUtil:"resourceUtil"}],bcxAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"97258OmOcZEJIes7LV/pGyQ","bcxAdapter");var i=e("playerData"),r=e("constants"),o="http://ccshooter.oriongaming.club:16530";cc.game.config.debugMode===cc.debug.DebugMode.INFO&&(o="http://127.0.0.1:3000"),console.log(">>>>>>>>cc.game.config.debugMode="+cc.game.config.debugMode),console.log(">>>>>>>>SERVER_URL="+o),e("./core.min"),e("./plugins.min");var a=new(cc.Class({start:function(){if(window.BcxWeb)this.bcl=window.BcxWeb&&window.BcxWeb.BCX?window.BcxWeb.BCX:window.BcxWeb;else{this.bcl=new BCX({ws_node_list:[{url:"ws://39.106.126.54:8049",name:"COCOS3.0\u8282\u70b92"}],networks:[{core_asset:"COCOS",chain_id:"b9e7cee4709ddaf08e3b7cba63b71c211c845e37c9bf2b865a7b2a592c8adb28"}],faucetUrl:"http://47.93.62.96:8041",auto_reconnect:!0,worker:!1,real_sub:!0,check_cached_nodes_data:!0})}},initSDK:function(e){this.isLoginBcl=!1,this.account=null,this.userId=null,this.privateKey=null,this.contractName="contract.ccshooter.lottery",this.upgradeContract="contract.ccshooter.upgrade",e&&e()},isLogin:function(){return this.isLoginBcl},loginWithAccount:function(e,t,n){},logout:function(e){this.bcl.logout({callback:function(t){console.info("logout res",t),e&&(1===t.code?e(null,t):e(t.message,t))}})},loginWithPrivateKey:function(e,t){},login:function(e){if(window.BcxWeb)this.bcl?(console.info("account_name==",this.bcl.account_name),i.account=this.bcl.account_name,e&&e(null)):e&&e("\u767b\u5f55\u5931\u8d25");else{var t=this;Cocosjs.plugins(new CocosBCX),Cocosjs.cocos.connect("My-App").then(function(n){if(!n)return!1;var r=Cocosjs.cocos;t.bcl=r.cocosBcx(t.bcl),t.bcl.getAccountInfo().then(function(n){console.log("res.account_name=="+n.account_name),t.bcl.account_name=n.account_name,i.account=n.account_name,e&&e(null)}).catch(function(t){e&&e("\u767b\u5f55\u5931\u8d25")})})}},signUp:function(e,t,n){this.bcl.createAccountWithPassword({account:e,password:t,autoLogin:!0,callback:function(e){1===e.code?(i.account=e.data.account_name,i.userId=e.data.account_id,n&&n(null,e)):n&&n(e.message,e)}})},deleteWallet:function(){this.bcl.deleteWallet({callback:function(e){console.info("deleteWallet res",e)}})},getAccounts:function(e){this.bcl.getAccounts({callback:function(t){console.info("getAccounts res",t),e&&(1===t.code?e(null,t):e(t.message,t))}})},getPrivateKey:function(e){this.bcl.getPrivateKey({callback:function(t){e&&(1===t.code?(i.privateKey=t.data.active_private_key,e(null,t)):e(t.message,t))}})},getBalance:function(e){this.getBalanceByAccount(i.account,function(t,n){t||(i.gold=n.data.COCOS),e(t,n)})},getBalanceByAccount:function(e,t){this.bcl.queryAccountBalances({assetId_or_symbol:"COCOS",account:e,callback:function(e){console.info("res",e),-25!==e.code&&125!==e.code||(e.code=1,e.data.COCOS=0),1===e.code?t&&t(null,e):t&&t(e.message,e)}})},getItems:function(e){this.bcl.queryAccountNHAssets({account:i.account,versions:["CCShooter"],page:1,pageSize:1e3,callback:function(t){console.log(t),1===t.code?(i.goods=t.data,e(null,t)):e(t.message,t)}})},deleteItem:function(e,t){this.bcl.deleteNHAsset({NHAssetIds:e,callback:function(e){console.log(e),t(e)}})},requestWithGet:function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&i.status>=200&&i.status<400&&t.apply(n,[i.responseText])},i.open("GET",e,!0),i.send()},requestWithPost:function(e,t,n,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&r.status>=200&&r.status<400&&n.apply(i,[r.responseText])},r.open("POST",e,!0),r.send(t)},transferToDeveloper:function(e,t,n){this.bcl.transferAsset({fromAccount:i.account,toAccount:"ccshooter",amount:e,assetId:"COCOS",memo:t,onlyGetFee:!1}).then(function(e){console.log("transferToDeveloper=="+JSON.stringify(e)),1===e.code?n(null,e):n(e.message,e)}).catch(function(e){console.log("transferToDeveloper=="+JSON.stringify(e))})},queryContract:function(e,t){this.bcl.queryContract({nameOrId:e,callback:function(e){1===e.code?t(null,e):t(e.message,e)}})},lottery:function(e){this.bcl.callContractFunction({nameOrId:this.contractName,functionName:"draw",valueList:[i.account,100]}).then(function(t){console.info("draw res=",t),1===t.code?e(null,t):e(t.message,t)}).catch(function(e){console.info("draw lottery error=",JSON.stringify(e))})},transferToPlayer:function(e,t,n){var r=o+"/bcl/money?to="+i.account+"&token="+e+"&comment="+t;this.requestWithGet(r,function(e){n(e)},this)},reqStartGame:function(e){this.transferToDeveloper(r.START_GAME_CONSUME,"newGame",function(t,n){e(t,n)})},reqRelife:function(e){this.transferToDeveloper(i.relifeCost,"resurrection",function(t,n){e(t,n)})},reqCreateBomb:function(e){var t=o+"/bcl/bomb/"+i.account;console.log(">>>>>>>>SERVER_URL=="+o),this.requestWithGet(t,function(t){if(e){var n=JSON.parse(t);200===n.code?e(null,n):e(n.statusText,n)}},this)},reqDestroyBomb:function(e,t){i.removeGoodItem(e),this.deleteItem([e],function(e){console.log(e),1===e.code?t(null,e):t(e.message,e)})},creatGameItemOrder:function(e,t,n,i,r,o){this.bcl.creatNHAssetOrder({otcAccount:"ccshooter",orderFee:i,NHAssetId:e,price:t,priceAssetId:"COCOS",expiration:n,memo:r,callback:function(e){console.info("creatNHAssetOrder result",e),o&&(1===e.code?o(null,e):o(e.message,e))}})},cancelGameItemOrder:function(e,t){this.bcl.cancelNHAssetOrder({orderId:e,callback:function(e){console.info("cancelNHAssetOrder res",e),t&&(1===e.code?t(null,e):t(e.message,e))}})},queryAccountGameItemOrders:function(e){this.bcl.queryAccountNHAssetOrders({account:i.account,pageSize:100,page:1,callback:function(t){console.info("res",t),1===t.code?(i.goodsSelling=t.data,e&&e(null,t)):e&&e(t.message,t)}})},queryGameItemInfo:function(e,t){this.bcl.queryNHAssets({NHAssetHashOrIds:e,callback:function(e){console.info("queryGameItemInfo res",e),1===e.code?t(null,e):t(e.message,e)}})},upgradeWeapon:function(e,t){console.info("upgradeWeapon==-",i.getWeaponLevelById(e)),console.info("weaponId==-",e),this.bcl.callContractFunction({nameOrId:this.upgradeContract,functionName:"equipment_upgrade",valueList:[e,i.getWeaponLevelById(e)],callback:function(e){}}).then(function(e){console.info("upgrade res",JSON.stringify(e)),t&&(1===e.code?t(null,e):t(e.message,e))}).catch(function(e){console.info("upgradeWeapon error-==",JSON.stringify(e))})},isPC:function(){var e=navigator.userAgent,t=!0,n=!0,i=!1,r=void 0;try{for(var o,a=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(e.indexOf(s)>0){t=!1;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}}));a.start(),t.exports=a,cc._RF.pop()},{"./core.min":"core.min","./plugins.min":"plugins.min",constants:"constants",playerData:"playerData"}],clientEvent:[function(e,t,n){"use strict";cc._RF.push(t,"dc57f0OuY5Gm50YkWgW0d64","clientEvent");var i=e("eventListener").getBaseClass("multi"),r=new(cc.Class({extends:i,properties:{},onLoad:function(){this._EVENT_TYPE=["testEvent","onAppShow","onNetworkConnect","hideNetLoading","showNetLoading","showWaiting","hideWaiting","showSharedDialog","hideSharedDialog","showTips","showGetMoneyTips","activeScene","pushToPopupSeq","popFromPopupSeq","onSomeoneJoined","onSomeoneLeft","onSomeoneEmit","onSomeoneBet","onSomeoneReady","onDiceResult","updateMoney","updateRound","submitShareResult"],this.setSupportEventList(this._EVENT_TYPE)}}));r.onLoad(),t.exports=r,cc._RF.pop()},{eventListener:"eventListener"}],configuration:[function(e,t,n){"use strict";cc._RF.push(t,"b8491owJHhCbri6DGtXnEEg","configuration");var i=e("utils"),r=new(cc.Class({onLoad:function(){var e,t=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),cc.sys.isNative)?e=jsb.fileUtils.getValueMapFromFile(this.path).PlaneConfig:e=cc.sys.localStorage.getItem("PlaneConfig");if(e&&e.length){e.startsWith("@")&&(e=e.substring(1),e=i.decrypt(e));try{var n=JSON.parse(e);this.jsonData=n,console.log(">>>>>>>>>>>>>>content=="+JSON.stringify(n))}catch(e){}}this.markSave=!1,this.saveTimer=setInterval(function(){t.scheduleSave()},500)},setConfigDataWithoutSave:function(e,t){var n=this.jsonData.userId;this.jsonData[n]?this.jsonData[n][e]=t:console.error("no account can not save")},setConfigData:function(e,t){this.setConfigDataWithoutSave(e,t),this.markSave=!0},getConfigData:function(e){var t=this.jsonData.userId;if(this.jsonData[t]){var n=this.jsonData[t][e];return n||""}return cc.log("no account can not load"),""},setGlobalData:function(e,t){this.jsonData[e]=t,this.save()},getGlobalData:function(e){return this.jsonData[e]},setUserId:function(e){this.jsonData.userId=e,this.jsonData[e]||(this.jsonData[e]={}),this.save()},getUserId:function(){return this.jsonData.userId},scheduleSave:function(){this.markSave&&this.save()},markModified:function(){this.markSave=!0},save:function(){var e=JSON.stringify(this.jsonData),t="@"+i.encrypt(e);if(this.markSave=!1,cc.sys.isNative){var n={};n.PlaneConfig=t,jsb.fileUtils.writeToFile(n,r.path)}else{cc.sys.localStorage.setItem("PlaneConfig",t)}},getConfigPath:function(){var e=cc.sys,t="";return e===cc.sys.OS_WINDOWS?t="src/conf":e===cc.sys.OS_LINUX?t="./conf":cc.sys.isNative?(t=jsb.fileUtils.getWritablePath(),t+="conf"):t="src/conf",t},parseUrl:function(e){if(e&&!("string"==typeof e&&e.length<=0)){var t={};if("string"==typeof e)(e=e.split("?")[1]).split("&").forEach(function(e){var n=e.indexOf("=");if(-1!==n){var i=e.substring(0,n);t[i]=e.substring(n+1)}});else t=e;t.action&&this.setGlobalData("urlParams",t),t.source&&this.setGlobalData("source",t.source),t.adchannelid&&this.setGlobalData("adchannelid",t.adchannelid)}}}));r.onLoad(),t.exports=r,cc._RF.pop()},{utils:"utils"}],constants:[function(e,t,n){"use strict";cc._RF.push(t,"9b990nr/YxFFZ61VmdiTGDE","constants"),t.exports={DATA_KEY:{SOUND:"sound",ACCOUNT:"account",PASSWORD:"password",WEAPON:"weapon",PILOT:"pilot",CURRENT_WEAPON:"currentWeapon"},FIGHT_EVENT:{UPDATE_SCORE:"updateScore",UPDATE_LIFE:"updateLife",UPDATE_CANDY:"updateCandy",UPDATE_TOUCH_POS:"updateTouchPos",UPDATE_BOMB:"updateBomb",RELEASE_BOMB:"releaseBomb"},ITEM_TYPE:{BULLET_LEVEL:0,FOLLOW_NUM:1,BGold:2,CANDY:3,LIFE_UP:4,BOMB:5},isDeBug:!0,URL_DEBUG:"http://think.waitmeby.top/",URL_RELEASE:"http://shooter-admin.candy.one/",URL_LOCAL:"http://192.168.0.89/",PROTOCOL:{NEW_GAME:"froggame",SUBMIT_GAME_INFO:"submitGameInfoFromH5",GET_RANKING:"getRankingList",BUY_TIMES:"buyTimes",IS_REVIVE:"isrevive",NOTICE:"notice"},ZORDER:{DRAW_RESULT:80,DIALOG:100,REWARD:900,WAITING:998,TIPS:999},candyNumSum:150,BGoldNumSum:100,START_GAME_CONSUME:10,PAGE_SIZE:11,WEAPON_PAGE_SIZE:7,WEAPON_MAX_LEVEL:5,BOMB_KEY:"bomb",WEAPON_KEY:"weapon",PILOT:"Employee",ERROR_STR:{ERR00018:"sorry, you need more candy.",ERR0019:"sorry, you need more candy.",ERR0007:"unknown error, don\u2019t worry we can\u2019t cost your candy."},QUALITY:{WHITE:0,GREEN:10,GREEN_1:11,GREEN_2:12,BLUE:20,PURPLE:30,GOLD:40}},cc._RF.pop()},{}],"core.min":[function(e,t,n){"use strict";cc._RF.push(t,"d17fdO4dGdKeZ0KncmF6wpb","core.min");var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(r,o){try{var a=t[r](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}("next")})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":o(e))&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var i=n(8),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t,n){var i=n(7),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(5);o.inherits=n(0);var a=n(16),s=n(11);o.inherits(l,a);for(var c=r(s.prototype),u=0;u<c.length;u++){var h=c[u];l.prototype[h]||(l.prototype[h]=s.prototype[h])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){var i=n(1).Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%r,u=Math.min(o-s,r-c),h=0;h<u;h++)n[c+h]=e[s+h];s+=u,(a+=u)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==(void 0===e?"undefined":o(e))},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==(void 0===e?"undefined":o(e))&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(void 0===e?"undefined":o(e))||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(8).Buffer)},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!h){var e=s(f);h=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(6))},function(e,t,n){(function(e){var i=n(28),r=n(29),o=n(14);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(t,n),r=(e=s(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(h(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return j(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){l=!1;break}if(l)return o}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,i){return W(j(t,e.length-n),e,n,i)}function w(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function _(e,t,n,i){return w(e,t,n,i)}function S(e,t,n,i){return W(Y(t),e,n,i)}function E(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function P(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,u=e[r],h=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=l}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=C));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return h(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),h=e.slice(t,n),l=0;l<s;++l)if(u[l]!==h[l]){o=u[l],a=h[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function R(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function B(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function O(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,i,o){return o||O(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return o||O(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||x(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||x(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:j(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(2))},function(e,t,n){var i,r="object"==("undefined"==typeof Reflect?"undefined":o(Reflect))?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function h(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,n,i){var r,a,s,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===n?"undefined":o(n)));if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=h(e))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)a(c,this,t);else{var u=c.length,h=g(c,u);for(n=0;n<u;++n)a(h[n],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":o(t)));return this.on(e,f(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":o(t)));return this.prependListener(e,f(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,i,r,a,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":o(t)));if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},c.prototype.listeners=function(e){return p(this,e,!0)},c.prototype.rawListeners=function(e){return p(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},c.prototype.listenerCount=d,c.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){(t=e.exports=n(16)).Stream=t,t.Readable=t,t.Writable=n(11),t.Duplex=n(3),t.Transform=n(19),t.PassThrough=n(36)},function(e,t,n){(function(t,i,r){var o=n(7);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(void 0),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick;v.WritableState=y;var u=n(5);u.inherits=n(0);var h,l={deprecate:n(35)},f=n(17),p=n(1).Buffer,d=r.Uint8Array||function(){},g=n(18);function m(){}function y(e,t){s=s||n(3),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(o.nextTick(r,i),o.nextTick(P,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),P(e,t))}(e,n,i,t,r);else{var a=S(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),i?c(w,e,n,a,r):w(e,n,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||n(3),!(h.call(v,this)||this instanceof s))return new v(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function w(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,b(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,l=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,h,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),P(e,t)})}function P(e,t){var n=S(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(v,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===v&&e&&e._writableState instanceof y}})):h=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=e,p.isBuffer(i)||i instanceof d);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=m),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n)),t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,i,r,o);return c}(this,r,s,e,t,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(6),n(33).setImmediate,n(2))},function(e,t,n){var i=n(1).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=h,this.end=l,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=a(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=a(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var i=n(1).Buffer,r=n(15).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(0)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=r;var i=n(9).EventEmitter;function r(){i.call(this)}n(0)(r,i),r.Readable=n(10),r.Writable=n(37),r.Duplex=n(38),r.Transform=n(39),r.PassThrough=n(40),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(h(),0===i.listenerCount(this,"error"))throw e}function h(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return n.on("error",u),e.on("error",u),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e}},function(e,t,n){(function(t,i){var r=n(7);e.exports=b;var o,a=n(14);b.ReadableState=v,n(9).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(17),u=n(1).Buffer,h=t.Uint8Array||function(){},l=n(5);l.inherits=n(0);var f=n(30),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n(31),m=n(18);l.inherits(b,c);var y=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var i=t instanceof(o=o||n(3));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(12).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(3),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,i,r){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,P(e)}}(e,a)):(r||(o=function(e,t){var n,i;return i=t,u.isBuffer(i)||i instanceof h||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),i?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):C(e,a)):_(e,a,t,!1))):i||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&P(e)),C(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=n(12).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(I,e):I(e))}function I(e){p("emit readable"),e.emit("readable"),R(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){p("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=u.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function F(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):P(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&x(this),null;var i,r=t.needReadable;return p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",r=!0),t.ended||t.reading?p("reading or ended",r=!1):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(i=e>0?L(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var c=t&&!1===t.end||e===i.stdout||e===i.stderr?v:u;function u(){p("onend"),e.end()}o.endEmitted?r.nextTick(c):n.once("end",c),e.on("unpipe",function t(i,r){p("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",d),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())});var h=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",h);var l=!1,f=!1;function d(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!l&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){p("onerror",t),v(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),v()}function y(){p("onfinish"),e.removeListener("close",m),v()}function v(){p("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",y),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=F(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&P(this):r.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(k,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){p("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=L}).call(this,n(2),n(6))},function(e,t,n){e.exports=n(9).EventEmitter},function(e,t,n){var i=n(7);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){e.exports=o;var i=n(3),r=n(5);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(0),r.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var i=n(0),r=n(4),o=n(1).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function h(e,t,n){return e&t|n&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(c,r),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)n[y]=e.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((t=n[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[y-7]+p(n[y-15])+n[y-16];for(var v=0;v<64;++v){var b=m+f(c)+u(c,d,g)+a[v]+n[v]|0,w=l(i)+h(i,r,o)|0;m=g,g=d,d=c,c=s+b|0,s=o,o=r,r=i,i=b+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,n){var i=n(0),r=n(4),o=n(1).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,r.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function h(e,t,n){return e&t|n&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}i(c,r),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,v=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,P=0|this._el,I=0|this._fl,C=0|this._gl,T=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var k=t[A-30],R=t[A-30+1],L=p(k,R),x=d(R,k),B=g(k=t[A-4],R=t[A-4+1]),F=m(R,k),O=t[A-14],M=t[A-14+1],N=t[A-32],D=t[A-32+1],U=x+M|0,j=L+O+y(U,x)|0;j=(j=j+B+y(U=U+F|0,F)|0)+N+y(U=U+D|0,D)|0,t[A]=j,t[A+1]=U}for(var Y=0;Y<160;Y+=2){j=t[Y],U=t[Y+1];var W=h(n,i,r),G=h(w,_,S),q=l(n,w),z=l(w,n),H=f(s,P),V=f(P,s),K=a[Y],J=a[Y+1],Q=u(s,c,v),X=u(P,I,C),Z=T+V|0,$=b+H+y(Z,T)|0;$=($=($=$+Q+y(Z=Z+X|0,X)|0)+K+y(Z=Z+J|0,J)|0)+j+y(Z=Z+U|0,U)|0;var ee=z+G|0,te=q+W+y(ee,z)|0;b=v,T=C,v=c,C=I,c=s,I=P,s=o+$+y(P=E+Z|0,E)|0,o=r,E=S,r=i,S=_,i=n,_=w,n=$+te+y(w=Z+ee|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+P|0,this._fl=this._fl+I|0,this._gl=this._gl+C|0,this._hl=this._hl+T|0,this._ah=this._ah+n+y(this._al,w)|0,this._bh=this._bh+i+y(this._bl,_)|0,this._ch=this._ch+r+y(this._cl,S)|0,this._dh=this._dh+o+y(this._dl,E)|0,this._eh=this._eh+s+y(this._el,P)|0,this._fh=this._fh+c+y(this._fl,I)|0,this._gh=this._gh+v+y(this._gl,C)|0,this._hh=this._hh+b+y(this._hl,T)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,n){var i=n(25),r=n(26);e.exports=function(e){if(i.crypto&&i.crypto.getRandomValues)return i.crypto.getRandomValues(e);if("object"==o(i.msCrypto)&&"function"==typeof i.msCrypto.getRandomValues)return i.msCrypto.getRandomValues(e);if(r.randomBytes){if(!(e instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(e.length>65536){var t=new Error;throw t.code=22,t.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+e.length+") exceeds the number of bytes of entropy available via this API (65536).",t.name="QuotaExceededError",t}var n=r.randomBytes(e.length);return e.set(n),e}throw new Error("No secure random number generator available.")}},function(e,t,n){var i=n(0),r=n(27),o=n(41),a=n(42),s=n(47);function c(e){s.call(this,"digest"),this._hash=e}i(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},function(e,t,n){(function(t){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==t?n=t.WebSocket||t.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),e.exports=n}).call(this,n(2))},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(2))},function(e,t){},function(e,t,n){var i=n(0),r=n(13),o=n(1).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,n,i,r,o,a){return c(e+(t&n|~t&i)+r+o|0,a)+t|0}function h(e,t,n,i,r,o,a){return c(e+(t&i|n&~i)+r+o|0,a)+t|0}function l(e,t,n,i,r,o,a){return c(e+(t^n^i)+r+o|0,a)+t|0}function f(e,t,n,i,r,o,a){return c(e+(n^(t|~i))+r+o|0,a)+t|0}i(s,r),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=f(n=l(n=l(n=l(n=l(n=h(n=h(n=h(n=h(n=u(n=u(n=u(n=u(n,i,r,o,e[0],3614090360,7),i=u(i,r=u(r,o=u(o,n,i,r,e[1],3905402710,12),n,i,e[2],606105819,17),o,n,e[3],3250441966,22),r,o,e[4],4118548399,7),i=u(i,r=u(r,o=u(o,n,i,r,e[5],1200080426,12),n,i,e[6],2821735955,17),o,n,e[7],4249261313,22),r,o,e[8],1770035416,7),i=u(i,r=u(r,o=u(o,n,i,r,e[9],2336552879,12),n,i,e[10],4294925233,17),o,n,e[11],2304563134,22),r,o,e[12],1804603682,7),i=u(i,r=u(r,o=u(o,n,i,r,e[13],4254626195,12),n,i,e[14],2792965006,17),o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),i=h(i,r=h(r,o=h(o,n,i,r,e[6],3225465664,9),n,i,e[11],643717713,14),o,n,e[0],3921069994,20),r,o,e[5],3593408605,5),i=h(i,r=h(r,o=h(o,n,i,r,e[10],38016083,9),n,i,e[15],3634488961,14),o,n,e[4],3889429448,20),r,o,e[9],568446438,5),i=h(i,r=h(r,o=h(o,n,i,r,e[14],3275163606,9),n,i,e[3],4107603335,14),o,n,e[8],1163531501,20),r,o,e[13],2850285829,5),i=h(i,r=h(r,o=h(o,n,i,r,e[2],4243563512,9),n,i,e[7],1735328473,14),o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),i=l(i,r=l(r,o=l(o,n,i,r,e[8],2272392833,11),n,i,e[11],1839030562,16),o,n,e[14],4259657740,23),r,o,e[1],2763975236,4),i=l(i,r=l(r,o=l(o,n,i,r,e[4],1272893353,11),n,i,e[7],4139469664,16),o,n,e[10],3200236656,23),r,o,e[13],681279174,4),i=l(i,r=l(r,o=l(o,n,i,r,e[0],3936430074,11),n,i,e[3],3572445317,16),o,n,e[6],76029189,23),r,o,e[9],3654602809,4),i=l(i,r=l(r,o=l(o,n,i,r,e[12],3873151461,11),n,i,e[15],530742520,16),o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),i=f(i=f(i=f(i=f(i,r=f(r,o=f(o,n,i,r,e[7],1126891415,10),n,i,e[14],2878612391,15),o,n,e[5],4237533241,21),r=f(r,o=f(o,n=f(n,i,r,o,e[12],1700485571,6),i,r,e[3],2399980690,10),n,i,e[10],4293915773,15),o,n,e[1],2240044497,21),r=f(r,o=f(o,n=f(n,i,r,o,e[8],1873313359,6),i,r,e[15],4264355552,10),n,i,e[6],2734768916,15),o,n,e[13],1309151649,21),r=f(r,o=f(o,n=f(n,i,r,o,e[4],4149444226,6),i,r,e[11],3174756917,10),n,i,e[2],718787259,15),o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=u(e),i=n[0],a=n[1],s=new o(3*(i+a)/4-a),c=0,h=a>0?i-4:i,l=0;l<h;l+=4)t=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===a&&(t=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,s[c++]=255&t),1===a&&(t=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(h(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function h(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,h=-7,l=n?r-1:0,f=n?-1:1,p=e[t+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+e[t+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,u=8*o-r-1,h=(1<<u)-1,l=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(t*c-1)*Math.pow(2,r),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=d,a/=256,u-=8);e[n+p-d]|=128*g}},function(e,t){},function(e,t,n){var i=n(1).Buffer,r=n(32);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=r,n=a,o.data.copy(t,n),a+=o.data.length,o=o.next;return r},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(34),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var i,r,o,a,s,c=1,u={},h=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){d(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},i=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,i=function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(d,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,i(c),c++},f.clearImmediate=p}function p(e){delete u[e]}function d(e){if(h)setTimeout(d,0,e);else{var t=u[e];if(t){h=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{p(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(6))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=o;var i=n(19),r=n(5);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(0),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(11)},function(e,t,n){e.exports=n(3)},function(e,t,n){e.exports=n(10).Transform},function(e,t,n){e.exports=n(10).PassThrough},function(e,t,n){var i=n(8).Buffer,r=n(0),o=n(13),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(e,t){return e<<t|e>>>32-t}function g(e,t,n,i,r,o,a,s){return d(e+(t^n^i)+o+a|0,s)+r|0}function m(e,t,n,i,r,o,a,s){return d(e+(t&n|~t&i)+o+a|0,s)+r|0}function y(e,t,n,i,r,o,a,s){return d(e+((t|~n)^i)+o+a|0,s)+r|0}function v(e,t,n,i,r,o,a,s){return d(e+(t&i|n&~i)+o+a|0,s)+r|0}function b(e,t,n,i,r,o,a,s){return d(e+(t^(n|~i))+o+a|0,s)+r|0}r(p,o),p.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,p=0|this._e,w=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,P=0|this._e,I=0;I<80;I+=1){var C,T;I<16?(C=g(n,i,r,o,p,e[s[I]],l[0],u[I]),T=b(w,_,S,E,P,e[c[I]],f[0],h[I])):I<32?(C=m(n,i,r,o,p,e[s[I]],l[1],u[I]),T=v(w,_,S,E,P,e[c[I]],f[1],h[I])):I<48?(C=y(n,i,r,o,p,e[s[I]],l[2],u[I]),T=y(w,_,S,E,P,e[c[I]],f[2],h[I])):I<64?(C=v(n,i,r,o,p,e[s[I]],l[3],u[I]),T=m(w,_,S,E,P,e[c[I]],f[3],h[I])):(C=b(n,i,r,o,p,e[s[I]],l[4],u[I]),T=g(w,_,S,E,P,e[c[I]],f[4],h[I])),n=p,p=o,o=d(r,10),r=i,i=C,w=P,P=E,E=d(S,10),S=_,_=T}var A=this._b+r+E|0;this._b=this._c+o+P|0,this._c=this._d+p+w|0,this._d=this._e+n+_|0,this._e=this._a+i+S|0,this._a=A},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(43),t.sha1=n(44),t.sha224=n(45),t.sha256=n(20),t.sha384=n(46),t.sha512=n(21)},function(e,t,n){var i=n(0),r=n(4),o=n(1).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e){return e<<30|e>>>2}function h(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,l=0;l<16;++l)n[l]=e.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var f=0;f<80;++f){var p=~~(f/20),d=0|((t=i)<<5|t>>>27)+h(p,r,o,s)+c+n[f]+a[p];c=s,s=o,o=u(r),r=i,i=d}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var i=n(0),r=n(4),o=n(1).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function l(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var p=0;p<80;++p){var d=~~(p/20),g=u(i)+l(d,r,o,s)+c+n[p]+a[d]|0;c=s,s=o,o=h(r),r=i,i=g}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var i=n(0),r=n(20),o=n(4),a=n(1).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}i(c,r),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,n){var i=n(0),r=n(21),o=n(4),a=n(1).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}i(c,r),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,n){var i=n(1).Buffer,r=n(15).Transform,o=n(12).StringDecoder;function a(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(0)(a,r),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=a},function(e,t,n){var l,f=this;n.r(t);var p={};n.r(p),n.d(p,"BLOCKCHAIN_SUPPORT",function(){return d}),n.d(p,"WALLET_SUPPORT",function(){return g});var d="blockchain_support",g="wallet_support",m=new(function(){function e(){h(this,e),this.plugins=[]}return r(e,[{key:"loadPlugin",value:function(e){this.plugin(e.name)||this.plugins.push(e)}},{key:"wallets",value:function(){return this.plugins.filter(function(e){return e.type===g})}},{key:"signatureProviders",value:function(){return this.plugins.filter(function(e){return e.type===d})}},{key:"supportedBlockchains",value:function(){return this.signatureProviders().map(function(e){return name})}},{key:"plugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"endorsedNetworks",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.signatureProviders().map(function(){var e=u(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getEndorsedNetwork();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),y={},v=function(){return"undefined"!=typeof window?window:{localStorage:{setItem:function(e,t){return y[e]=t},getItem:function(e){return y[e]||null},removeItem:function(e){return delete y[e]}}}},b=function(){function e(){h(this,e)}return r(e,null,[{key:"setAppKey",value:function(e){v().localStorage.setItem("appkey",e)}},{key:"getAppKey",value:function(){return v().localStorage.getItem("appkey")}},{key:"removeAppKey",value:function(){return v().localStorage.removeItem("appkey")}},{key:"setNonce",value:function(e){v().localStorage.setItem("nonce",e)}},{key:"getNonce",value:function(){return v().localStorage.getItem("nonce")}},{key:"removeNonce",value:function(){return v().localStorage.removeItem("nonce")}}]),e}(),w=n(22),_=n.n(w),S=n(23),E=n.n(S),P=n(24),I=n.n(P),C=void 0,T=null,A=!1,k=!1,R=[],L=function(e){return E()("sha256").update(e).digest("hex")},x=function(){var e=new Uint8Array(24);return _()(e),e.join("")},B=function(){var e=void 0;return"www."===(e="undefined"!=typeof location&&location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:C).substr(0,4)&&(e=e.replace("www.","")),e},F=b.getAppKey();F||(F="appkey:"+x());var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e&&null===t?T.send("40/Cocos-BCX"):T.send("42/Cocos-BCX,"+JSON.stringify([e,t]))},M=null,N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t,n){M={resolve:t,reject:n},O("pair",{data:{appkey:F,origin:B(),passthrough:e},plugin:C})})},D={},U=function(){function e(){h(this,e)}return r(e,null,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e5;C=e,this.timeout=t}},{key:"getOrigin",value:function(){return B()}},{key:"addEventHandler",value:function(e,t){t||(t="app"),D[t]=e}},{key:"removeEventHandler",value:function(e){e||(e="app"),delete D[e]}},{key:"link",value:function(){var e=this;return Promise.race([new Promise(function(t,n){return setTimeout(function(){A||(t(!1),T&&(T.disconnect(),T=null))},e.timeout)}),new Promise(function(){var t=u(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=void 0;e||(t=new Promise(function(t){return e=t}));var r=new I.a("ws://127.0.0.1:50005/socket.io/?EIO=3&transport=websocket");return r.onerror=function(t){n(!1),e(!1)},r.onopen=function(){T=r,O(),clearTimeout(null),A=!0,N(!0).then(function(){n(!0),e(!0)}),function(){T.onmessage=function(o){if(-1===o.data.indexOf("42/Cocos-BCX"))return!1;var a=JSON.parse(o.data.replace("42/Cocos-BCX,","")),s=i(a,2),c=s[0],u=s[1];switch(c){case"paired":return e(u);case"rekey":return t();case"api":return n(u);case"event":return r(u)}};var e=function(e){if(k=e){var t=b.getAppKey(),n=F.indexOf("appkey:")>-1?L(F):F;t&&t===n||(b.setAppKey(n),F=b.getAppKey())}M.resolve(e)},t=function(){F="appkey:"+x(),O("rekeyed",{data:{appkey:F,origin:B()},plugin:C})},n=function(e){if(e){var t=R.find(function(t){return t.id===e.id});t&&(R=R.filter(function(t){return t.id!==e.id}),"object"==o(e.result)&&null!==e.result&&e.result.hasOwnProperty("isError")?t.reject(e.result):t.resolve(e.result))}},r=function(e){var t=e.event,n=e.payload;Object.keys(D).length&&Object.keys(D).map(function(e){D[e](t,n)})}}()},t}();case 2:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}())])}},{key:"isConnected",value:function(){return A}},{key:"isPaired",value:function(){return k}},{key:"disconnect",value:function(){return T&&T.close(),!0}},{key:"removeAppKeys",value:function(){b.removeAppKey(),b.removeNonce()}},{key:"sendApiRequest",value:function(e){return new Promise(function(t,n){if("identityFromPermissions"===e.type&&!k)return t(!1);N().then(function(){if(!k)return n({code:"not_paired",message:"The user did not allow this app to connect to their Cocos"});e.id=x(),e.appkey=F,e.nonce=b.getNonce()||0;var i=x();e.nextNonce=L(i),b.setNonce(i),e.hasOwnProperty("payload")&&!e.payload.hasOwnProperty("origin")&&(e.payload.origin=B()),R.push(Object.assign(e,{resolve:t,reject:n})),O("api",{data:e,plugin:C})})})}}]),e}(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";h(this,e),this.name=t,this.type=n}return r(e,[{key:"isSignatureProvider",value:function(){return this.type===d}},{key:"isValid",value:function(){return Object.keys(p).map(function(e){return p[e]}).includes(this.type)}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){return Object.assign(e.placeholder(),t)}}]),e}(),Y={EOS:"eos",ETH:"eth",TRX:"trx",COCOSBCX:"cocosBcx"};Object.keys(Y).map(function(e){return{key:e,value:Y[e]}});var W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.EOS,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;h(this,e),this.blockchain=t,this.contract=n,this.symbol=i,this.name=r||i,this.decimals=o}return r(e,null,[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(e){return Object.assign(this.placeholder(),e)}}]),e}(),G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Y.EOS,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";h(this,e),this.name=t,this.protocol=n,this.host=i,this.port=r,this.blockchain=o,this.chainId=a.toString(),this.token=null}return r(e,[{key:"fullhost",value:function(){return this.protocol+"://"+this.host+(this.port?":":"")+this.port}},{key:"unique",value:function(){return(this.blockchain+":"+(this.chainId.length?"chain:"+this.chainId:this.host+":"+this.port)).toLowerCase()}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){var n=Object.assign(e.placeholder(),t);return n.chainId=n.chainId?n.chainId.toString():"",n.token=t.hasOwnProperty("token")&&t.token?W.fromJson(t.token):null,n}}]),e}(),q={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getAccountInfo:"getAccountInfo",getVersion:"getVersion",getIdentity:"getIdentity",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken",transferAsset:"transferAsset",callContractFunction:"callContractFunction"},z=(c(l={},q.getIdentity,"login"),c(l,q.forgetIdentity,"logout"),c(l,q.getIdentityFromPermissions,"checkLogin"),l),H=function(){function e(t,n,i){h(this,e);var r=function(e){return function(){throw new Error(t+" does not support the "+e+" method.")}};Object.keys(q).map(function(e){return function(e,t){void 0===i[t]&&(i[t]=e||r(t)),z[t]&&void 0===i[z[t]]&&(i[z[t]]=i[t]?i[t]:r(t))}(n[e],e)})}return r(e,null,[{key:"bindBasics",value:function(e){e.account=function(t){if(e.account_name)return e.account_name}}}]),e}(),V=function(e){function t(e,n){var i;return h(this,t),(i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Y.EOS,g))).name="CocosSockets",i.context=e,i.holderFns=n,i}return s(t,j),r(t,[{key:"connect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i){if(!e||!e.length)throw new Error("You must specify a name for this connection");n=Object.assign({initTimeout:1e4,linkTimeout:3e4},n),U.init(e,n.linkTimeout),U.link().then(function(){var e=u(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!n&&(t.holderFns.get().isExtension=!1,t.holderFns.get().wallet||(t.holderFns.get().wallet=t.name),i(!0)));case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())})}},{key:"runAfterInterfacing",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.holderFns.get().addEventHandler(function(e,n){return t.eventHandler(e,n)},"internal"),e.next=3,this.holderFns.get().getIdentityFromPermissions();case 3:return this.holderFns.get().account_name=e.sent,e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){var e,t=this,n=function(e,n){return(e||n)&&(t.holderFns.get().account_name=e),n||e};return c(e={},q.disconnect,function(){return U.disconnect()}),c(e,q.isConnected,function(){return U.isConnected()}),c(e,q.isPaired,function(){return U.isPaired()}),c(e,q.addEventHandler,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return U.addEventHandler(e,t)}),c(e,q.removeEventHandler,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return U.removeEventHandler(e)}),c(e,q.listen,function(e){return U.addEventHandler(e)}),c(e,q.getVersion,function(){return U.sendApiRequest({type:"getVersion",payload:{}})}),c(e,q.getIdentity,function(e){return U.sendApiRequest({type:"getOrRequestIdentity",payload:{fields:e||{accounts:[t.holderFns.get().network]}}}).then(n)}),c(e,q.getIdentityFromPermissions,function(){return U.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(n)}),c(e,q.lockAccount,function(){return U.sendApiRequest({type:"lockAccount",payload:{}}).then(n)}),c(e,q.forgetIdentity,function(){return U.sendApiRequest({type:"forgetIdentity",payload:{}}).then(function(e){return n(null,e)})}),c(e,q.updateIdentity,function(e){var t=e.name,i=e.kyc;return U.sendApiRequest({type:"updateIdentity",payload:{name:t,kyc:i}}).then(function(e){return e?n(e):null})}),c(e,q.authenticate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return U.sendApiRequest({type:"authenticate",payload:{nonce:e,data:t,publicKey:n}})}),c(e,q.getArbitrarySignature,function(e,t){return U.sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:e,data:t}})}),c(e,q.getPublicKey,function(e){return U.sendApiRequest({type:"getPublicKey",payload:{blockchain:e}})}),c(e,q.linkAccount,function(e,n){return U.sendApiRequest({type:"linkAccount",payload:{account:e,network:n||t.holderFns.get().network}})}),c(e,q.hasAccountFor,function(e){return U.sendApiRequest({type:"hasAccountFor",payload:{network:e||t.holderFns.get().network}})}),c(e,q.suggestNetwork,function(e){return U.sendApiRequest({type:"requestAddNetwork",payload:{network:e||t.holderFns.get().network}})}),c(e,q.requestTransfer,function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return U.sendApiRequest({type:"requestTransfer",payload:{network:e||t.holderFns.get().network,to:n,amount:i,options:r}})}),c(e,q.callContractFunction,function(e,n,i,r,o,a){return U.sendApiRequest({type:"callContractFunction",payload:{network:e||t.holderFns.get().network,nameOrId:n,functionName:i,valueList:r,runTime:o,onlyGetFee:a}})}),c(e,q.getAccountInfo,function(e){return U.sendApiRequest({type:"getAccountInfo",payload:{network:e||t.holderFns.get().network}})}),c(e,q.requestSignature,function(e){return U.sendApiRequest({type:"requestSignature",payload:e})}),c(e,q.createTransaction,function(e,n,i,r){return U.sendApiRequest({type:"createTransaction",payload:{blockchain:e,actions:n,account:i,network:r||t.holderFns.get().network}})}),c(e,q.addToken,function(e,n){return U.sendApiRequest({type:"addToken",payload:{token:e,network:n||t.holderFns.get().network}})}),e}},{key:"eventHandler",value:function(){var e=u(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===X.Disconnected?3:e.t0===X.LoggedOut?5:8;break;case 3:return this.holderFns.get().account_name=null,e.abrupt("break",8);case 5:return e.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:this.holderFns.get().account_name=e.sent;case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),t}(),K=!1,J=function(){var e=u(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return t||(t=e),K?t(!0):n>5?t(!1):void setTimeout(function(){return J(t,n+1)},100)}));case 1:case"end":return e.stop()}},e,f)}));return function(){return e.apply(this,arguments)}}(),Q=function(e){function t(e,n){var i;return h(this,t),(i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Y.COCOSBCX,g))).name="CocosExtension",i.context=e,i.holderFns=n,i}return s(t,j),r(t,[{key:"connect",value:function(){var e=this;return"undefined"!=typeof window&&"undefined"!=typeof document&&(void 0!==window.BcxWeb&&void 0!==window.BcxWeb.BCX||void 0!==window.BcxWeb&&void 0!==window.BcxWeb.getAccountInfo()?K=!0:document.addEventListener("cocosLoaded",function(){return K=!0})),new Promise(function(){var t=u(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}e.holderFns.get().wallet||(e.holderFns.get().wallet=e.name),n(!0);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"runBeforeInterfacing",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.abrupt("return",(this.holderFns.get().wallet===this.name&&(window.BcxWeb.wallet=this.name,t=this.holderFns.get(),void 0!==window.BcxWeb?t.cocosBcx=function(){return window.BcxWeb}:void 0!==window.BcxWeb&&void 0!==window.BcxWeb.getAccountInfo()&&(t.cocosBcx=function(){return window.BcxWeb})),this.holderFns.set(t),this.context=this.holderFns.get(),!0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.context.isExtension=!0,!0));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){return c({},q.getIdentity,function(e){console.log("getid")})}}]),t}();n.d(t,"EVENTS",function(){return X}),n.d(t,"Plugin",function(){return j}),n.d(t,"PluginTypes",function(){return p}),n.d(t,"Blockchains",function(){return Y}),n.d(t,"Network",function(){return G}),n.d(t,"SocketService",function(){return U}),n.d(t,"WalletInterface",function(){return H}),n.d(t,"WALLET_METHODS",function(){return q});var X={Disconnected:"dced",LoggedOut:"logout"},Z=[],$={},ee=new Proxy(new(function(){function e(t){h(this,e),this.cocos=t}return r(e,[{key:"plugins",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.cocos.isExtension||n.map(function(t){return e.cocos.loadPlugin(t)})}},{key:"connect",value:function(){var e;return(e=this.cocos).connect.apply(e,arguments)}},{key:"catchAll",value:function(){}}]),e}())(new(function(){function e(){h(this,e),this.account_name=null,this.network=null,m.loadPlugin(new V(this,$)),m.loadPlugin(new Q(this,$))}return r(e,[{key:"loadPlugin",value:function(e){if(!e.isValid())throw new Error(e.name+" doesn't seem to be a valid CocosJS plugin.");m.loadPlugin(e),e.type===d&&(this[e.name]=e.signatureProvider(function(){if(!$.get().account_name)throw new Error("No Identity")},function(){return $.get().account_name}),this[e.name+"Hook"]=e.hookProvider,Z.push(e.setSocketService)),e.type===g&&e.init(this,$,Z)}},{key:"connect",value:function(){var e=u(regeneratorRuntime.mark(function e(t,n){var i,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),this.network=n.hasOwnProperty("network")?n.network:null,i=m.wallets(),e.next=4,Promise.race(i.map(function(e){return e.connect(t,n).then(u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0="function"==typeof e.runBeforeInterfacing,!t.t0){t.next=4;break}return t.next=4,e.runBeforeInterfacing();case 4:if(new H(e.name,e.methods(),$.get()),t.t1="function"==typeof e.runAfterInterfacing,!t.t1){t.next=9;break}return t.next=9,e.runAfterInterfacing();case 9:return H.bindBasics($.get()),t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,r)})))}).concat(new Promise(function(e){return setTimeout(function(){return e(!1)},n.initTimeout||5e3)})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}())),{get:function(e,t){return void 0!==e[t]?e[t]:e.cocos[t]}});$.set=function(e){return ee.cocos=e},$.get=function(){return ee.cocos},"undefined"!=typeof window&&(window.CocosJS=ee),ee.Plugin=j,ee.PluginTypes=p,ee.Blockchains=Y,ee.Network=G,ee.Token=W,ee.SocketService=U,ee.EVENTS=X,ee.WalletInterface=H,ee.WALLET_METHODS=q,window.Cocosjs=ee,t.default=Cocosjs}]),cc._RF.pop()},{}],en:[function(e,t,n){"use strict";cc._RF.push(t,"e87eazqTBxKA5a3F4j9gcsO","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={label:{login:"Login",register:"Register",account:"Account",password:"Password",login_account:"Account",register_account:"Account Register",login_password:"Password",confirm_password:"Confirm",thanks:"Thanks",Backpack:"Backpack",Sell:"Sell",Refreshing:"Refreshing",Price:"Price",expire_date:"Expire date",sale_notes:"Sale notes",bill_list:"Bill list",hours:"Hours",confirm:"Determine",cancel:"Cancel",weapon_rack:"Weapon rack",equipment:"Equipment",strengthen:"Strengthen",no_weapon_msg:"No weapons yet. Go to the market and buy them.",trading_market:"Trading market",Attack:"Attack",Pilot:"Pilot",no_pilot_msg:"There is no pilot yet. Go to the market and buy it.",Replay:"Replay",show_key_msg:"Here is your wallet private key, please keep it safe!",private_key:"Private key",Score:"Score",continue_msg:"Click Continue to Clear the Enemy and Resurrect"}},cc._RF.pop()},{}],eventListener:[function(e,t,n){"use strict";cc._RF.push(t,"52af6tRwp9Od5G0CUJ6MP/R","eventListener");var i=cc.Class({ctor:function(){this.supportEvent=null},on:function(e,t,n){this[e]={handler:t,target:n}},off:function(e,t){var n=this[e];n&&n.handler&&n.handler===t&&(this[e]=null)},dispatchEvent:function(e){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(e)){for(var t=this[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);t.handler?t.handler.apply(t.target,n):cc.log("not register "+e+"    callback func")}else cc.error("please add the event into clientEvent.js")},setSupportEventList:function(e){if(!(e instanceof Array))return cc.error("supportEvent was not array"),!1;for(var t in this.supportEvent={},e){var n=e[t];this.supportEvent[n]=t}return!0}}),r=cc.Class({ctor:function(){this.handlers={},this.supportEvent=null},on:function(e,t,n){var i={handler:t,target:n},r=this.handlers[e];r||(r=[],this.handlers[e]=r);for(var o=0;o<r.length;o++)if(!r[o])return r[o]=i,o;return r.push(i),r.length},off:function(e,t,n){var i=this.handlers[e];if(i)for(var r=0;r<i.length;r++){var o=i[r];if(o.handler===t&&(!n||n===o.target)){i.splice(r,1);break}}},dispatchEvent:function(e){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(e)){var t,n=this.handlers[e],i=[];for(t=1;t<arguments.length;t++)i.push(arguments[t]);if(n)for(t=0;t<n.length;t++){var r=n[t];r.handler&&r.handler.apply(r.target,i)}}else cc.error("please add the event into clientEvent.js")},setSupportEventList:function(e){if(!(e instanceof Array))return cc.error("supportEvent was not array"),!1;for(var t in this.supportEvent={},e){var n=e[t];this.supportEvent[n]=t}return!0}}),o={getBaseClass:function(e){return"multi"===e?r:i}};t.exports=o,cc._RF.pop()},{}],flyReward:[function(e,t,n){"use strict";cc._RF.push(t,"9e31fKsunxIe6tVsli5kNsi","flyReward");cc.Class({extends:cc.Component,properties:{prefabReward:cc.Prefab,nodeRewardParent:cc.Node},ctor:function(){this.finishIdx=0},start:function(){this.createReward()},setInfo:function(e){this.targetWorldPos=e},getTargetPos:function(){return this.node.convertToNodeSpaceAR(this.targetWorldPos)},createReward:function(){for(var e=this.getTargetPos(),t=0;t<10;t++){var n=cc.instantiate(this.prefabReward);n.parent=this.nodeRewardParent,n.angle=Math.floor(360*Math.random());var i=Math.floor(10*Math.random())/10,r=cc.v2(Math.floor(300*Math.random())-150,Math.floor(300*Math.random())-150),o=r.sub(cc.v2(0,0)).mag()/400,a=cc.moveTo(o,r).easing(cc.easeBackOut()),s=120+Math.floor(60*Math.random());s=1===Math.floor(2*Math.random())?s:-s;var c=cc.rotateBy(o,s),u=cc.scaleTo(2*o/3,1.4),h=cc.scaleTo(o/3,1),l=cc.spawn(a,c,cc.sequence(u,h)),f=r.sub(e).mag()/1500,p=cc.sequence(l,cc.callFunc(this.playLoopAction,this),cc.delayTime(i),cc.moveTo(f,e),cc.callFunc(this.onFlyOver,this));n.runAction(p)}},playLoopAction:function(e){e.getComponent(cc.Animation).play()},onFlyOver:function(e){e.active=!1,this.finishIdx++,10===this.finishIdx&&(this._callback&&this._callback.apply(this._target),this.node.destroy())},setEndListener:function(e,t){this._callback=e,this._target=t}}),cc._RF.pop()},{}],gameLogic:[function(e,t,n){"use strict";cc._RF.push(t,"9c5ecD44SpPhZYWCAbryLls","gameLogic");var i=new(cc.Class({properties:{},start:function(){this.regNetEvent(),this.regLogicEvent()},regNetEvent:function(){},regLogicEvent:function(){}}));i.start(),t.exports=i,cc._RF.pop()},{}],gameOver:[function(e,t,n){"use strict";cc._RF.push(t,"4a3e1JfWUxAp7NuHO5ERxd8","gameOver");var i=e("bcxAdapter"),r=e("playerData"),o=(e("resourceUtil"),e("LanguageData"));cc.Class({extends:cc.Component,properties:{txtCocos:cc.Label,txtBomb:cc.Label,txtScore:cc.Label},start:function(){this.setCurLanguage()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?o.init("en"):o.init("zh"),o.updateSceneRenderers()},reqCloseLoading:function(){this.isReqCocosFinished&&this.currentCreate>=this.cntCreateBomb&&(r.goods=r.goodsDel.concat(r.goods),r.goodsDel=[],cc.gameSpace.hideLoading())},clearFightScene:function(){this.fightScene.unCreate(),this.fightScene.clear(),this.fightScene.resume()},show:function(e,t,n,o){this.fightScene=o,this.clearFightScene(),cc.gameSpace.showLoading(cc.gameSpace.text.submit_data);var a=this;this.isReqCocosFinished=!0,e>0&&(this.isReqCocosFinished=!1,this.txtCocos.string=e.toString(),i.transferToPlayer(e,"Reward",function(e){1===JSON.parse(e).state&&(console.log(e),console.log("reward succeed!"),cc.gameSpace.showTips(cc.gameSpace.text.success_rewards)),a.isReqCocosFinished=!0,a.reqCloseLoading()})),this.currentCreate=0,this.cntCreateBomb=0;var s=t-r.goodsDel.length;this.txtBomb.string=s,this.cntCreateBomb=Math.abs(s),s<0?this.destroyBomb():s>0&&this.createBomb(),this.txtScore.string=n,this.reqCloseLoading()},onBtnYesClick:function(){this.fightScene.exitFightScene()},createBomb:function(){if(this.currentCreate>=this.cntCreateBomb)i.getItems(function(){});else{var e=this;i.reqCreateBomb(function(t,n){t?cc.gameSpace.showTips(t):console.log("create bomb succeed("+e.currentCreate+")"),e.currentCreate++,e.createBomb(),e.reqCloseLoading()})}},destroyBomb:function(){if(!(this.currentCreate>=this.cntCreateBomb)){var e=this,t=r.goodsDel.shift();i.reqDestroyBomb(t.id,function(t,n){t&&cc.gameSpace.showTips(t),e.currentCreate++,e.destroyBomb(),e.reqCloseLoading()})}}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",playerData:"playerData",resourceUtil:"resourceUtil"}],gridView:[function(e,t,n){"use strict";cc._RF.push(t,"d8b03VqaQVPTL6BonNOvv9e","gridView");var i=cc.Enum({HORIZONTAL:1,VERTICAL:2});cc.Class({extends:cc.Component,properties:{prefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.Node},type:{default:i.VERTICAL,type:i},prefabScale:1,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,spacingX:5,spacingY:5,countPerRow:5},onLoad:function(){this.updateTimer=0,this.updateInterval=.2,this.pool=new cc.NodePool;for(var e=this.countPerRow,t=0;t<e;++t){var n=cc.instantiate(this.prefab);this.pool.put(n)}this.contents=[]},init:function(e){this.isChange=!0,this.positions=[],this.contents=e instanceof Array?e:[];var t=this.node.getContentSize();this.type===i.HORIZONTAL&&(this.countPerCol=this.countPerRow);for(var n=0;n<this.contents.length;n++){var r,o;this.type===i.VERTICAL?(r=n%this.countPerRow,o=Math.floor(n/this.countPerRow)):(r=Math.floor(n/this.countPerCol),o=n%this.countPerCol);var a=this.getPrefabWidth(),s=this.getPrefabHeight();this.positions.push(cc.v2(this.paddingLeft+this.spacingX*r+a*(r+.5),-(this.paddingTop+this.spacingY*o+s*(o+.5))))}var c=Math.ceil(n/this.countPerCol),u=this.getPrefabWidth(),h=Math.ceil(n/this.countPerRow),l=this.getPrefabHeight();this.type===i.VERTICAL?this.node.setContentSize(cc.size(t.width,this.paddingTop+this.spacingY*h+l*h)):this.node.setContentSize(cc.size(this.paddingLeft+this.spacingX*c+u*c,t.height))},addNode:function(){for(var e,t=[],n=0;n<this.contents.length;n++){var i=this.getPositionInView(this.positions[n]);this.isOverBorder(i)?(e=this.node.getChildByName(String(n)))&&this.remove(e):(t.push(n),(e=this.node.getChildByName(String(n)))?this.isChange&&(this.node.emit("show",{index:n,node:e,content:this.contents[n]}),e.setPosition(this.positions[n]),e.name=String(n)):this.create(e,n))}if(this.isChange){var r=this.node.children;cc.log("num"+t);for(var o=0;o<r.length;)e=r[o],-1===t.indexOf(parseInt(e.name))?(cc.log("remove"+e.name),this.remove(e)):o++}this.isChange=!1},create:function(e,t){(e=this.pool.size()>0?this.pool.get():cc.instantiate(this.prefab)).setScale(this.prefabScale,this.prefabScale),e.setPosition(this.positions[t]),this.node.addChild(e,0,String(t)),this.node.emit("show",{index:t,node:e,content:this.contents[t]})},remove:function(e){this.pool.put(e),this.node.removeChild(e,!1)},getPositionInView:function(e){var t=this.node.convertToWorldSpaceAR(e);return this.scrollView.convertToNodeSpaceAR(t)},getPrefabHeight:function(){return this.prefab.data.height*this.prefabScale},getPrefabWidth:function(){return this.prefab.data.width*this.prefabScale},isOverBorder:function(e){var t=this.scrollView.height/2+this.getPrefabHeight()/2,n=this.scrollView.width+this.getPrefabWidth()/2;return this.type===i.VERTICAL?e.y>t||e.y<-t:e.x>n},update:function(e){this.updateTimer+=e,this.updateTimer<this.updateInterval||(this.updateTimer=0,this.addNode())},onDestory:function(){this.pool.clear()}}),cc._RF.pop()},{}],keyLogin:[function(e,t,n){"use strict";cc._RF.push(t,"7d8c2NG6xRCO6PkgqAr2fMk","keyLogin");var i=e("bcxAdapter");cc.Class({extends:cc.Component,properties:{edtPrivateKey:cc.EditBox},start:function(){cc.gameSpace.showLoading(cc.gameSpace.text.logining+"...");var e=this;i.login(privateKey,function(t){t?(cc.gameSpace.showTips(t),cc.gameSpace.hideLoading()):(cc.gameSpace.showLoading(cc.gameSpace.text.loading_main+"..."),e.loginScene.loadPlayerInfo())})},show:function(e){this.loginScene=e,cc.gameSpace.hideLoading()},onBtnLoginClick:function(){},onBtnCloseClick:function(){this.node.destroy()}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter"}],language:[function(e,t,n){"use strict";cc._RF.push(t,"79fcbgn7ylEd6/ecnl6q1wk","language"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.gameSpace.text=""}}),cc._RF.pop()},{}],loading:[function(e,t,n){"use strict";cc._RF.push(t,"e9d73Vv5+NOY6Wy5Wvh5AJM","loading"),cc.Class({extends:cc.Component,properties:{txtTips:cc.Label},start:function(){},show:function(e){this.txtTips.string=e||""},onEnable:function(){this.node.getComponent(cc.Animation).play()},onDisable:function(){this.node.getComponent(cc.Animation).stop()}}),cc._RF.pop()},{}],lottery:[function(e,t,n){"use strict";cc._RF.push(t,"d8a4f6ipSlLHZsifvncQs35","lottery");var i=e("bcxAdapter"),r=e("resourceUtil");cc.Class({extends:cc.Component,properties:{arrRewardNode:[cc.Node],pfRewardItem:cc.Prefab,nodeTurnable:cc.Node,btnStart:cc.Button,lbGold:cc.Label,nodeCocosIcon:cc.Node,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame,imgEmployee:cc.SpriteFrame},ctor:function(){this.dictReward={},this.arrRewardData=[{type:"no",amount:0},{type:"money",amount:80},{type:"bomb",amount:1},{type:"money",amount:120},{type:"bomb",amount:2},{type:"money",amount:200},{type:"weapon",amount:1},{type:"money",amount:300},{type:"employee",amount:1},{type:"money",amount:400}]},start:function(){this.lbGold.string="\u5237\u65b0\u4e2d",this.gold=0},show:function(){cc.gameSpace.hideLoading()},onEnable:function(){this.refreshUI()},refreshUI:function(){this.refreshGold(),this.initReward()},refreshGold:function(){var e=this;i.getBalance(function(t,n){t?cc.gameSpace.showTips(t):(e.gold=n.data.COCOS.toFixed(1),e.lbGold.string=n.data.COCOS.toFixed(1))})},initReward:function(){for(var e=0;e<this.arrRewardNode.length;e++){var t=this.arrRewardNode[e],n=this.dictReward[e];if(this.dictReward.hasOwnProperty(e)||((n=cc.instantiate(this.pfRewardItem)).parent=t,this.dictReward[e]=n),this.arrRewardData.length>e){var i=this.arrRewardData[e];n.getComponent("LotteryItem").setInfo(i)}}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onBtnLotteryClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.gold<100)cc.gameSpace.showTips(cc.gameSpace.text.lottery_nocoin);else{for(var e in this.dictReward)this.dictReward[e].getComponent("LotteryItem").setSelect(!1);cc.gameSpace.showLoading(cc.gameSpace.text.executing+" "+i.contractName+" "+cc.gameSpace.text.contract+"...");var t=this;i.lottery(function(e,n){if(cc.gameSpace.hideLoading(),e)t.refreshGold();else{t.gold-=100,t.lbGold.string=t.gold;for(var i=n.data[0].contract_affecteds,r=0;r<i.length;r++)if("contract_affecteds_log"===i[r].type){var o=i[r].raw_data.message,a="##result##:",s=o.indexOf(a);if(-1!==s){var c=o.slice(s+a.length),u=JSON.parse(c);t.randValue=Number(u.pos)-1,t.rewardType=u.draw,t.rewardValue=Math.ceil(Number(u.amount)),t.startRun();break}}}})}},startRun:function(){this.nodeTurnable.angle=this.nodeTurnable.angle%360;var e=360-this.nodeTurnable.angle,t=3+Math.floor(4*Math.random()),n=cc.rotateTo(e/360+.5*t,-(360+360*t+360-36*this.randValue)).easing(cc.easeCircleActionOut()),i=cc.sequence(n,cc.callFunc(function(){this.showReward()},this));this.nodeTurnable.runAction(i)},showReward:function(){var e=this.dictReward[this.randValue].getComponent("LotteryItem");e.setSelect(!0);var t=e.getIconWorldPos();switch(this.rewardType){case"money":this.showFlyReward(function(){this.refreshGold()},this);break;case"bomb":this.showItemReward(this.imgBomb,t,function(){},this);break;case"weapon":this.showItemReward(this.imgWeapon,t,function(){this.refreshItem()},this);break;case"employee":this.showItemReward(this.imgEmployee,t,function(){this.refreshItem()},this);break;case"no":this.refreshGold()}},refreshItem:function(){i.getItems(function(e,t){if(!e){var n=cc.find("Canvas").getComponent("startScene");n&&n.refreshChangeBtn()}})},showItemReward:function(e,t,n,i){var o=this;r.createEffectWithPath("UI/showReward/showReward",null,function(r,a){if(r)n&&n.apply(i,[r,a]);else{var s=a.parent.convertToNodeSpaceAR(t);a.position=s,a.zIndex=100,a.getChildByName("texture").getComponent(cc.Sprite).spriteFrame=e;var c=a.getComponent(cc.Animation);c.on("finished",function(){a.destroy(),n&&n.apply(i)},o),c.play("showReward")}})},showFlyReward:function(e,t){var n=this;r.createUI("flyReward",function(i,r){if(i)e&&e.apply(t);else{r.zIndex=100;var o=r.getComponent("flyReward");o.setInfo(n.nodeCocosIcon.convertToWorldSpaceAR(cc.v2(0,0))),o.setEndListener(e,t)}})}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],main:[function(e,t,n){"use strict";cc._RF.push(t,"7311eMXNMBL86G8UbCGTvL6","main");var i=e("clientEvent"),r=e("LanguageData"),o=e("uiManager"),a=e("audioManager"),s=e("bcxAdapter"),c=e("gameLogic");cc.gameSpace={},cc.gameSpace.TIME_SCALE=1,cc.gameSpace.isStop=!1,cc.gameSpace.SDK="bcx",cc.Class({extends:cc.Component,properties:{},start:function(){cc.debug.setDisplayStats(!1),console.log("main----start");var t=cc.winSize;((t.width>t.height||t.width/t.height<1.4)&&(this.node.getComponent(cc.Canvas).fitHeight=!0),cc.gameSpace.isIphoneX=cc.game.canvas.height/cc.game.canvas.width>2,cc.gameSpace.gameLogic=c,cc.gameSpace.audioManager=a,cc.gameSpace.uiManager=o,cc.gameSpace.showTips=o.showTips.bind(o),cc.gameSpace.showLoading=o.showLoading.bind(o),cc.gameSpace.hideLoading=o.hideLoading.bind(o),cc.gameSpace.clientEvent=i,cc.gameSpace.bcxAdapter=s,cc.gameSpace.isInitFinished=!1,cc.gameSpace.isConfigLoadFinished=!0,"eos"===cc.gameSpace.SDK)?e("eosAdapter").initSDK(function(){cc.gameSpace.isInitFinished=!0}):s.initSDK(function(){cc.gameSpace.isInitFinished=!0});cc.gameSpace.audioManager.playMusic("bgm",!0),r.init("zh")}}),cc._RF.pop()},{LanguageData:"LanguageData",audioManager:"audioManager",bcxAdapter:"bcxAdapter",clientEvent:"clientEvent",eosAdapter:void 0,gameLogic:"gameLogic",uiManager:"uiManager"}],marketItem:[function(e,t,n){"use strict";cc._RF.push(t,"5a9b1MeZ75FE4g0eLsecxEM","marketItem");var i=e("constants"),r=e("resourceUtil"),o=e("playerData"),a=e("bcxAdapter"),s=e("LanguageData");cc.Class({extends:cc.Component,properties:{spFrame:cc.Sprite,spFront:cc.Sprite,spItem:cc.Sprite,lbName:cc.Label,nodeBtnSell:cc.Node,nodeSelling:cc.Node,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame},onLoad:function(){this.setCurLanguage()},start:function(){},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?s.init("en"):s.init("zh"),s.updateSceneRenderers()},show:function(e,t,n){this.parent=e,this.index=t,this.content=n;var a="white",s=this;switch(n.info.type){case i.BOMB_KEY:this.spItem.spriteFrame=this.imgBomb,this.lbName.string=cc.gameSpace.text.bomb,this.spItem.node.width=64,this.spItem.node.height=82;break;case i.WEAPON_KEY:this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=116,this.spItem.node.height=116;var c=o.getWeaponLevel(n);switch(this.lbName.string=cc.gameSpace.text.weapon+"+"+c,c){case 2:a="green";break;case 3:a="blue";break;case 4:a="purple";break;case 5:a="gold"}break;case i.PILOT:switch(r.getPilotIcon(n.info.icon,function(e,t){!e&&cc.isValid(s.spItem)&&(s.spItem.spriteFrame=t,s.spItem.node.width=200,s.spItem.node.height=184)}),this.lbName.string=n.info.name,n.info.quality){case i.QUALITY.WHITE:a="white";break;case i.QUALITY.GREEN:case i.QUALITY.GREEN_1:case i.QUALITY.GREEN_2:a="green";break;case i.QUALITY.BLUE:a="blue";break;case i.QUALITY.PURPLE:a="purple";break;case i.QUALITY.GOLD:a="gold"}}this.nodeSelling.active=o.isGoodsSelling(this.content.id),this.nodeBtnSell.active=!this.nodeSelling.active,r.loadRes("Textures/Frame/"+a+"01",cc.SpriteFrame,function(e,t){!e&&cc.isValid(s.spFrame)&&(s.spFrame.spriteFrame=t)}),r.loadRes("Textures/Frame/"+a+"02",cc.SpriteFrame,function(e,t){!e&&cc.isValid(s.spFront)&&(s.spFront.spriteFrame=t)})},onBtnSellClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("marketSell","marketSell",[this.content,this.parent])},onBtnCancelClick:function(){cc.gameSpace.audioManager.playSound("click",!1);var e=o.getGoodsOrderId(this.content.id);if(!e)return cc.gameSpace.showTips(cc.gameSpace.text.Incorrect_data),void this.parent.refreshList();cc.gameSpace.showLoading(cc.gameSpace.text.cancel_sell+"....");var t=this;a.cancelGameItemOrder(e,function(e,n){cc.gameSpace.hideLoading(),e?cc.gameSpace.showTips(e):(cc.gameSpace.showTips(cc.gameSpace.text.cancel_success),t.parent.refreshList())})}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],marketSell:[function(e,t,n){"use strict";cc._RF.push(t,"4551bcaonRA85fWV4oBObqa","marketSell");var i=e("resourceUtil"),r=e("bcxAdapter"),o=e("constants"),a=e("playerData");cc.Class({extends:cc.Component,properties:{spFrame:cc.Sprite,spFront:cc.Sprite,spItem:cc.Sprite,lbName:cc.Label,edtPrice:cc.EditBox,edtTime:cc.EditBox,edtMemo:cc.EditBox,lbFee:cc.Label,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame},start:function(){},show:function(e,t){this.content=e,this.parent=t;var n="white",r=this;switch(e.info.type){case o.BOMB_KEY:this.spItem.spriteFrame=this.imgBomb,this.lbName.string="\u70b8\u5f39",this.spItem.node.width=128,this.spItem.node.height=164;break;case o.WEAPON_KEY:this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=232,this.spItem.node.height=232;var s=a.getWeaponLevel(e);switch(this.lbName.string="\u6b66\u5668+"+s,s){case 2:n="green";break;case 3:n="blue";break;case 4:n="purple";break;case 5:n="gold"}break;case o.PILOT:switch(i.getPilotIcon(e.info.icon,function(e,t){!e&&cc.isValid(r.spItem)&&(r.spItem.spriteFrame=t,r.spItem.node.width=454,r.spItem.node.height=417)}),this.lbName.string=e.info.name,e.info.quality){case o.QUALITY.WHITE:n="white";break;case o.QUALITY.GREEN:case o.QUALITY.GREEN_1:case o.QUALITY.GREEN_2:n="green";break;case o.QUALITY.BLUE:n="blue";break;case o.QUALITY.PURPLE:n="purple";break;case o.QUALITY.GOLD:n="gold"}}i.loadRes("Textures/Frame/"+n+"01",cc.SpriteFrame,function(e,t){!e&&cc.isValid(r.spFrame)&&(r.spFrame.spriteFrame=t)}),i.loadRes("Textures/Frame/"+n+"02",cc.SpriteFrame,function(e,t){!e&&cc.isValid(r.spFront)&&(r.spFront.spriteFrame=t)})},onEdtTimeChange:function(){var e=Number(this.edtTime.string);if(e>0){var t=1;(e*=3600)>3600&&(t=1+.5*Math.ceil(e/3600)),this.lbFee.string=t.toFixed(1)}},onBtnSellClick:function(){cc.gameSpace.audioManager.playSound("click",!1);var e=Number(this.edtPrice.string);if(e<=0||!e)cc.gameSpace.showTips(cc.gameSpace.text.prive_error);else{var t=Number(this.edtTime.string);if(t<=0||!t)cc.gameSpace.showTips(cc.gameSpace.text.time_expiration_error);else if(t>72)cc.gameSpace.showTips(cc.gameSpace.text.time_max);else{var n=1;(t*=3600)>3600&&(n=1+.5*Math.ceil(t/3600)),cc.gameSpace.showLoading(cc.gameSpace.text.in_the_list+"...");var i=this;r.creatGameItemOrder(this.content.id,e,t,n,this.edtMemo.string,function(e,t){cc.gameSpace.hideLoading(),e?cc.gameSpace.showTips(e):(cc.gameSpace.showTips(cc.gameSpace.text.success_list),i.onBtnCloseClick(),i.parent.refreshList())})}}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],market:[function(e,t,n){"use strict";cc._RF.push(t,"ffcb3aQaDJKEYOU2TZ4fESh","market");var i=e("gridView"),r=e("bcxAdapter"),o=e("playerData"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{inviteGridView:{default:null,type:i}},onLoad:function(){this.setCurLanguage()},start:function(){this.arrSelling=[]},onEnable:function(){this.inviteGridView.node.on("show",this.initGridView,this),this.refreshList()},onDisable:function(){this.inviteGridView.node.off("show",this.initGridView,this)},initGridView:function(e){var t=e.index,n=e.node,i=e.content;console.log(">>>>>>>>>>>content>>>"+JSON.stringify(i)),n.getComponent("marketItem").show(this,t,i)},refreshList:function(){this.isAllBack=!1;var e=this;r.getItems(function(){e.isAllBack?e.afterGetData():e.isAllBack=!0}),r.queryAccountGameItemOrders(function(t,n){if(o.goodsSelling.length>0){for(var i=[],a=0;a<o.goodsSelling.length;a++){var s=o.goodsSelling[a];i.push(s.id)}e.arrSelling=[],r.queryGameItemInfo(i,function(t,n){if(t)return cc.gameSpace.showTips(t),void console.error(n);e.arrSelling=n.data,e.isAllBack?e.afterGetData():e.isAllBack=!0})}else e.arrSelling=[],e.isAllBack?e.afterGetData():e.isAllBack=!0})},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?a.init("en"):a.init("zh"),a.updateSceneRenderers()},afterGetData:function(){for(var e=[],t=0;t<o.goods.length;t++){var n=o.goods[t];n.info=JSON.parse(n.base_describe),e.push(n)}for(var i=0;i<this.arrSelling.length;i++){var r=this.arrSelling[i];r.info=JSON.parse(r.base_describe),e.push(r)}e.sort(function(e,t){return e.info.type>t.info.type?1:e.info.type===t.info.type?e.order&&!t.order?-1:!e.order&&t.order?1:0:-1}),this.inviteGridView.init(e)},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",gridView:"gridView",playerData:"playerData"}],pilot:[function(e,t,n){"use strict";cc._RF.push(t,"a26d9Pi1MtA+ptBaFKtJVbV","pilot");var i=e("playerData"),r=e("constants"),o=e("resourceUtil"),a=e("LanguageData");cc.Class({extends:cc.Component,properties:{nodeTips:cc.Node,nodeView:cc.Node,pageView:cc.PageView,prefabPage:cc.Prefab,spHead:cc.Sprite,txtAdd:cc.Label,txtName:cc.Label,hpNode:cc.Node,nodeBtnUse:cc.Node,nodeName:cc.Node},start:function(){this.currentSelect=null,this.refreshUI(),this.refreshPilotInfo(),this.setCurLanguage()},refreshUI:function(){i.getPilotList().length<=0?(this.nodeTips.active=!0,this.nodeView.active=!1):(this.nodeTips.active=!1,this.nodeView.active=!0,this.initPage())},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?a.init("en"):a.init("zh"),a.updateSceneRenderers()},show:function(e){this.startScene=e},refreshPilotInfo:function(){var e=this;if(this.currentSelect){var t=i.getPilotByItemId(this.currentSelect),n=JSON.parse(t.base_describe),a=0;switch(n.quality){case r.QUALITY.WHITE:a=1;break;case r.QUALITY.GREEN:a=2;break;case r.QUALITY.GREEN_1:a=3;break;case r.QUALITY.GREEN_2:a=4;break;case r.QUALITY.BLUE:a=5;break;case r.QUALITY.PURPLE:a=6;break;case r.QUALITY.GOLD:a=7}this.hpNode.active=!0,this.txtAdd.string="+"+a,this.txtName.string=n.name,o.getPilotIcon(n.icon,function(t,n){!t&&cc.isValid(e.spHead)&&(e.spHead.spriteFrame=n)}),this.nodeBtnUse.active=!0}else o.getPilotIcon("unknown",function(t,n){!t&&cc.isValid(e.spHead)&&(e.spHead.spriteFrame=n)}),this.txtName.string=cc.gameSpace.text.unselected,this.hpNode.active=!1,this.nodeBtnUse.active=!1},initPage:function(){var e=i.getPilotList();this.pageCnt=Math.ceil(e.length/r.PAGE_SIZE);for(var t=this.pageView.getPages(),n=0;n<this.pageCnt;n++){var o=null;n<t.length?o=t[n]:(o=cc.instantiate(this.prefabPage),this.pageView.addPage(o));var a=o.getComponent("PilotPage");a.setPageInfo(n,this),a.refreshPage()}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onItemSelect:function(e,t){this.currentSelect=e,this.currentSelectPageOwner=t;for(var n=this.pageView.getPages(),i=0;i<n.length;i++){var r=n[i].getComponent("PilotPage");r.unSelectAll(),this.currentSelectPageOwner===i&&r.selectByItemId(this.currentSelect)}this.refreshPilotInfo()},onBtnUseClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.currentSelect){i.saveCurrentPilot(this.currentSelect);for(var e=this.pageView.getPages(),t=0;t<e.length;t++){var n=e[t].getComponent("PilotPage");n.unLaunchAll(),this.currentSelectPageOwner===t&&n.launchByItemId(this.currentSelect)}this.node.destroy(),this.startScene.refreshPilotInfo()}},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")}}),cc._RF.pop()},{LanguageData:"LanguageData",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],playerData:[function(e,t,n){"use strict";cc._RF.push(t,"641cdx84KdM4Jpz0G2/oyDa","playerData");var i=e("constants"),r=e("configuration"),o=new(cc.Class({ctor:function(){this.info={code:1,function:"newGame",PlayingUID:"29042",PlayingGameID:"1",PlayingGameKey:"111a731261aeb2d55b214346e5b2eec2",GameData:[{level:1,enemy_num:1e3,boss_num:3e4},{level:2,enemy_num:800,boss_num:3e4},{level:3,enemy_num:600,boss_num:2e4}],cion_num:{GCS:.576},imgUrl:["https://ofe0v4nhm.qnssl.com/candy/images/coin/GCS.png"],Cost:300,reviveImg:"http://shooter-admin.candy.one/static/images/defeault.png",candy:253,trans:[43],isFreeGame:1,relifeCost:100},this.relifeCost=i.START_GAME_CONSUME,this.goods=[],this.goodsDel=[],this.goodsSelling=[]},getUid:function(){return this.info.PlayingUID},parseNotice:function(e){this.isFree=1===e.isFreeGame,this.noticeList=e.data,this.playTimes=e.times,this.introduction=e.info,this.errCode=e.errCode,this.backUrl=e.backUrl},getBomb:function(){var e=[];return _.forEach(this.goods,function(t){JSON.parse(t.base_describe).type===i.BOMB_KEY&&e.push(t)}),e},costBomb:function(){if(this.getBomb().length<=0)return!1;var e=null,t=this;return _.forEach(this.goods,function(n,r){if(JSON.parse(n.base_describe).type===i.BOMB_KEY)return e=n,t.goods.splice(r,1),!1}),!!e&&(this.goodsDel.push(e),!0)},removeGoodItem:function(e){_.remove(this.goods,function(t){return t.id===e})},hasSuperWeapon:function(){var e=!1;return _.forEach(this.goods,function(t){if(JSON.parse(t.base_describe).type===i.WEAPON_KEY)return e=!0,!1}),e},isUsedSuperWeapon:function(){return!!this.hasSuperWeapon()&&r.getGlobalData(i.DATA_KEY.WEAPON)},hasPilot:function(){return this.getPilotList().length>0},getPilotByItemId:function(e){var t=null;return _.forEach(this.goods,function(n){if(JSON.parse(n.base_describe).type===i.PILOT&&n.id===e)return t=n,!1}),t},getCurrentPilot:function(){if(!this.hasPilot())return null;var e=r.getGlobalData(i.DATA_KEY.PILOT);return e?this.getPilotByItemId(e):null},getPilotList:function(){var e=[];return _.forEach(this.goods,function(t){JSON.parse(t.base_describe).type===i.PILOT&&e.push(t)}),e},getWeaponList:function(){var e=[];return _.forEach(this.goods,function(t){JSON.parse(t.base_describe).type===i.WEAPON_KEY&&e.push(t)}),e},saveCurrentPilot:function(e){r.setGlobalData(i.DATA_KEY.PILOT,e)},getCurrentPilotItemId:function(){return r.getGlobalData(i.DATA_KEY.PILOT)},saveCurrentWeapon:function(e){r.setGlobalData(i.DATA_KEY.CURRENT_WEAPON,e)},getCurrentWeaponItemId:function(){return r.getGlobalData(i.DATA_KEY.CURRENT_WEAPON)},getWeaponByItemId:function(e){var t=null;return _.forEach(this.goods,function(n){if(JSON.parse(n.base_describe).type===i.WEAPON_KEY&&n.id===e)return t=n,!1}),t},getCurrentWeapon:function(){if(this.getWeaponList().length<=0)return null;var e=r.getGlobalData(i.DATA_KEY.CURRENT_WEAPON);return e?this.getWeaponByItemId(e):null},getWeaponLevel:function(e){var t=["contract.ccshooter.upgrade"];if(!e||!e.describe_with_contract)return 1;for(var n=1,i=0;i<t.length;i++){var r=t[i];if(e.describe_with_contract.hasOwnProperty(r)){var o=e.describe_with_contract[r];o.hasOwnProperty("level")&&Number(o.level)>n&&(n=Number(o.level))}}return n},getWeaponLevelById:function(e){var t=this.getWeaponByItemId(e);return t?this.getWeaponLevel(t):0},isGoodsSelling:function(e){for(var t=0;t<this.goodsSelling.length;t++)if(this.goodsSelling[t].id===e)return!0;return!1},getGoodsOrderId:function(e){for(var t=0;t<this.goodsSelling.length;t++)if(this.goodsSelling[t].id===e)return this.goodsSelling[t].order;return null}}));t.exports=o,cc._RF.pop()},{configuration:"configuration",constants:"constants"}],"plugins.min":[function(e,t,n){"use strict";cc._RF.push(t,"72367rp2FlPxI56nm0II73Y","plugins.min");var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":r(e))&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t),n.d(t,"default",function(){return s});var r=Cocosjs.WALLET_METHODS,a=Cocosjs.SocketService,s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Cocosjs.Blockchains.COCOSBCX,Cocosjs.PluginTypes.BLOCKCHAIN_SUPPORT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Cocosjs.Plugin),i(t,[{key:"setSocketService",value:function(e){a=e}},{key:"hookProvider",value:function(){throw new Error("cocos hook provider not enabled yet.")}},{key:"signatureProvider",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n[0],function(e){return function(e,t){return new Proxy(e,t)}(e,{get:function(e,n){return"function"==typeof e[n]?function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return Cocosjs.cocos.isExtension?e[n].apply(e,o):n===r.transferAsset?new Promise(function(e,n){var i;(i=t.methods())[r.transferAsset].apply(i,o).then(function(t){return e(t)}).catch(function(e){return n(e)})}):n===r.callContractFunction?new Promise(function(e,n){var i;(i=t.methods())[r.callContractFunction].apply(i,o).then(function(t){return e(t)}).catch(function(e){return n(e)})}):n===r.getAccountInfo?new Promise(function(e,n){t.methods()[r.getAccountInfo]({}).then(function(t){return e(t)}).catch(function(e){return n(e)})}):e[n].apply(e,o)}:e[n]}})}}}],[{key:"methods",value:function(){var e;return o(e={},r.transferAsset,function(e){return a.sendApiRequest({type:"requestTransfer",payload:e})}),o(e,r.callContractFunction,function(e){return a.sendApiRequest({type:"callContractFunction",payload:e})}),o(e,r.getAccountInfo,function(e){return a.sendApiRequest({type:"getAccountInfo",payload:{}})}),e}}]),t}();"undefined"!=typeof window&&(window.CocosBCX=s)}]),cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,r){"function"==typeof define&&define.amd?define([],function(){return r(e)}):"object"==(void 0===n?"undefined":i(n))?t.exports=r(e):e.Polyglot=r(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||o}function n(e,t,n){var i,o;return null!=n&&e?i=function(e){return e.replace(/^\s+|\s+$/g,"")}((o=e.split(a))[r(t,n)]||o[0]):i=e,i}function r(e,t){return s[function(e){var t=function(e){var t,n,i,r={};for(t in e)if(e.hasOwnProperty(t))for(i in n=e[t])r[n[i]]=t;return r}(c);return t[e]||t.en}(e)](t)}function o(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"."+r),"object"==(void 0===n?"undefined":i(n))?this.extend(n,r):this.phrases[r]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,r;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof i&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),r=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(r=n(i,this.currentLocale,t.smart_count),t)),r},t.prototype.has=function(e){return e in this.phrases};var a="||||",s={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},c={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],pomeloBuild:[function(e,t,n){(function(e){"use strict";cc._RF.push(t,"2b140+XfZJAkrKhkboKjpW4","pomeloBuild");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.prototype.hasOwnProperty,r=cc.Class({onLoad:function(){this.modules={},this.aliases={}},requirePomelo:function(e,t,n){var i=this.resolve(e);if(null===i){n=n||e,t=t||"root";var r=new Error('Failed to requirePomelo "'+n+'" from "'+t+'"');throw r.path=n,r.parent=t,r.requirePomelo=!0,r}var o=this.modules[i];return o.exports||(o.exports={},o.client=o.component=!0,o.call(this,o.exports,this.relative(i),o)),o.exports},resolve:function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var t=e+"/index.js",n=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],r=0;r<n.length;r++){var o=n[r];if(i.call(this.modules,o))return o}if(i.call(this.aliases,t))return this.aliases[t]},normalize:function(e,t){var n=[];if("."!==t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."===t[i]?e.pop():"."!==t[i]&&""!==t[i]&&n.push(t[i]);return e.concat(n).join("/")},register:function(e,t){this.modules[e]=t},alias:function(e,t){if(!i.call(this.modules,e))throw new Error('Failed to alias "'+e+'", it does not exist');this.aliases[t]=e},relative:function(e){var t=this.normalize(e,"..");var n=this;function r(t){var i=r.resolve(t);return n.requirePomelo(i,e,t)}return r.resolve=function(i){var r=i.charAt(0);if("/"===r)return i.slice(1);if("."===r)return n.normalize(t,i);var o=e.split("/"),a=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}(o,"deps")+1;return a||(a=0),i=o.slice(0,a+1).join("/")+"/deps/"+i},r.exists=function(e){return i.call(n.modules,r.resolve(e))},r}});r.create=function(){var t=new r;return t.onLoad(),t.register("component-indexof/index.js",function(e,t,n){var i=[].indexOf;n.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),t.register("component-emitter/index.js",function(e,t,n){var i=t("indexof");function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}n.exports=r,r.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},t._off=i,this.on(e,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(e,t){if(this._callbacks=this._callbacks||{},0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;var r=i(n,t._off||t);return~r&&n.splice(r,1),this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),t.register("NetEase-pomelo-protocol/lib/protocol.js",function(t,i,r){(function(e,t,n){var i=e,o=i.Package={},a=i.Message={};o.TYPE_HANDSHAKE=1,o.TYPE_HANDSHAKE_ACK=2,o.TYPE_HEARTBEAT=3,o.TYPE_DATA=4,o.TYPE_KICK=5,a.TYPE_REQUEST=0,a.TYPE_NOTIFY=1,a.TYPE_RESPONSE=2,a.TYPE_PUSH=3,i.strencode=function(e){for(var n=new t(3*e.length),i=0,r=0;r<e.length;r++){var o=e.charCodeAt(r),a=null;a=o<=127?[o]:o<=2047?[192|o>>6,128|63&o]:[224|o>>12,128|(4032&o)>>6,128|63&o];for(var c=0;c<a.length;c++)n[i]=a[c],++i}var u=new t(i);return s(u,0,n,0,i),u},i.strdecode=function(e){for(var n=new t(e),i=[],r=0,o=0,a=n.length;r<a;)n[r]<128?(o=n[r],r+=1):n[r]<224?(o=((63&n[r])<<6)+(63&n[r+1]),r+=2):(o=((15&n[r])<<12)+((63&n[r+1])<<6)+(63&n[r+2]),r+=3),i.push(o);var s,c="";for(s=0;s<i.length/8192;s++)c+=String.fromCharCode.apply(null,i.slice(8192*s,8192*(s+1)));return c+=String.fromCharCode.apply(null,i.slice(8192*s))},o.encode=function(e,n){var i=n?n.length:0,r=new t(4+i),o=0;return r[o++]=255&e,r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i,n&&s(r,o,n,0,i),r},o.decode=function(e){var n=new t(e),i=n[0],r=1,o=(n[r++]<<16|n[r++]<<8|n[r++])>>>0,a=o?new t(o):null;return s(a,0,n,4,o),{type:i,body:a}},a.encode=function(e,n,r,o,a){var s=c(n)?h(e):0,g=1+s;if(u(n))if(r){if("number"!=typeof o)throw new Error("error flag for number route!");g+=2}else if(g+=1,o){if((o=i.strencode(o)).length>255)throw new Error("route maxlength is overflow");g+=o.length}a&&(g+=a.length);var m=new t(g),y=0;return y=l(n,r,m,y),c(n)&&(y=f(e,s,m,y)),u(n)&&(y=p(r,o,m,y)),a&&(y=d(a,m,y)),m},a.decode=function(e){var n=new t(e),r=n.length||n.byteLength,o=0,a=0,h=null,l=n[o++],f=1&l,p=l>>1&7;if(c(p)){var d=n[o++];for(a=127&d;128&d;)a<<=7,a|=127&(d=n[o++])}if(u(p))if(f)h=n[o++]<<8|n[o++];else{var g=n[o++];g?(h=new t(g),s(h,0,n,o,g),h=i.strdecode(h)):h="",o+=g}var m=r-o,y=new t(m);return s(y,0,n,o,m),{id:a,type:p,compressRoute:f,route:h,body:y}};var s=function(e,t,n,i,r){if("function"==typeof n.copy)n.copy(e,t,i,i+r);else for(var o=0;o<r;o++)e[t++]=n[i++]},c=function(e){return e===a.TYPE_REQUEST||e===a.TYPE_RESPONSE},u=function(e){return e===a.TYPE_REQUEST||e===a.TYPE_NOTIFY||e===a.TYPE_PUSH},h=function(e){var t=0;do{t+=1,e>>=7}while(e>0);return t},l=function(e,t,n,i){if(e!==a.TYPE_REQUEST&&e!==a.TYPE_NOTIFY&&e!==a.TYPE_RESPONSE&&e!==a.TYPE_PUSH)throw new Error("unkonw message type: "+e);return n[i]=e<<1|(t?1:0),i+1},f=function(e,t,n,i){var r=i+t-1;for(n[r--]=127&e;r>=i;)e>>=7,n[r--]=127&e|128;return i+t},p=function(e,t,n,i){if(e){if(t>65535)throw new Error("route number is overflow");n[i++]=t>>8&255,n[i++]=255&t}else t?(n[i++]=255&t.length,s(n,i,t,0,t.length),i+=t.length):n[i++]=0;return i},d=function(e,t,n){return s(t,n,e,0,e.length),n+e.length};r.exports=i})("object"===(void 0===r?"undefined":n(r))?r.exports:this.Protocol={},"object"===(void 0===r?"undefined":n(r))?e:Uint8Array)}),t.register("pomelonode-pomelo-protobuf/lib/client/protobuf.js",function(e,t,i){(function(e,t){var n=e;n.init=function(e){n.encoder.init(e.encoderProtos),n.decoder.init(e.decoderProtos)},n.encode=function(e,t){return n.encoder.encode(e,t)},n.decode=function(e,t){return n.decoder.decode(e,t)},i.exports=n})("object"===(void 0===i?"undefined":n(i))?i.exports:this.protobuf={}),(("undefined"!=typeof protobuf?protobuf:i.exports).constants={}).TYPES={uInt32:0,sInt32:0,int32:0,double:1,string:2,message:2,float:5},(("undefined"!=typeof protobuf?protobuf:i.exports).util={}).isSimpleType=function(e){return"uInt32"===e||"sInt32"===e||"int32"===e||"uInt64"===e||"sInt64"===e||"float"===e||"double"===e},function(e,t){var n=("undefined"!==typeof protobuf?protobuf:i.exports).codec={},r=new ArrayBuffer(8),o=new Float32Array(r),a=new Float64Array(r),s=new Uint8Array(r);function c(e){return e<=127?[e]:e<=2047?[192|e>>6,128|63&e]:[224|e>>12,128|(4032&e)>>6,128|63&e]}function u(e){return e<=127?1:e<=2047?2:3}n.encodeUInt32=function(e){e=parseInt(e);if(isNaN(e)||e<0)return null;var t=[];do{var n=e%128,i=Math.floor(e/128);0!==i&&(n+=128),t.push(n),e=i}while(0!==e);return t},n.encodeSInt32=function(e){e=parseInt(e);return isNaN(e)?null:(e=e<0?2*Math.abs(e)-1:2*e,n.encodeUInt32(e))},n.decodeUInt32=function(e){for(var t=0,n=0;n<e.length;n++){var i=parseInt(e[n]);if(t+=(127&i)*Math.pow(2,7*n),i<128)return t}return t},n.decodeSInt32=function(e){var t=this.decodeUInt32(e);return t=(t%2+t)/2*(t%2==1?-1:1)},n.encodeFloat=function(e){return o[0]=e,s},n.decodeFloat=function(e,t){if(!e||e.length<t+4)return null;for(var n=0;n<4;n++)s[n]=e[t+n];return o[0]},n.encodeDouble=function(e){return a[0]=e,s.subarray(0,8)},n.decodeDouble=function(e,t){if(!e||e.length<8+t)return null;for(var n=0;n<8;n++)s[n]=e[t+n];return a[0]},n.encodeStr=function(e,t,n){for(var i=0;i<n.length;i++)for(var r=c(n.charCodeAt(i)),o=0;o<r.length;o++)e[t]=r[o],t++;return t},n.decodeStr=function(e,t,n){for(var i=[],r=t+n;t<r;){var o=0;e[t]<128?(o=e[t],t+=1):e[t]<224?(o=((63&e[t])<<6)+(63&e[t+1]),t+=2):(o=((15&e[t])<<12)+((63&e[t+1])<<6)+(63&e[t+2]),t+=3),i.push(o)}for(var a="",s=0;s<i.length;)a+=String.fromCharCode.apply(null,i.slice(s,s+1e4)),s+=1e4;return a},n.byteLength=function(e){if("string"!=typeof e)return-1;for(var t=0,n=0;n<e.length;n++){t+=u(e.charCodeAt(n))}return t}}(),function(e,t){var n=e,i=e.encoder={},r=n.codec,o=n.constants,a=n.util;function s(e,t,n,i){for(var r in i)if(n[r]){var o=n[r];switch(o.option){case"required":case"optional":t=h(e,t,l(o.type,o.tag)),t=c(i[r],o.type,t,e,n);break;case"repeated":i[r].length>0&&(t=u(i[r],o,t,e,n))}}return t}function c(e,t,n,o,a){switch(t){case"uInt32":n=h(o,n,r.encodeUInt32(e));break;case"int32":case"sInt32":n=h(o,n,r.encodeSInt32(e));break;case"float":h(o,n,r.encodeFloat(e)),n+=4;break;case"double":h(o,n,r.encodeDouble(e)),n+=8;break;case"string":var c=r.byteLength(e);n=h(o,n,r.encodeUInt32(c)),r.encodeStr(o,n,e),n+=c;break;default:var u=a.__messages[t]||i.protos["message "+t];if(u){var l=new ArrayBuffer(r.byteLength(JSON.stringify(e)));c=s(l,c=0,u,e),n=h(o,n,r.encodeUInt32(c));for(var f=0;f<c;f++)o[n]=l[f],n++}}return n}function u(e,t,n,i,o){var s=0;if(a.isSimpleType(t.type))for(n=h(i,n=h(i,n,l(t.type,t.tag)),r.encodeUInt32(e.length)),s=0;s<e.length;s++)n=c(e[s],t.type,n,i);else for(s=0;s<e.length;s++)n=h(i,n,l(t.type,t.tag)),n=c(e[s],t.type,n,i,o);return n}function h(e,t,n){for(var i=0;i<n.length;i++,t++)e[t]=n[i];return t}function l(e,t){var n=o.TYPES[e]||2;return r.encodeUInt32(t<<3|n)}i.init=function(e){this.protos=e||{}},i.encode=function(e,t){var n=this.protos[e];if(!function e(t,n){if(!n)return!1;for(var r in n){var o=n[r];switch(o.option){case"required":if(void 0===t[r])return!1;case"optional":if(void 0!==t[r]){var a=n.__messages[o.type]||i.protos["message "+o.type];a&&e(t[r],a)}break;case"repeated":var a=n.__messages[o.type]||i.protos["message "+o.type];if(t[r]&&a)for(var s=0;s<t[r].length;s++)if(!e(t[r][s],a))return!1}}return!0}(t,n))return null;var o=r.byteLength(JSON.stringify(t)),a=new ArrayBuffer(o),c=new Uint8Array(a),u=0;return n&&(u=s(c,u,n,t))>0?c.subarray(0,u):null}}("undefined"!=typeof protobuf?protobuf:i.exports),function(e,t){var n,i=e,r=e.decoder={},o=i.codec,a=i.util,s=0;function c(e,t,n){for(;s<n;){var i=u(),r=(i.type,i.tag),o=t.__tags[r];switch(t[o].option){case"optional":case"required":e[o]=h(t[o].type,t);break;case"repeated":e[o]||(e[o]=[]),l(e[o],t[o].type,t)}}return e}function u(){var e=o.decodeUInt32(f());return{type:7&e,tag:e>>3}}function h(e,t){switch(e){case"uInt32":return o.decodeUInt32(f());case"int32":case"sInt32":return o.decodeSInt32(f());case"float":var i=o.decodeFloat(n,s);return s+=4,i;case"double":var a=o.decodeDouble(n,s);return s+=8,a;case"string":var u=o.decodeUInt32(f()),h=o.decodeStr(n,s,u);return s+=u,h;default:var l=t.__messages[e]||r.protos["message "+e];if(t&&l){u=o.decodeUInt32(f());var p={};return c(p,l,s+u),p}}}function l(e,t,n){if(a.isSimpleType(t))for(var i=o.decodeUInt32(f()),r=0;r<i;r++)e.push(h(t));else e.push(h(t,n))}function f(e){var t,i=[],r=s;e=e||!1;do{t=n[r],i.push(t),r++}while(t>=128);return e||(s=r),i}r.init=function(e){this.protos=e||{}},r.setProtos=function(e){e&&(this.protos=e)},r.decode=function(e,t){var i=this.protos[e];return n=t,s=0,i?c({},i,n.length):null}}("undefined"!=typeof protobuf?protobuf:i.exports)}),t.register("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js",function(e,t,n){(function(e){var t=e.Protocol,i=t.Package,r=t.Message,o=e.EventEmitter,a=e.protobuf;"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var s=window,c=Object.create(o.prototype);s.pomelo=c;var u=null,h=0,l={},f={},p={},d=0,g=0,m=0,y=null,v=null,b=null,w={sys:{type:"js-websocket",version:"0.0.1"},user:{}},_=null;c.init=function(e,t){var n;if(_=t,!e.url||cc.sys.isBrowser&&"http:"===window.location.protocol){var i=e.host,r=e.port;n="ws://"+i,r&&(n+=":"+r)}else n="wss://"+e.url;w.user=e.user,b=e.handshakeCallback,S(n,t)};var S=function(e,n){console.log("connect to "+e);(u=new WebSocket(e)).binaryType="arraybuffer",u.onopen=function(e){var n=i.encode(i.TYPE_HANDSHAKE,t.strencode(JSON.stringify(w)));P(n)},u.onmessage=function(e){C(i.decode(e.data),n),g&&(m=Date.now()+g)},u.onerror=function(e){c.emit("io-error",e),console.error("socket error: ",JSON.stringify(e))},u.onclose=function(e){c.emit("close",e),console.error("socket close: ",JSON.stringify(e)),y&&(clearTimeout(y),y=null),v&&(clearTimeout(v),v=null)}};c.disconnect=function(){u&&(u.disconnect&&u.disconnect(),u.close&&u.close(),cc.log("disconnect"),u.onopen=null,u.onmessage=null,u.onerror=null,u.onclose=null,u=null),y&&(clearTimeout(y),y=null),v&&(clearTimeout(v),v=null)},c.request=function(e,t,n){2===arguments.length&&"function"==typeof t?(n=t,t={}):t=t||{},(e=e||t.route)&&(++h%128==0&&h++,E(h,e,t),l[h]=n,p[h]=e)},c.notify=function(e,t){E(0,e,t=t||{})};var E=function(e,n,o){var s=e?r.TYPE_REQUEST:r.TYPE_NOTIFY;o=(c.data.protos?c.data.protos.client:{})[n]?a.encode(n,o):t.strencode(JSON.stringify(o));var u=0;c.dict&&c.dict[n]&&(n=c.dict[n],u=1),o=r.encode(e,s,u,n,o);var h=i.encode(i.TYPE_DATA,o);P(h)},P=function(e){u&&u.send(e.buffer)},I=function e(){var t=m-Date.now();t>100?v=setTimeout(e,t):(console.error("server heartbeat timeout"),c.emit("heartbeat timeout"),c.disconnect())};f[i.TYPE_HANDSHAKE]=function(e){if(501!==(e=JSON.parse(t.strdecode(e))).code)if(200===e.code){k(e);var n=i.encode(i.TYPE_HANDSHAKE_ACK);P(n),_&&(_(u),_=null)}else c.emit("error","handshake fail");else c.emit("error","client version not fullfill")},f[i.TYPE_HEARTBEAT]=function(e){if(d){var t=i.encode(i.TYPE_HEARTBEAT);v&&(clearTimeout(v),v=null),y||(y=setTimeout(function(){y=null,P(t),m=Date.now()+g,v=setTimeout(I,g)},d))}},f[i.TYPE_DATA]=function(e){var t=r.decode(e);t.id>0&&(t.route=p[t.id],delete p[t.id],!t.route)||(t.body=A(t),T(c,t))},f[i.TYPE_KICK]=function(e){var n=JSON.parse(t.strdecode(e)),i="kick";n.hasOwnProperty("reason")&&(i=n.reason),c.emit("onKick",i)};var C=function(e){f[e.type](e.body)},T=function(e,t){if(cc.log("receive msg from :"+t.route),cc.log(t.body),t.id){var n=l[t.id];delete l[t.id],"function"==typeof n&&n(t)}else e.emit(t.route,t)},A=function(e){var n=c.data.protos?c.data.protos.server:{},i=c.data.abbrs,r=e.route;if(e.compressRoute){if(!i[r])return{};r=e.route=i[r]}return n[r]?a.decode(r,e.body):JSON.parse(t.strdecode(e.body))},k=function(e){e.sys&&e.sys.heartbeat?(d=1e3*e.sys.heartbeat,g=2*d):(d=0,g=0),R(e),"function"==typeof b&&b(e.user)},R=function(e){if(e&&e.sys){c.data=c.data||{};var t=e.sys.dict,n=e.sys.protos;if(t)for(var i in c.data.dict=t,c.data.abbrs={},t)c.data.abbrs[t[i]]=i;n&&(c.data.protos={server:n.server||{},client:n.client||{}},a&&a.init({encoderProtos:n.client,decoderProtos:n.server}))}};n.exports=c})(this)}),t.register("boot/index.js",function(e,t,n){var i=t("emitter");this.EventEmitter=Object.create(i);var r=t("pomelo-protocol");this.Protocol=r;var o=t("pomelo-protobuf");this.protobuf=o;var a=t("pomelo-jsclient-websocket");this.pomelo=a}),t.alias("boot/index.js","pomelo-client/deps/boot/index.js"),t.alias("component-emitter/index.js","boot/deps/emitter/index.js"),t.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),t.alias("NetEase-pomelo-protocol/lib/protocol.js","boot/deps/pomelo-protocol/lib/protocol.js"),t.alias("NetEase-pomelo-protocol/lib/protocol.js","boot/deps/pomelo-protocol/index.js"),t.alias("NetEase-pomelo-protocol/lib/protocol.js","NetEase-pomelo-protocol/index.js"),t.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","boot/deps/pomelo-protobuf/lib/client/protobuf.js"),t.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","boot/deps/pomelo-protobuf/index.js"),t.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","pomelonode-pomelo-protobuf/index.js"),t.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","boot/deps/pomelo-jsclient-websocket/lib/pomelo-client.js"),t.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","boot/deps/pomelo-jsclient-websocket/index.js"),t.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","pomelonode-pomelo-jsclient-websocket/index.js"),t.requirePomelo("boot"),t},t.exports=r,cc._RF.pop()}).call(this,e("buffer").Buffer)},{buffer:2}],poolManager:[function(e,t,n){"use strict";cc._RF.push(t,"0c812zHPv1O2af+eiDCF8fZ","poolManager");var i=new(cc.Class({start:function(){this.dictPool={}},getNode:function(e,t){var n=e.name,i=null;if(this.dictPool.hasOwnProperty(n)){var r=this.dictPool[n];i=r.size()>0?r.get():cc.instantiate(e)}else{var o=new cc.NodePool;this.dictPool[n]=o,i=cc.instantiate(e)}return i.parent=t,i},putNode:function(e){var t=e.name,n=null;this.dictPool.hasOwnProperty(t)?n=this.dictPool[t]:(n=new cc.NodePool,this.dictPool[t]=n),n.put(e)},clearPool:function(e){this.dictPool.hasOwnProperty(e)&&this.dictPool[e].clear()}}));i.start(),t.exports=i,cc._RF.pop()},{}],regist:[function(e,t,n){"use strict";cc._RF.push(t,"bb672YqxgNFdYTHxyYgIATh","regist");e("resourceUtil");var i=e("bcxAdapter"),r=e("LanguageData");cc.Class({extends:cc.Component,properties:{edtAccount:cc.EditBox,edtPassword:cc.EditBox,edtPassword2:cc.EditBox,edtPrivateKey:cc.EditBox,frameReg:cc.Node,frameKey:cc.Node},onLoad:function(){this.setCurLanguage()},start:function(){i.logout(function(){})},show:function(e){this.loginScene=e,cc.gameSpace.hideLoading()},onBtnCloseClick:function(){this.node.destroy()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?r.init("en"):r.init("zh"),r.updateSceneRenderers()},onBtnRegistClick:function(){var e=this,t=this.edtAccount.string,n=this.edtPassword.string,r=this.edtPassword2.string;""!==t?""!==n&&""!==r?n===r?(cc.gameSpace.showLoading(cc.gameSpace.text.registering+"..."),i.signUp(t,n,function(t,n){t?cc.gameSpace.showTips(t):e.onBtnConfirmClick(),cc.gameSpace.hideLoading()})):cc.gameSpace.showTips(cc.gameSpace.text.password_confirm_error):cc.gameSpace.showTips(cc.gameSpace.text.password_null):cc.gameSpace.showTips(cc.gameSpace.text.account_null)},onPrivateKeyChanged:function(e){e!==this.privateKey&&(this.edtPrivateKey.string=this.privateKey)},onBtnConfirmClick:function(){this.node.destroy(),cc.gameSpace.showLoading(cc.gameSpace.text.register_loading+"..."),this.loginScene.loadMainScene()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],relife:[function(e,t,n){"use strict";cc._RF.push(t,"0ba11mtbmpDOoyh6M6Mjphp","relife");var i=e("playerData"),r=(e("resourceUtil"),e("bcxAdapter")),o=e("LanguageData");cc.Class({extends:cc.Component,properties:{txtSecond:cc.Label,txtCost:cc.Label},start:function(){this.second=10,this.refreshSecond(),this.countDownTimer=setInterval(function(e){e.countDownTime()},1e3,this),this.setCurLanguage(),this.txtCost.string=cc.gameSpace.text.need_to_pay+" "+i.relifeCost+" "+cc.gameSpace.text.cocos_coins},show:function(e){this.fightScene=e},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?o.init("en"):o.init("zh"),o.updateSceneRenderers()},countDownTime:function(){this.second--,this.second<0&&(this.second=0,this.onBtnNoClick()),this.refreshSecond()},refreshSecond:function(){this.txtSecond.string=this.second+" s"},clear:function(){this.node.destroy(),this.clearCountDown()},clearCountDown:function(){this.countDownTimer&&(clearInterval(this.countDownTimer),this.countDownTimer=null)},onBtnYesClick:function(){var e=this;this.isPaying||(this.isPaying=!0,this.clearCountDown(),cc.gameSpace.showLoading(cc.gameSpace.text.paying+"..."),r.reqRelife(function(t,n){e.isPaying=!1,cc.gameSpace.hideLoading(),t?cc.gameSpace.showTips(t,function(){}):(e.onCompleteYes(),e.clear())}))},onBtnNoClick:function(){this.clear(),this.fightScene.showGameOver()},onCompleteYes:function(){this.fightScene.resume(),this.fightScene.reLife()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",playerData:"playerData",resourceUtil:"resourceUtil"}],resourceUtil:[function(e,t,n){"use strict";cc._RF.push(t,"caa77uZgtBNH6fVcTZYGENz","resourceUtil");var i=new(cc.Class({properties:{},onLoad:function(){this.showTipsTime=0,this.isShow=!1,this.loading=null},loadRes:function(e,t,n){cc.loader.loadRes(e,t,function(e,t){e?cc.error(e.message||e):n(e,t)})},createEffect:function(e,t,n,i){this.loadRes("effects/"+e+"/"+e,cc.Prefab,function(e,r){if(e)n.apply(i,[e]);else{var o=cc.instantiate(r);o.position=cc.v2(0,0),t||(t=cc.director.getScene().getChildByName("Canvas")),o.parent=t,n.apply(i,[null,o])}})},createEffectWithPath:function(e,t,n,i){this.loadRes("effects/"+e,cc.Prefab,function(e,r){if(e)n("err",null);else{var o=cc.instantiate(r);t||(t=cc.find("Canvas")),t.addChild(o),n.apply(i,[null,o])}})},getUIPrefabRes:function(e,t){this.loadRes("prefabs/ui/"+e,cc.Prefab,t)},createUI:function(e,t,n){this.loadRes("prefabs/ui/"+e,cc.Prefab,function(e,i){if(!e){var r=cc.instantiate(i);r.setPosition(cc.v2(0,0)),n||(n=cc.find("Canvas")),n.addChild(r),t(null,r)}})},playEffect:function(e,t,n,i){var r=e.getComponent(cc.Animation);r.play(e.name),r.once("finished",function(){i&&e.destroy(),t.apply(n)},n)},getPilotIcon:function(e,t){var n=e.split(".");this.loadRes("Textures/Head/"+n[0],cc.SpriteFrame,t)}}));i.onLoad(),t.exports=i,cc._RF.pop()},{}],select_prefab:[function(e,t,n){"use strict";cc._RF.push(t,"231e1JzVExJNLXpRHlvIPT9","select_prefab");var i=e("LanguageData");cc.Class({extends:cc.Component,properties:{btn_table:cc.Node,select_table:cc.Node},onLoad:function(){this.initLanguageText(),this.btn_table.on("touchend",this.openSelectTable,this),this.arrow=this.btn_table.getChildByName("arrow"),this.language_text=this.btn_table.getChildByName("language_text"),this.zh_bg=this.select_table.getChildByName("zh_bg"),this.en_bg=this.select_table.getChildByName("en_bg"),this.zh_text_btn=this.select_table.getChildByName("zh_text_btn"),this.en_text_btn=this.select_table.getChildByName("en_text_btn"),this.zh_text_btn.on("touchend",this.switchZhEndCallBack,this.zh_text_btn),this.en_text_btn.on("touchend",this.switchEnEndCallBack,this.en_text_btn),this.select_table.active=!1,this.checkCurLanguage(),this.open_select=!1},checkCurLanguage:function(){var e=cc.sys.localStorage.getItem("language");e||(cc.sys.localStorage.setItem("language",0),e=0),this.setCurLanguage(e)},setCurLanguage:function(e){var t="";1==e?(i.init("en"),t="English",this.en_bg.active=!1,this.zh_bg.active=!0,cc.gameSpace.text=this.text_en):(i.init("zh"),t="\u7b80\u4f53\u4e2d\u6587",this.en_bg.active=!0,this.zh_bg.active=!1,cc.gameSpace.text=this.text),this.language_text.getComponent(cc.Label).string=t,i.updateSceneRenderers()},openSelectTable:function(){this.open_select?this.open_select=!1:this.open_select=!0,this.open_select?this.arrow.rotation=0:this.arrow.rotation=180,this.select_table.active=this.open_select},switchEnEndCallBack:function(e){var t=e.target.parent.parent.getComponent("select_prefab");cc.sys.localStorage.setItem("language",1),t.setCurLanguage(1),t.openSelectTable()},switchZhEndCallBack:function(e){var t=e.target.parent.parent.getComponent("select_prefab");cc.sys.localStorage.setItem("language",0),t.setCurLanguage(0),t.openSelectTable()},initLanguageText:function(){this.text={lottery_nocoin:"\u4ee3\u5e01\u6570\u91cf\u4e0d\u8db3",executing:"\u6b63\u5728\u6267\u884c",contract:"\u5408\u7ea6",bomb:"\u70b8\u5f39",weapon:"\u6b66\u5668",Incorrect_data:"\u8be5\u5546\u54c1\u6570\u636e\u6709\u8bef",cancel_sell:"\u53d6\u6d88\u51fa\u552e\u4e2d",cancel_success:"\u53d6\u6d88\u6210\u529f",gongqijun:"\u5bab\u5d0e\u9a8f",unselected:"\u672a\u9009\u62e9",need_to_pay:"\u9700\u8981\u652f\u4ed8",cocos_coins:"Cocos\u5e01",registering:"\u6b63\u5728\u6ce8\u518c\u4e2d",account_null:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a",password_null:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",privatekey_null:"\u79c1\u94a5\u4e0d\u80fd\u4e3a\u7a7a",submit_data:"\u6b63\u5728\u63d0\u4ea4\u6570\u636e\u4e2d",success_rewards:"\u5956\u52b1\u53d1\u653e\u6210\u529f",logining:"\u767b\u5f55\u4e2d...",Requesting_info:"\u6b63\u5728\u8bf7\u6c42\u6218\u573a\u4fe1\u606f",deduct_Coin:"\u6263\u9664Cocos\u5e01",success:"\u6210\u529f",enter_battlefield:"\u6b63\u5728\u8fdb\u5165\u6218\u573a",loading_main:"\u767b\u5f55\u6210\u529f\uff0c\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f",register_loading:"\u6ce8\u518c\u6210\u529f\uff0c\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f",in_the_list:"\u6302\u5355\u4e2d",refreshing:"\u5237\u65b0\u4e2d",loading:"\u52a0\u8f7d\u4e2d",paying:"\u6b63\u5728\u652f\u4ed8\u4e2d",getting_key:"\u83b7\u53d6\u79c1\u94a5\u4e2d",prive_error:"\u8f93\u5165\u4ef7\u683c\u6709\u8bef",time_expiration_error:"\u8f93\u5165\u8fc7\u671f\u65f6\u95f4\u6709\u8bef",time_max:"\u6302\u5355\u65f6\u95f4\u6700\u591a\u53ea\u80fd72\u5c0f\u65f6",password_confirm_error:"\u5bc6\u7801\u4e0e\u786e\u8ba4\u5bc6\u7801\u4e0d\u540c",strengthen_success:"\u5f3a\u5316\u6210\u529f",success_list:"\u6302\u5355\u6210\u529f"},this.text_en={lottery_nocoin:"Insufficient tokens",executing:"Executing",contract:"contract",bomb:"Bomb",weapon:"Weapon",Incorrect_data:"Incorrect commodity data",cancel_sell:"Cancellation of sale",cancel_success:"Cancel Success",gongqijun:"Hayao Miyazaki",unselected:"unselected",need_to_pay:"Need to pay",cocos_coins:"Cocos coins",registering:"Registering ",account_null:"Account cannot be empty",password_null:"Password cannot be empty",privatekey_null:"Private key cannot be empty",submit_data:"Data being submitted",success_rewards:"Successful rewards",logining:"Logging in...",Requesting_info:"Requesting battlefield information",deduct_Coin:"Deduct Cocos Coin",success:"Successfull",enter_battlefield:"Entering the battlefield",loading_main:"Login successfully, loading the main scenario",register_loading:"Register successfully,, loading the main scenario",in_the_list:"In the list",refreshing:"Refreshing",loading:"loading",paying:"Payment in progress",getting_key:"Getting the private key",prive_error:"Input Price Error",time_expiration_error:"Error in input expiration time",time_max:"Pending orders can only be 72 hours at most.",password_confirm_error:"Password is different from confirmation password",strengthen_success:"Successfull strengthen",success_list:"Successful listing"}}}),cc._RF.pop()},{LanguageData:"LanguageData"}],showKey:[function(e,t,n){"use strict";cc._RF.push(t,"75b75PDrqRKRL+SKe0KvtYs","showKey");e("resourceUtil");var i=e("bcxAdapter"),r=e("LanguageData");cc.Class({extends:cc.Component,properties:{edtPrivateKey:cc.EditBox},onLoad:function(){cc.gameSpace.showLoading(cc.gameSpace.text.getting_key);var e=this;i.getPrivateKey(function(t,n){t?cc.gameSpace.showTips(t):(e.privateKey=n.data.active_private_key,e.edtPrivateKey.string=e.privateKey),cc.gameSpace.hideLoading()}),this.setCurLanguage()},show:function(){cc.gameSpace.hideLoading()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?r.init("en"):r.init("zh"),r.updateSceneRenderers()},onPrivateKeyChanged:function(e){e!==this.privateKey&&(this.edtPrivateKey.string=this.privateKey)},onBtnConfirmClick:function(){this.node.destroy()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],startScene:[function(e,t,n){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","startScene");var i=e("bcxAdapter"),r=e("constants"),o=(e("configuration"),e("resourceUtil")),a=e("playerData");cc.Class({extends:cc.Component,properties:{btnOpen:cc.Node,btnMute:cc.Node,txtCocos:cc.Label,txtLevel:cc.Label,btnChange:cc.Node,fightPlayer:cc.Node,imgWeaponUp:cc.SpriteFrame,imgWeaponDown:cc.SpriteFrame,headIcon:cc.Sprite,arrMap:[cc.Node]},onLoad:function(){var e=cc.winSize;e.width>e.height&&(this.node.getComponent(cc.Canvas).fitHeight=!0),this.isLoading=!1,this.isOpen=cc.gameSpace.audioManager.getConfiguration(!0),this.btnOpen.active=this.isOpen,this.btnMute.active=!this.isOpen,this.refreshChangeBtn(),this.refreshPilotInfo()},onEnable:function(){this.refreshMoney()},refreshMoney:function(){var e=this;i.getBalance(function(t,n){t?cc.gameSpace.showTips(t):e.txtCocos.string=n.data.COCOS.toFixed(1)})},onBtnPlayClick:function(){var e=this;cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.Requesting_info+"..."),this.isGetItemFinished=!1,this.isCostFinished=!1;var t=this;i.getItems(function(e,n){t.isGetItemFinished=!0,t.loadFightScene()}),i.reqStartGame(function(t,n){e.isCostFinished=!0,t?(cc.gameSpace.hideLoading(),cc.gameSpace.showTips(t)):(cc.gameSpace.showLoading(cc.gameSpace.text.deduct_Coin+"("+r.START_GAME_CONSUME+")"+cc.gameSpace.text.success+cc.gameSpace.enter_battlefield),e.loadFightScene())})},loadFightScene:function(){this.isGetItemFinished&&this.isCostFinished&&cc.director.preloadScene("fight",function(){cc.gameSpace.hideLoading(),cc.director.loadScene("fight",function(){})})},refreshChangeBtn:function(){var e=a.getCurrentWeapon();if(e){var t=a.getWeaponLevel(e);this.txtLevel.string="lv."+t}else this.txtLevel.string="";this.fightPlayer.getComponent("MainPlayer").refreshModel()},onBtnRefreshClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.refreshing+"...");var e=this;i.getItems(function(t,n){cc.gameSpace.hideLoading(),t||e.refreshChangeBtn()})},onBtnChangeClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("weapon","weapon",[this])},onBtnQuestionClick:function(){cc.gameSpace.audioManager.playSound("click",!1)},onBtnPilotClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("pilot","pilot",[this])},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("market","market",[])},onBtnRankClick:function(){i.test()},onBtnSoundClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.isOpen=!1,this.changeMusicState()},onBtnMuteClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.isOpen=!0,this.changeMusicState()},onBtnLotteryClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.loading),cc.gameSpace.uiManager.showSharedDialog("lottery","lottery")},changeMusicState:function(){this.btnOpen.active=this.isOpen,this.btnMute.active=!this.isOpen,this.isOpen?(cc.gameSpace.audioManager.openMusic(),cc.gameSpace.audioManager.openSound()):(cc.gameSpace.audioManager.closeMusic(),cc.gameSpace.audioManager.closeSound())},refreshPilotInfo:function(){var e=a.getCurrentPilot();if(e){var t=JSON.parse(e.base_describe),n=this;o.getPilotIcon(t.icon,function(e,t){!e&&cc.isValid(n.headIcon)&&(n.headIcon.spriteFrame=t)})}},update:function(e){this.updateMap()},updateMap:function(){for(var e=0;e<this.arrMap.length;e++){var t=this.arrMap[e];t.y=t.position.y-1}for(var n=0;n<this.arrMap.length;n++){var i=this.arrMap[n];if(i.position.y<=-cc.winSize.height/2-t.height/2-100){var r=n-1;r=r<0?this.arrMap.length-1:r;var o=this.arrMap[r];i.y=o.position.y+i.height;break}}},testBclFunction:function(){}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",configuration:"configuration",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],stopPropagation:[function(e,t,n){"use strict";cc._RF.push(t,"ea55dN1rNxD6qVRf70pebDB","stopPropagation"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.on("touchstart",function(e){e.stopPropagation()}),this.node.on("touchend",function(e){e.stopPropagation()}),this.node.on("touchmove",function(e){e.stopPropagation()}),this.node.on("touchcancel",function(e){e.stopPropagation()}),this.node.on("mousedown",function(e){e.stopPropagation()}),this.node.on("mouseenter",function(e){e.stopPropagation()}),this.node.on("mousemove",function(e){e.stopPropagation()}),this.node.on("mouseleave",function(e){e.stopPropagation()}),this.node.on("mouseup",function(e){e.stopPropagation()}),this.node.on("mousewheel",function(e){e.stopPropagation()})},onDisable:function(){this.node.off("touchstart",function(e){e.stopPropagation()}),this.node.off("touchend",function(e){e.stopPropagation()}),this.node.off("touchmove",function(e){e.stopPropagation()}),this.node.off("touchcancel",function(e){e.stopPropagation()}),this.node.off("mousedown",function(e){e.stopPropagation()}),this.node.off("mouseenter",function(e){e.stopPropagation()}),this.node.off("mousemove",function(e){e.stopPropagation()}),this.node.off("mouseleave",function(e){e.stopPropagation()}),this.node.off("mouseup",function(e){e.stopPropagation()}),this.node.off("mousewheel",function(e){e.stopPropagation()})}}),cc._RF.pop()},{}],uiManager:[function(e,t,n){"use strict";cc._RF.push(t,"5215e3L7P1Cm7yAC6WLNZa+","uiManager");var i=e("clientEvent"),r=e("constants"),o=e("resourceUtil"),a=e("poolManager"),s=new(cc.Class({start:function(){this.dictSharedPanel={},this.dictLoading={},this.arrPopupDialog=[],this.showTipsTime=0},regEvent:function(){var e=this,t=this;i.on("showSharedDialog",function(){for(var e=arguments[0],n=arguments[1],i=[],r=2;r<arguments.length;r++)i.push(arguments[r]);t.showSharedDialog(e,n,i)}),i.on("hideSharedDialog",function(t){e.hideSharedDialog(t)}),i.on("pushToPopupSeq",this.pushToPopupSeq,this),i.on("popFromPopupSeq",this.popFromPopupSeq,this)},showSharedDialog:function(e,t,n){var i=this;if(!this.dictLoading[e]){if(n||(n=[]),this.dictSharedPanel.hasOwnProperty(e)){var a=this.dictSharedPanel[e];if(cc.isValid(a)){a.parent=cc.find("Canvas"),a.active=!0;var s=a.getComponent(t);return void(s.show&&s.show.apply(s,n))}}this.dictLoading[e]=!0,o.createUI(e,function(o,a){var s=!1;if(i.dictLoading[e]||(s=!0),i.dictLoading[e]=!1,o)console.error(o);else{a.zIndex=r.ZORDER.DIALOG,i.dictSharedPanel[e]=a;var c=a.getComponent(t);c.show&&c.show.apply(c,n),s&&i.hideSharedDialog(e)}})}},hideSharedDialog:function(e){this.dictSharedPanel.hasOwnProperty(e)&&(this.dictSharedPanel[e].parent=null);this.dictLoading[e]=!1},pushToPopupSeq:function(e,t,n){var i={panelPath:e,scriptName:t,param:n,isShow:!1};this.arrPopupDialog.push(i),this.checkPopupSeq()},popFromPopupSeq:function(e){this.arrPopupDialog[0].panelPath===e&&(this.arrPopupDialog.shift(),this.checkPopupSeq())},checkPopupSeq:function(){if(this.arrPopupDialog.length>0){var e=this.arrPopupDialog[0];e.isShow||(i.dispatchEvent("showSharedDialog",e.panelPath,e.scriptName,e.param),this.arrPopupDialog[0].isShow=!0)}},showTips:function(e,t){var n=Date.now();if(n-this.showTipsTime<800){var i=800-(n-this.showTipsTime);setTimeout(function(e,t){this._showTipsAni(e,t)}.bind(this,e,t),i),this.showTipsTime=n+i}else this._showTipsAni(e,t),this.showTipsTime=n},_showTipsAni:function(e,t){o.getUIPrefabRes("common/tips",function(n,i){if(!n){var o=a.getNode(i,cc.find("Canvas"));o.zIndex=r.ZORDER.TIPS,o.setPosition(cc.v2(0,100)),o.opacity=255,o.stopActionByTag(1e4);var s=o.getChildByName("txtValue").getComponent(cc.RichText);s.maxWidth=0,s.string=e;var c=s._linesWidth;c.length&&c[0]<500?s.maxWidth=c[0]:(s.maxWidth=500,s.node.setContentSize(500,s.node.getContentSize().height));var u=s.node.getContentSize();if(cc.isValid(u)){o.setContentSize(u.width+136<240?240:u.width+136,u.height+50);var h,l=cc.delayTime(.8),f=cc.moveBy(.8,cc.v2(0,150)),p=cc.fadeOut(.8),d=cc.callFunc(function(e){a.putNode(e)},this);(h=t?cc.sequence(l,f,l,p,cc.callFunc(t),d):cc.sequence(l,f,l,p,d)).setTag(1e4),o.runAction(h)}else a.putNode(o)}})},showLoading:function(e,t){this.showSharedDialog("common/loading","loading",[e,t])},hideLoading:function(){this.hideSharedDialog("common/loading")},showGetMoneyTips:function(e,t,n){o.createUI("common/getTips",function(i,r){if(!i){var o=r.parent.convertToNodeSpaceAR(e);r.setPosition(o);var a="+"+t,s=cc.Color.GREEN;t<0&&(a=t,s=cc.Color.RED);var c=r.getChildByName("txtValue");c.color=s,c.getComponent(cc.Label).string=a,r.setScale(0);var u,h=cc.scaleTo(.5,1).easing(cc.easeBackInOut()),l=cc.delayTime(.5),f=cc.fadeOut(.8);u=n?cc.sequence(h,l,f,cc.callFunc(n),cc.removeSelf(!0)):cc.sequence(h,l,f,cc.removeSelf(!0)),r.runAction(u)}})}}));s.start(),t.exports=s,cc._RF.pop()},{clientEvent:"clientEvent",constants:"constants",poolManager:"poolManager",resourceUtil:"resourceUtil"}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"9daf9oAQcdI752d4zoeTyvC","utils");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={clone:function(e){if(null===e||"object"!==(void 0===e?"undefined":i(e)))return e;var t={};for(var n in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},objectToArray:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},arrayToObject:function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&e[i][t]&&(n[e[i][t]]=e[i]);return n},getWeightRandIndex:function(e,t){for(var n=parseInt(Math.random()*t),i=0,r=0;r<e.length&&!(n<(i+=e[r]));r++);return r},getRandomNFromM:function(e,t){for(var n=[],i=0,r=0;r<t&&!(r>=e+1);){i=this.getRandomInt(0,e);for(var o=0,a=0;a<r;a++)if(n[a]===i){o=1;break}0===o&&(n[r]=i,r++)}return n},getRandomInt:function(e,t){var n=Math.random()*(t-e+1)+e;return Math.floor(n)},getStringLength:function(e){for(var t=e,n=0,i=0,r=t.length;i<r;i++){n+=t.charCodeAt(i)<=255?1:2}return Math.ceil(n/2)},isEmptyObject:function(e){var t=!0;if(e&&e.constructor===Object){for(var n in e)if(e.hasOwnProperty(n)){t=!1;break}}else t=!1;return t},formatNum:function(e){if(e<=0)return"0";var t=Math.round(Math.log(e)/Math.log(1e3));return parseInt(e/Math.pow(1e3,t-1<0?0:t-1),10)+["","","K","M","B"][t]},isNewDay:function(e){var t=new Date(e),n=new Date,i=t.getYear(),r=t.getMonth(),o=t.getDate(),a=n.getYear(),s=n.getMonth(),c=n.getDate();return a>i||(s>r||c>o)},getPropertyCount:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},difference:function(e,t){var n=[];if(e.constructor!==Array||t.constructor!==Array)return n;for(var i=e.length,r=0;r<i;r++)-1===t.indexOf(e[r])&&n.push(e[r]);return n},base64encode:function(e){var t,n,i,r,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",h=0;for(e=this.utf8Encode(e);h<e.length;)r=(t=e.charCodeAt(h++))>>2,o=(3&t)<<4|(n=e.charCodeAt(h++))>>4,a=(15&n)<<2|(i=e.charCodeAt(h++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+c.charAt(r)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},base64Decode:function(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(r=s.indexOf(e.charAt(u++)))>>4,n=(15&r)<<4|(o=s.indexOf(e.charAt(u++)))>>2,i=(3&o)<<6|(a=s.indexOf(e.charAt(u++))),c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(i));return c=this.utf8Decode(c)},utf8Decode:function(e){for(var t="",n=0,i=0,r=0,o=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3);return t},stringToArray:function(e){var t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n=RegExp("[\\u200d\\ud800-\\udfff"+t+"\\ufe0e\\ufe0f]"),i="\\ud83c[\\udffb-\\udfff]",r="["+t+"]",o="(?:"+r+"|"+i+")"+"?",a="[\\ud800-\\udfff]",s="[^\\ud800-\\udfff]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",h="[\\ufe0e\\ufe0f]?"+o+("(?:\\u200d(?:"+[s,c,u].join("|")+")[\\ufe0e\\ufe0f]?"+o+")*"),l="(?:"+[s+r+"?",r,c,u,a].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+h,"g");return function(e){return n.test(e)}(e)?function(e){return e.match(f)||[]}(e):function(e){return e.split("")}(e)},simulationUUID:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isNowValid:function(e,t){var n=new Date(e),i=new Date(t),r=!1;if(n.getDate()+""!="NaN"&&i.getDate()+""!="NaN"){var o=new Date;r=o<i&&o>n}return r},getDeltaDays:function(e,t){e=new Date(e),t=new Date(t);var n=e.getFullYear(),i=e.getMonth()+1,r=e.getDate(),o=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();e=new Date(n+"-"+i+"-"+r+" GMT+0800").getTime();var c=(t=new Date(o+"-"+a+"-"+s+" GMT+0800").getTime())-e;return Math.floor(c/864e5)},getMin:function(e){var t=null;if(e.constructor===Array)for(var n=e.length,i=0;i<n;i++)t=0===i?Number(e[0]):t>Number(e[i])?Number(e[i]):t;return t},formatTwoDigits:function(e){return(Array(2).join(0)+e).slice(-2)},formatDate:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},getDay:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},formatName:function(e,t){t=t||6;var n=this.stringToArray(e),i="";if(n.length>t){for(var r=0;r<t;r++)i+=n[r];i+="..."}else i=e;return i},formatMoney:function(e){for(var t=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",i=0;i<t.length;i++){if(!(e>=1e4)){n=Math.floor(e)+t[i];break}e/=1e3}return""===n&&(n=Math.floor(e)+"U"),n},formatTimeForSecond:function(e){var t="",n=e%60,i=Math.floor(e/60);i=i<0?0:i;var r=Math.floor(i/60),o=i%60;return r>0&&(t+=r>9?r.toString():"0"+r,t+=":"),t+=o>9?o.toString():"0"+o,t+=":",t+=n>9?n.toString():"0"+n},zip:function(e){var t=pako.gzip(encodeURIComponent(e),{to:"string"});return this.base64encode(t)},unZip:function(e){var t=this.base64Decode(e),n=t.split("").map(function(e){return e.charCodeAt(0)}),i=new Uint8Array(n),r=pako.inflate(i);return t=String.fromCharCode.apply(null,new Uint16Array(r)),decodeURIComponent(t)},encrypt:function(e){var t=this.base64encode(e),n=6;t.length%2==0&&(n=7);for(var i="",r=0;r<(t.length-n+1)/2;r++)i+=t[2*r+1],i+=t[2*r];return i+=t.slice(t.length-n+1)},decrypt:function(e){var t=6;e.length%2==0&&(t=7);for(var n="",i=0;i<e.length-t;i+=2)n+=e[i+1],n+=e[i];return n+=e.slice(e.length-t+1),n=this.base64Decode(n)}};t.exports=r,cc._RF.pop()},{}],weapon:[function(e,t,n){"use strict";cc._RF.push(t,"06385kABDdEo77I8NgJx89a","weapon");var i=e("playerData"),r=e("constants"),o=e("resourceUtil"),a=e("bcxAdapter"),s=e("LanguageData");cc.Class({extends:cc.Component,properties:{nodeTips:cc.Node,nodeView:cc.Node,pageView:cc.PageView,prefabPage:cc.Prefab,fightPlayer:cc.Node,txtLevel:cc.Label,txtCocos:cc.Label,nodeBtnUse:cc.Node,nodeBtnUnUse:cc.Node,nodeCost:cc.Node,imgWeapon:cc.SpriteFrame,btnUpgrade:cc.Button},start:function(){this.currentSelect=null,this.refreshUI(),this.refreshWeaponInfo(),this.setCurLanguage()},refreshUI:function(){i.getWeaponList().length<=0?(this.nodeTips.active=!0,this.nodeView.active=!1):(this.nodeTips.active=!1,this.nodeView.active=!0,this.initPage()),this.refreshMoney()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?s.init("en"):s.init("zh"),s.updateSceneRenderers()},show:function(e){this.startScene=e},refreshWeaponInfo:function(){var e=null;if(this.currentSelect){e=i.getWeaponByItemId(this.currentSelect);var t=i.getWeaponLevel(e);this.currentLevel=t,this.txtLevel.string="lv."+t;var n=i.getCurrentWeaponItemId()===e.id;this.nodeBtnUse.getComponent(cc.Button).interactable=!0,this.nodeBtnUse.active=!n,this.nodeBtnUnUse.active=n}else this.txtLevel.string=cc.gameSpace.text.unselected,this.nodeBtnUse.active=!0,this.nodeBtnUse.getComponent(cc.Button).interactable=!1,this.nodeBtnUnUse.active=!1;this.refreshUpgradeButton(),this.fightPlayer.getComponent("MainPlayer").equipWeapon(e)},refreshUpgradeButton:function(){if(this.currentSelect){var e=this.currentLevel>=r.WEAPON_MAX_LEVEL,t=i.gold>100;this.btnUpgrade.interactable=!e&&t}else this.btnUpgrade.interactable=!1},refreshMoney:function(){var e=this;a.getBalance(function(t,n){t||(e.txtCocos.string=n.data.COCOS.toFixed(1),n.data.COCOS>100?e.nodeCost.color=cc.Color.WHITE:e.nodeCost.color=cc.Color.RED,e.refreshUpgradeButton())})},initPage:function(){var e=i.getWeaponList();this.pageCnt=Math.ceil(e.length/r.WEAPON_PAGE_SIZE);for(var t=this.pageView.getPages(),n=0;n<this.pageCnt;n++){var o=null;n<t.length?o=t[n]:(o=cc.instantiate(this.prefabPage),this.pageView.addPage(o));var a=o.getComponent("WeaponPage");a.setPageInfo(n,this),a.refreshPage()}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy(),this.startScene.refreshChangeBtn(),this.startScene.refreshMoney()},onItemSelect:function(e,t){this.currentSelect=e,this.currentSelectPageOwner=t;for(var n=this.pageView.getPages(),i=0;i<n.length;i++){var r=n[i].getComponent("WeaponPage");r.unSelectAll(),this.currentSelectPageOwner===i&&r.selectByItemId(this.currentSelect)}this.refreshWeaponInfo()},onBtnUseClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.currentSelect){i.saveCurrentWeapon(this.currentSelect);for(var e=this.pageView.getPages(),t=0;t<e.length;t++){var n=e[t].getComponent("WeaponPage");n.unLaunchAll(),this.currentSelectPageOwner===t&&n.launchByItemId(this.currentSelect)}this.refreshWeaponInfo()}},onBtnUnUseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),i.saveCurrentWeapon("");for(var e=this.pageView.getPages(),t=0;t<e.length;t++){e[t].getComponent("WeaponPage").unLaunchAll()}this.refreshWeaponInfo()},onBtnUpgradeClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.executing+" "+a.upgradeContract+cc.gameSpace.text.contract+"...");var e=this;a.upgradeWeapon(this.currentSelect,function(t,n){if(cc.gameSpace.hideLoading(),e.refreshMoney(),!t)for(var i=n.data[0].contract_affecteds,r=0;r<i.length;r++)if("contract_affecteds_log"===i[r].type){var o=i[r].raw_data.message,a="##result##:",s=o.indexOf(a);if(-1!==s){var c=o.slice(s+a.length),u=JSON.parse(c);e.showUpgradeEffect(),e.refreshItem(u.equipmentId);break}}})},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")},showUpgradeEffect:function(){cc.gameSpace.audioManager.playSound("upgrade",!1),o.createEffect("upgrade",this.node,function(e,t){var n=this.fightPlayer.convertToWorldSpaceAR(cc.v2(0,0));t.position=t.parent.convertToNodeSpaceAR(n),o.playEffect(t,function(){},this,!0)},this)},refreshItem:function(e){var t=this;a.getItems(function(n,i){if(!n){e===t.currentSelect&&t.refreshWeaponInfo();for(var r=t.pageView.getPages(),o=0;o<r.length;o++){r[o].getComponent("WeaponPage").refreshByItemId(e)}}})}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],zh:[function(e,t,n){"use strict";cc._RF.push(t,"171c3QJPLpPobLTkS88sVJm","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label:{login:"\u767b\u5f55",register:"\u6ce8\u518c",account:"\u8d26\u53f7",password:"\u5bc6\u7801",login_account:"\u767b\u5f55\u8d26\u53f7",register_account:"\u8d26\u53f7\u6ce8\u518c",login_password:"\u767b\u5f55\u5bc6\u7801",confirm_password:"\u786e\u8ba4\u5bc6\u7801",thanks:"\u8c22\u8c22\u60e0\u987e",Backpack:"\u80cc\u5305",Sell:"\u51fa\u552e",Refreshing:"\u5237\u65b0\u4e2d",Price:"\u51fa\u552e\u4ef7\u683c",expire_date:"\u8fc7\u671f\u65f6\u95f4",sale_notes:"\u51fa\u552e\u5907\u6ce8",bill_list:"\u6302\u5355\u8d39\u7528",hours:"\u5c0f\u65f6",confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88",weapon_rack:"\u6b66\u5668\u67b6",equipment:"\u88c5\u5907",strengthen:"\u5f3a\u5316",no_weapon_msg:"\u8fd8\u6ca1\u6709\u6b66\u5668\uff0c\u8d76\u5feb\u53bb\u4ea4\u6613\u5e02\u573a\u8d2d\u4e70\u5427",trading_market:"\u4ea4\u6613\u5e02\u573a",Attack:"\u51fa\u51fb",Pilot:"\u98de\u884c\u5458",no_pilot_msg:"\u8fd8\u6ca1\u6709\u98de\u884c\u5458\uff0c\u8d76\u5feb\u53bb\u4ea4\u6613\u5e02\u573a\u8d2d\u4e70\u5427",Replay:"\u91cd\u73a9",show_key_msg:"\u4ee5\u4e0b\u662f\u60a8\u7684\u94b1\u5305\u79c1\u94a5\uff0c\u8bf7\u59a5\u5584\u4fdd\u7ba1\uff01",private_key:"\u79c1\u94a5",Score:"\u5206\u6570",continue_msg:"\u70b9\u51fb\u7ee7\u7eed\u5c06\u6e05\u9664\u654c\u4eba\u5e76\u590d\u6d3b"}},cc._RF.pop()},{}]},{},["gridView","stopPropagation","FightBoss","FightBullet","FightEnemy","FightItem","FightMapObj","FightPlayer","FightScene","FightUI","LoginScene","bcxAdapter","core.min","plugins.min","LotteryItem","MainPlayer","PilotItem","PilotPage","Tips","WeaponItem","WeaponPage","flyReward","gameOver","keyLogin","loading","lottery","market","marketItem","marketSell","pilot","regist","relife","select_prefab","showKey","weapon","constants","audioManager","clientEvent","configuration","gameLogic","playerData","poolManager","uiManager","utils","language","eventListener","pomeloBuild","main","resourceUtil","startScene","en","zh","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);