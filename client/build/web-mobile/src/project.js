window.__require=function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){return r(e[a][1][t]||t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){for(var e,n=u(t),i=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,a)),c=0,h=a>0?i-4:i,l=0;l<h;l+=4)e=r[t.charCodeAt(l)]<<18|r[t.charCodeAt(l+1)]<<12|r[t.charCodeAt(l+2)]<<6|r[t.charCodeAt(l+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=r[t.charCodeAt(l)]<<2|r[t.charCodeAt(l+1)]>>4,s[c++]=255&e);1===a&&(e=r[t.charCodeAt(l)]<<10|r[t.charCodeAt(l+1)]<<4|r[t.charCodeAt(l+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function l(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(h(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var i=t("base64-js"),r=t("ieee754"),o=t("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var h=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){l=!1;break}if(l)return o}return-1}function v(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return W(j(e,t.length-n),t,n,i)}function w(t,e,n,i){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _(t,e,n,i){return w(t,e,n,i)}function S(t,e,n,i){return W(Y(e),t,n,i)}function E(t,e,n,i){return W(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function P(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,c,u=t[r],h=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=C));return n}(i)}n.Buffer=c,n.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return h(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,s=Math.min(o,a),u=this.slice(i,r),h=t.slice(e,n),l=0;l<s;++l)if(u[l]!==h[l]){o=u[l],a=h[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function k(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=U(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function O(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,i,o){return o||O(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,o){return o||O(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:j(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,h=-7,l=n?r-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[e+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+t[e+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,c,u=8*o-r-1,h=(1<<u)-1,l=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(e*c-1)*Math.pow(2,r),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+p]=255&a,p+=d,a/=256,u-=8);t[n+p-d]|=128*g}},{}],FightBoss:[function(t,e,n){"use strict";cc._RF.push(e,"44b29FwP/NHmpIGY3QOsvI7","FightBoss");var i=t("playerData"),r=t("constants"),o=t("resourceUtil");cc.Class({extends:cc.Component,properties:{spBoss:cc.Sprite,arrImgBoss:[cc.SpriteFrame]},onLoad:function(){},initInfo:function(t,e){this.level=t,this.fightScene=e,this.maxHp=[100,200,300],this.node.opacity=255;var n=this.arrImgBoss[this.level-1];this.hp=this.maxHp[this.level-1],this.spBoss.spriteFrame=n,this.node.position=cc.v2(0,cc.winSize.height/2+n.getOriginalSize().height),this.node.getComponent(cc.BoxCollider).size=cc.size(n.getOriginalSize()),this.show(),cc.gameSpace.audioManager.playSound("bossComing",!1)},show:function(){var t=cc.moveTo(3,cc.v2(0,cc.winSize.height/2-100)),e=cc.sequence(t,cc.callFunc(function(){this.startFire()},this));this.node.runAction(e)},getRotation:function(t,e){return(270-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI)%360},startFire:function(){this.schedule(this.createCandy,5),1===this.level?this.schedule(this.fire1,2):2===this.level?this.schedule(this.fire2,2):3===this.level&&(this.schedule(this.fire1,2),this.scheduleOnce(this.fire3,3))},createCandy:function(){for(var t=0;t<5&&!(this.fightScene.allCandyNum>=i.info.candy);t++){var e=this.fightScene.getItem().getComponent("FightItem"),n=cc.v2(120*t+50,cc.winSize.height/2+this.node.position.y);e.initInfo(r.ITEM_TYPE.CANDY,n,this.fightScene)}},fire1:function(){if(this.fightScene.gameStageOver)this.unscheduleAllCallbacks();else for(var t=this.node.position,e=0;e<20;e++){var n=t.y-this.node.height/2,i=this.fightScene.getBullet(),r=i.getComponent("FightBullet");r.initInfo(0,10,1,0,this.fightScene),i.position=cc.v2(64*e-cc.winSize.width/2,n),r.rota=this.getRotation(i.position,this.fightScene.player.position)}},fire2:function(){if(this.fightScene.gameStageOver)this.unscheduleAllCallbacks();else for(var t=null,e=null,n=this.node.position,i=0;i<10;i++)(e=(t=this.fightScene.getBullet()).getComponent("FightBullet")).initInfo(0,10,1,0,this.fightScene),t.position=cc.v2(0,n.y-this.node.height/2),e.rota=180+14*i,(e=(t=this.fightScene.getBullet()).getComponent("FightBullet")).initInfo(0,10,1,0,this.fightScene),t.position=cc.v2(0,n.y-this.node.height/2),e.rota=180-14*i},fire3:function(){this.fightScene.gameStageOver?this.unscheduleAllCallbacks():this.schedule(this.fire2,2)},loseHP:function(t){if(!(this.hp<=0)&&(this.playHitEffect(),this.hp-=t,this.hp<=0)){var e=cc.sequence(cc.fadeOut(2),cc.delayTime(.5),cc.callFunc(this.bossDie,this));this.node.runAction(e)}},bossDie:function(){cc.gameSpace.audioManager.playSound("bossDie",!1),this.unscheduleAllCallbacks(),this.fightScene.onBossKilled(this.node)},onCollisionEnter:function(t,e){"playerBullet"===t.node.group&&(t.getComponent("FightBullet").recover(),this.loseHP(1))},playHitEffect:function(){if(!this.isPlayingHitEffect){this.isPlayingHitEffect=!0;var t=this.hitEffect,e=.5*Math.ceil(4*Math.random())+1.5,n=cc.v2(_.random(-this.node.width/4,this.node.width/4),_.random(0,this.node.height/2));t?(t.active=!0,t.setScale(e),t.position=n,o.playEffect(t,function(){t.active=!1,this.isPlayingHitEffect=!1},this)):o.createEffect("damage3",this.node,function(t,i){t?this.isPlayingHitEffect=!1:(i.setScale(e),i.position=n,this.hitEffect=i,o.playEffect(i,function(){i.active=!1,this.isPlayingHitEffect=!1},this))},this)}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightBullet:[function(t,e,n){"use strict";cc._RF.push(e,"78211G/Xh1GP7zi742aCpqq","FightBullet"),cc.Class({extends:cc.Component,properties:{typeBullet:{default:1,tooltip:"\u81ea\u5df1\u7684\u5b50\u5f39:1  \u654c\u4eba\u7684\u5b50\u5f39:0"},rota:0,speed:0,fireType:{default:0,tooltip:"\u666e\u901a\u5b50\u5f39:0 \u8ddf\u8e2a\u5b50\u5f39:1"},imgPlayerBullet:cc.SpriteFrame,arrImgSuperBullet:[cc.SpriteFrame],imgEnemyBullet:cc.SpriteFrame,imgMissile:cc.SpriteFrame,spBullet:cc.Sprite},start:function(){},initInfo:function(t,e,n,i,r,o){this.rota=t,this.speed=e,this.fireType=n,this.typeBullet=i,this.target=null;var a=this.imgPlayerBullet;1===this.typeBullet?(this.node.group="playerBullet",1===this.fireType?a=this.imgMissile:o&&(a=this.arrImgSuperBullet[o-1])):(this.node.group="bullet",a=this.imgEnemyBullet),this.spBullet.spriteFrame=a,this.fightScene=r,this.node.getComponent(cc.BoxCollider).size=cc.size(a.getOriginalSize())},moveByRotation:function(t){var e=cc.v2(this.node.position);e.x+=t*Math.cos((90-this.rota)*Math.PI/180),e.y+=t*Math.sin((90-this.rota)*Math.PI/180),this.node.angle=-this.rota,this.node.position=e},getRotation:function(t,e){return(270-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI)%360},update:function(t){if(!window.isPauseFight){if(this.typeBullet){if(0===this.fireType)this.moveByRotation(this.speed);else if(1===this.fireType){if(!this.target){var e=this.fightScene.enemyGroup.children,n=Math.round(100*Math.random()%e.length);this.target=e[n]}this.target&&this.target.parent&&this.target.position.y<cc.winSize.height?this.rota=this.getRotation(this.node.position,this.target.position):this.rota=this.getRotation(this.node.position,cc.v2(this.node.position.x,this.node.position.y+100)),this.moveByRotation(this.speed/2)}}else 1===this.fireType&&this.moveByRotation(this.speed/2);var i=this.node.convertToWorldSpace(cc.v2(0,0));(i.x<-20||i.x>cc.winSize.width+20||i.y<-20||i.y>cc.winSize.height+20)&&this.recover()}},recover:function(){this.node.angle=0,this.target=null,this.node.removeFromParent(),this.fightScene.isValid?this.fightScene.putBullet(this.node):this.node.destroy()}}),cc._RF.pop()},{}],FightEnemy:[function(t,e,n){"use strict";cc._RF.push(e,"158b9Rir/JDIZA2ng3rnmFA","FightEnemy");var i=t("resourceUtil");cc.Class({extends:cc.Component,properties:{arrImg:[cc.SpriteFrame],type:{default:0},scale:{default:.6},maxHp:{default:3},hp:{default:1},fireInterval:{default:1e3},speed:{default:3},imgSprite:cc.Sprite},start:function(){},initInfo:function(t){this.fightScene=t,this.imgSprite.spriteFrame=this.arrImg[Math.floor(Math.random()*this.arrImg.length)],this.node.scale=this.scale;var e=this.imgSprite.spriteFrame.getOriginalSize(),n=e.width*this.node.scale,i=Math.random()*(cc.winSize.width-n+1)+n/2,r=cc.winSize.height+e.height*this.node.scale;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(i,r)),this.hp=this.maxHp*this.fightScene.level,this.schedule(this.fire,4/this.fightScene.level)},update:function(t){window.isPauseFight||this.move()},move:function(){var t=this.node.convertToWorldSpace(cc.v2(0,0));2==this.type&&t.y<cc.winSize.height-this.node.height||(this.node.y=this.node.position.y-2,t.y<=-this.node.height&&this.recover())},recover:function(){this.node.removeFromParent(),this.node.active=!0,this.unscheduleAllCallbacks(),this.fightScene.putEnemy(this.node)},clear:function(){this.hitEffect&&this.hitEffect.getComponent(cc.Animation).stop(),this.missileEffect&&this.missileEffect.getComponent(cc.Animation).stop()},playHitEffect:function(t){if(!this.isPlayingHitEffect){this.isPlayingHitEffect=!0;var e="hit",n=this.hitEffect;t&&(e="missile",n=this.missileEffect),n?(n.active=!0,i.playEffect(n,function(){n.active=!1,this.isPlayingHitEffect=!1},this)):i.createEffect(e,this.node,function(e,n){e?this.isPlayingHitEffect=!1:(t?this.missileEffect=n:this.hitEffect=n,i.playEffect(n,function(){n.active=!1,this.isPlayingHitEffect=!1},this))},this)}},playDieEffect:function(t){cc.gameSpace.audioManager.playSound("dieSound",!1),i.createEffect("die2",this.fightScene.effectGroup,function(e,n){e||(n.position=this.node.position,i.playEffect(n,t,this,!0))},this)},getRotation:function(t,e){return(270-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI)%360},fire:function(){if(!(this.node.position.y<0||this.fightScene.gameStageOver)){var t=this.fightScene.getBullet(),e=t.getComponent("FightBullet");e.initInfo(0,10,1,0,this.fightScene),t.position=this.node.position,e.rota=this.getRotation(t.position,this.fightScene.player.position)}},loseHP:function(t,e){if(this.hp-=t,this.playHitEffect(e),this.hp<=0){var n=this.node.convertToWorldSpace(cc.v2(0,0));this.fightScene.onEnemyKilled(this.type,n),this.node.active=!1,this.playDieEffect(this.recover)}},onCollisionEnter:function(t,e){if("playerBullet"===t.node.group){var n=t.getComponent("FightBullet");n.recover(),this.loseHP(1,n.fireType)}else"player"===t.node.group&&this.loseHP(this.hp,0)}}),cc._RF.pop()},{resourceUtil:"resourceUtil"}],FightItem:[function(t,e,n){"use strict";cc._RF.push(e,"e9eeePt/wlB2rgPGLq3Tn4t","FightItem");var i=t("constants");cc.Class({extends:cc.Component,properties:{imgBullet:cc.SpriteFrame,imgCandy:cc.SpriteFrame,imgGold:cc.SpriteFrame,imgFollow:cc.SpriteFrame,imgLifeUp:cc.SpriteFrame,imgBomb:cc.SpriteFrame,spItem:cc.Sprite},start:function(){},initInfo:function(t,e,n){this.fightScene=n,this.type=t,this.node.angle=0,this.goldIndex=0;var r=null;switch(t){case i.ITEM_TYPE.BULLET_LEVEL:r=this.imgBullet;break;case i.ITEM_TYPE.FOLLOW_NUM:r=this.imgFollow;break;case i.ITEM_TYPE.BGold:r=this.imgGold;break;case i.ITEM_TYPE.CANDY:r=this.imgCandy;break;case i.ITEM_TYPE.LIFE_UP:r=this.imgLifeUp;break;case i.ITEM_TYPE.BOMB:r=this.imgBomb}if(this.spItem.spriteFrame=r,this.speed=5,4===t&&(this.speed=2),e)this.node.position=this.node.parent.convertToNodeSpaceAR(e);else{var o=r.getOriginalSize().width,a=r.getOriginalSize().height,s=Math.random()*(cc.winSize.width-o+1)+o/2;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(s,cc.winSize.height+a))}},update:function(t){window.isPauseFight||this.move()},getRotation:function(t,e){return(270-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI)%360},moveByRotation:function(t,e){var n=cc.v2(this.node.position);n.x+=t*Math.cos((90-e)*Math.PI/180),n.y+=t*Math.sin((90-e)*Math.PI/180),this.node.position=n},move:function(){if(this.targetNode){var t=this.getRotation(this.node.position,this.targetNode.position);this.moveByRotation(2*this.speed,t)}else{this.node.y=this.node.position.y-this.speed,this.node.convertToWorldSpace(cc.v2(0,0)).y<-this.node.height&&this.recover()}},flyToPlayer:function(t){this.targetNode=t},recover:function(){this.targetNode=null,this.unscheduleAllCallbacks(),this.node.removeFromParent(),this.fightScene.putItem(this.node)}}),cc._RF.pop()},{constants:"constants"}],FightMapObj:[function(t,e,n){"use strict";cc._RF.push(e,"0576eBNREZD9KS4b5ZhKOtm","FightMapObj"),cc.Class({extends:cc.Component,properties:{speed:0,imgSprite:cc.Sprite,arrBigMapObj:[cc.SpriteFrame],arrLowMapObj:[cc.SpriteFrame],arrLine:[cc.SpriteFrame]},start:function(){},setFightScene:function(t){this.fightScene=t},initInfo:function(t,e,n){this.speed=e;var i=1,r=null;switch(t){case"Low":r=this.arrLowMapObj;break;case"Big":r=this.arrBigMapObj,i=.5*Math.random()+.3;break;case"Line":r=this.arrLine}var o=Math.floor(Math.random()*r.length);this.imgSprite.spriteFrame=r[o],this.node.scale=i;var a=Math.random()*cc.winSize.width,s=cc.winSize.height+this.imgSprite.spriteFrame.getOriginalSize().height*i;this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(a,s))},update:function(t){window.isPauseFight||(this.node.y=this.node.position.y-this.speed,this.node.convertToWorldSpace(cc.v2(0,0)).y<-this.node.height&&this.recover())},recover:function(){this.node.removeFromParent(),this.fightScene.putMapObj(this.node)}}),cc._RF.pop()},{}],FightPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"04210uTrN5MxJtOMxY7wwDU","FightPlayer");var i=t("constants"),r=t("resourceUtil"),o=t("playerData");cc.Class({extends:cc.Component,properties:{speed:15,hp:1,followBulletNum:1,fireLevel:0,shieldNode:cc.Node,spPlane:cc.Sprite,imgSuperPlane:cc.SpriteFrame},start:function(){this.playFlyAni(cc.v2(this.node.position.x,-150),0,!0),cc.gameSpace.audioManager.playSound("startGameSound",!1),this.fireTime=0,this.fireIndex=0;var t=o.getCurrentWeapon();t?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=o.getWeaponLevel(t),this.fireLevel=2):this.weaponLevel=0;var e=o.getCurrentPilot();if(e){var n=0;switch(JSON.parse(e.base_describe).quality){case i.QUALITY.WHITE:n=1;break;case i.QUALITY.GREEN:n=2;break;case i.QUALITY.GREEN_1:n=3;break;case i.QUALITY.GREEN_2:n=4;break;case i.QUALITY.BLUE:n=5;break;case i.QUALITY.PURPLE:n=6;break;case i.QUALITY.GOLD:n=7}this.hp+=n}},playFlyAni:function(t,e,n,i){if(void 0===e&&(e=0),this.node.active){n&&(this.unschedule(this.fireBulletNum),this.isPauseFire=!0),this.isAutoFlyFinished=!1;var r=cc.moveTo(1,t).easing(cc.easeOut(3)),o=cc.moveTo(1,0,-400),a=cc.sequence(r,cc.delayTime(e),cc.callFunc(function(){},this),o,cc.callFunc(function(){this.isAutoFlyFinished=!0,n&&this.schedule(this.fireBulletNum,1),this.isPauseFire=!1,i&&i.apply(this)},this));this.node.runAction(a)}else i&&i.apply(this)},setFightScene:function(t){this.fightScene=t},moveToPos:function(t){this.isAutoFlyFinished&&(this.targetPos=t)},fireUpdate:function(t){if(!this.isPauseFire){this.fireTime+=t;var e=2;this.fireLevel>2&&(e=this.fireLevel);var n=1/(e+1),i=Math.ceil(this.fireTime/n);i!==this.fireIndex&&(this.fireIndex=i,this.fireBullet())}},moveUpdate:function(){if(this.targetPos){var t=this.node.position,e=this.targetPos;if(t.x>(cc.winSize.width-this.node.width)/2&&e.x>(cc.winSize.width-this.node.width)/2)return void(this.node.x=(cc.winSize.width-this.node.width)/2+1);if(t.x<(-cc.winSize.width+this.node.width)/2&&e.x<(-cc.winSize.width+this.node.width)/2)return void(this.node.x=(-cc.winSize.width+this.node.width)/2-1);if(t.y>(cc.winSize.height-this.node.height)/2&&e.y>(cc.winSize.height-this.node.height)/2)return void(this.node.y=(cc.winSize.height-this.node.height)/2+1);if(Math.abs(e.x-t.x)<this.speed&&Math.abs(e.y-t.y)<this.speed)return void(this.node.position=this.targetPos);t.x+=this.speed*Math.cos(Math.atan2(this.targetPos.y-t.y,this.targetPos.x-t.x)),t.y+=this.speed*Math.sin(Math.atan2(this.targetPos.y-t.y,this.targetPos.x-t.x)),this.node.position=t}},update:function(t){window.isPauseFight||this.hp<=0||(this.fireUpdate(t),this.moveUpdate())},fireBulletNum:function(){if(!(this.hp<=0))for(var t=this.node.position,e=t.y+20,n=0;n<this.followBulletNum;n++){var i=this.fightScene.getBullet();i.getComponent("FightBullet").initInfo(20*(n-(this.followBulletNum-1)/2),10,1,1,this.fightScene,this.weaponLevel),i.position=cc.v2(t.x,e)}},fireBullet:function(){if(!(this.hp<=0)){var t=this.node.position,e=t.y+20,n=this.fightScene.getBullet();n.getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),n.position=cc.v2(t.x,e);var i=null,r=null;if(0===this.fireLevel)cc.gameSpace.audioManager.playSound("attack02",!1);else if(1===this.fireLevel){cc.gameSpace.audioManager.playSound("attack02",!1);(i=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),i.setPosition(t.x-20,e),(r=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this.fightScene,this.weaponLevel),r.setPosition(t.x+20,e)}else if(this.fireLevel>=2){cc.gameSpace.audioManager.playSound("attack02",!1);(i=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(-10,20,0,1,this.fightScene,this.weaponLevel),i.setPosition(t.x,e),i.angle=-10,(r=this.fightScene.getBullet(this.fightScene.bulletGroup)).getComponent("FightBullet").initInfo(10,20,0,1,this.fightScene,this.weaponLevel),r.setPosition(t.x,e),r.angle=10}}},onCollisionEnter:function(t,e){if("bullet"===t.node.group)this.loseHP(1),t.node.getComponent("FightBullet").recover();else if("enemy"===t.node.group)this.loseHP(this.hp);else if("item"===t.node.group){var n=t.node.getComponent("FightItem");this.pickupItem(n.type),n.recover()}},playGetItemEffect:function(){cc.gameSpace.audioManager.playSound("pickup",!1),this.isPlayingItemEffect||(this.isPlayingItemEffect=!0,this.itemEffect?(this.itemEffect.active=!0,r.playEffect(this.itemEffect,function(){this.itemEffect.active=!1,this.isPlayingItemEffect=!1},this)):r.createEffect("collect",this.node,function(t,e){t?this.isPlayingItemEffect=!1:(this.itemEffect=e,r.playEffect(e,function(){this.itemEffect.active=!1,this.isPlayingItemEffect=!1},this))},this))},playDieEffect:function(t){cc.gameSpace.audioManager.playSound("playerDie",!1),r.createEffect("die1",this.fightScene.effectGroup,function(e,n){e||(n.position=this.node.position,r.playEffect(n,t,this,!0))},this)},pickupItem:function(t){switch(this.playGetItemEffect(),t){case i.ITEM_TYPE.BULLET_LEVEL:this.bulletLevel();break;case i.ITEM_TYPE.FOLLOW_NUM:this.followNum();break;case i.ITEM_TYPE.BGold:this.getBGold();break;case i.ITEM_TYPE.CANDY:this.getCandy();break;case i.ITEM_TYPE.LIFE_UP:this.lifeUp();break;case i.ITEM_TYPE.BOMB:this.pickBomb()}},pickBomb:function(){this.fightScene.onPickupBomb()},lifeUp:function(){this.hp++,this.fightScene.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.hp})},bulletLevel:function(){this.fireLevel<10&&(this.fireLevel++,this.fireTime=0,this.fireIndex=0)},followNum:function(){this.followBulletNum<5&&this.followBulletNum++},getBGold:function(){},getCandy:function(){this.fightScene.addCandy()},loseHP:function(t){this.shieldNode.active||this.hp<=0||(this.fightScene.playDamageEffect(),this.hp-=t,this.hp<=0&&(this.hp=0,this.onKilled()),this.fightScene.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.hp}))},onKilled:function(){this.node.active=!1,this.playDieEffect(function(){this.fightScene.pause(),this.fightScene.onPlayerKilled()})},reLife:function(){this.hp=1,this.node.active=!0,this.shieldNode.active=!0,this.node.position=cc.v2(0,-cc.winSize.height/2-400),this.isAutoFlyFinished=!1;var t=cc.moveTo(1,cc.v2(0,-50)).easing(cc.easeOut(3)),e=cc.sequence(t,cc.callFunc(function(){this.isAutoFlyFinished=!0,this.targetPos=cc.v2(0,-400)},this));this.node.runAction(e),this.scheduleOnce(function(){this.shieldNode.active=!1},4)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightScene:[function(t,e,n){"use strict";cc._RF.push(e,"876d34LAh9MEb/nhwdR41pI","FightScene");var i=t("constants"),r=t("playerData"),o=t("resourceUtil");cc.Class({extends:cc.Component,properties:{player:cc.Node,bulletGroup:cc.Node,mapObjGroup:cc.Node,enemyGroup:cc.Node,bossGroup:cc.Node,itemGroup:cc.Node,effectGroup:cc.Node,levelUpNode:cc.Node,fightUINode:cc.Node,mapObjPrefab:cc.Prefab,speedScale:1,bgSpeed:5,enemySmall:cc.Prefab,enemyMedium:cc.Prefab,enemyBig:cc.Prefab,bossPrefab:cc.Prefab,itemPrefab:cc.Prefab,bulletPrefab:cc.Prefab,damageEffectNode:cc.Node,arrMap:[cc.Node]},start:function(){cc.debug.setDisplayStats(!1);var t=cc.winSize;t.width>t.height&&(this.node.getComponent(cc.Canvas).fitHeight=!0),cc.director.getCollisionManager().enabled=!0,this.bombTmp=0,this.level=1,this.dropBombNum=0,this.gameStageOver=!1,this.isGameOver=!1,this.bulletPool=new cc.NodePool,this.enemySmallPool=new cc.NodePool,this.enemyMediumPool=new cc.NodePool,this.enemyBigPool=new cc.NodePool,this.bossPool=new cc.NodePool,this.itemPool=new cc.NodePool,this.mapObjPool=new cc.NodePool;for(var e=0;e<5;e++){var n=cc.instantiate(this.mapObjPrefab);this.mapObjPool.put(n)}this.regEvent(),this.fightPlayer=this.player.getComponent("FightPlayer"),this.fightPlayer.setFightScene(this),this.bgBigFrameTime=0,this.bgLowFrameTime=0,this.bgLineFrameTime=0,this.speedScale=1,this.initGame(),this.preloadRes()},regEvent:function(){this.node.on(i.FIGHT_EVENT.UPDATE_TOUCH_POS,this.onTouchPosChange,this),this.node.on(i.FIGHT_EVENT.RELEASE_BOMB,this.onReleaseBomb,this)},preloadRes:function(){cc.loader.loadRes("prefabs/ui/gameOver",cc.Prefab,function(t,e){})},initGame:function(){this.totalScore=0,this.allCandyNum=0,this.scheduleOnce(function(){this.create()},2)},create:function(){var t=r.info.GameData[this.level-1];this.schedule(this.createEnemy,t.enemy_num/1e3),this.schedule(this.createItem,10),this.scheduleOnce(this.createBoss,t.boss_num/1e3),this.schedule(this.createCandy,5),this.scheduleOnce(this.createGold,25)},unCreate:function(){this.unschedule(this.createEnemy),this.unschedule(this.createItem),this.unschedule(this.createBoss),this.unschedule(this.createCandy),this.unschedule(this.createGold)},createEnemy:function(){var t=0;1===this.level?t=Math.random()>.95?1:0:2==this.level?t=Math.random()>.75?1:0:3==this.level&&(t=Math.random()>.55?1:0),this.getEnemy(t).getComponent("FightEnemy").initInfo(this)},createItem:function(){var t=this.getItem().getComponent("FightItem"),e=Math.floor(2*Math.random());t.initInfo(e,null,this)},createBoss:function(){this.bossObj&&(this.bossObj=null),this.bossObj=this.getBoss(),this.bossObj.getComponent("FightBoss").initInfo(this.level,this)},createCandy:function(){this.allCandyNum>=r.info.candy||this.getItem().getComponent("FightItem").initInfo(i.ITEM_TYPE.CANDY,null,this)},createGold:function(){var t=null,e=null,n=Math.ceil(2*Math.random());if(1===n)for(var r=0;r<10;r++)t=this.getItem().getComponent("FightItem"),e=null,e=r<=5?cc.v2(120*r,cc.winSize.height+80*r):cc.v2(120*(10-r),cc.winSize.height+80*r),t.initInfo(i.ITEM_TYPE.CANDY,e,this);else if(2===n)for(var o=0;o<10;o++)t=this.getItem().getComponent("FightItem"),e=null,e=o<=5?cc.v2(120*(5-o),cc.winSize.height+80*o):cc.v2(120*(o-5),cc.winSize.height+80*o),t.initInfo(i.ITEM_TYPE.CANDY,e,this);else for(var a=0;a<5;a++)t=this.getItem().getComponent("FightItem"),e=cc.v2(120*(5-a),cc.winSize.height+80*a),t.initInfo(i.ITEM_TYPE.CANDY,e,this),t=this.getItem().getComponent("FightItem"),e=cc.v2(120*a,cc.winSize.height+80*a),t.initInfo(i.ITEM_TYPE.CANDY,e,this)},getBullet:function(){var t=null;return(t=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bulletPrefab)).parent=this.bulletGroup,t},putBullet:function(t){this.bulletPool.put(t)},getMapObj:function(){var t=null;return(t=this.mapObjPool.size()>0?this.mapObjPool.get():cc.instantiate(this.mapObjPrefab)).parent=this.mapObjGroup,t.getComponent("FightMapObj").setFightScene(this),t},putMapObj:function(t){this.mapObjPool.put(t)},getEnemy:function(t){var e=null,n=null;switch(t){case 0:e=this.enemySmallPool,n=this.enemySmall;break;case 1:e=this.enemyMediumPool,n=this.enemyMedium;break;case 2:e=this.enemyBigPool,n=this.enemyBig}var i=null;return(i=e.size()>0?e.get():cc.instantiate(n)).parent=this.enemyGroup,i},putEnemy:function(t,e){var n=null;switch(t){case 0:n=this.enemySmallPool;break;case 1:n=this.enemyMediumPool;break;case 2:n=this.enemyBigPool}n&&n.put(e)},getBoss:function(){var t=null;return(t=this.bossPool.size()>0?this.bossPool.get():cc.instantiate(this.bossPrefab)).parent=this.bossGroup,t},putBoss:function(t){this.bossPool.put(t)},getItem:function(){var t=null;return(t=this.itemPool.size()>0?this.itemPool.get():cc.instantiate(this.itemPrefab)).parent=this.itemGroup,t},putItem:function(t){this.itemPool.put(t)},onTouchPosChange:function(t){var e=t.pos,n=this.node.convertToNodeSpaceAR(e);t.type===cc.Node.EventType.TOUCH_END||t.type===cc.Node.EventType.TOUCH_CANCEL?this.fightPlayer.moveToPos(null):this.fightPlayer.moveToPos(cc.v2(n.x,n.y+100))},onReleaseBomb:function(t){o.createEffect("timeBoom",this.effectGroup,function(t,e){o.playEffect(e,function(){this.clearEnemy(),this.clearBullet()},this,!0)},this)},pause:function(){if(cc.director.getScheduler().pauseTarget(this),window.isPauseFight=!0,this.bossObj&&this.bossObj.isValid){var t=this.bossObj.getComponent("FightBoss");cc.director.getScheduler().pauseTarget(t)}},resume:function(){if(cc.director.getScheduler().resumeTarget(this),window.isPauseFight=!1,this.bossObj&&this.bossObj.isValid){var t=this.bossObj.getComponent("FightBoss");cc.director.getScheduler().resumeTarget(t)}},update:function(t){window.isPauseFight||(this.updateMap(),this.updateMapObj())},updateMap:function(){var t=1;1!==this.speedScale&&(t=2);for(var e=0;e<this.arrMap.length;e++){var n=this.arrMap[e];n.y=n.position.y-t}for(var i=0;i<this.arrMap.length;i++){var r=this.arrMap[i];if(r.position.y<=-cc.winSize.height/2-n.height/2-100){var o=i-1;o=o<0?this.arrMap.length-1:o;var a=this.arrMap[o];r.y=a.position.y+r.height;break}}},updateMapObj:function(){(this.bgLowFrameTime++,this.bgBigFrameTime++,this.bgLineFrameTime++,this.bgBigFrameTime>=500)&&(this.bgBigFrameTime=0,this.getMapObj().getComponent("FightMapObj").initInfo("Big",this.speedScale,!1));var t=100;(1!==this.speedScale&&(t=5),this.bgLineFrameTime>=t)&&(this.bgLineFrameTime=0,this.getMapObj().getComponent("FightMapObj").initInfo("Line",15,!1))},dropPackage:function(t,e){var n=i.ITEM_TYPE.CANDY;1===t&&(n=Math.ceil(100*Math.random())<2?i.ITEM_TYPE.LIFE_UP:i.ITEM_TYPE.CANDY),this.getItem().getComponent("FightItem").initInfo(n,e,this)},dropBomb:function(t){this.getItem().getComponent("FightItem").initInfo(i.ITEM_TYPE.BOMB,t,this)},onEnemyKilled:function(t,e){var n=10,i=!1;if(1===t)n=50;else if(0===t){1==Math.ceil(2*Math.random())&&this.allCandyNum<r.info.candy&&(this.dropPackage(t,e),i=!0)}if(!i){var o=60;this.dropBombNum<=0&&(o=20),Math.floor(Math.random()*o)<=t&&(this.dropBombNum++,this.dropBomb(e))}this.addScore(n)},onBossKilled:function(t){for(var e=t.position,n=0;n<10;n++){var i=cc.v2(cc.winSize/2-60,e.y+60*n);this.dropBossPackage(i),i=cc.v2(cc.winSize/2+60,e.y+60*n),this.dropBossPackage(i)}t.removeFromParent(),this.putBoss(t),this.addScore(1e3*this.level),this.speedUp()},onPlayerKilled:function(){cc.gameSpace.uiManager.showSharedDialog("relife","relife",[this])},dropBossPackage:function(t){var e=this.getItem(),n=cc.v2(t.x,t.y+cc.winSize.height/2);e.getComponent("FightItem").initInfo(i.ITEM_TYPE.CANDY,n,this)},clearEnemy:function(){for(var t=[],e=0;e<this.enemyGroup.children.length;e++)t.push(this.enemyGroup.children[e]);for(var n=0;n<t.length;n++){var i=t[n].getComponent("FightEnemy");i.loseHP(i.hp)}},clearBullet:function(){for(var t=[],e=0;e<this.bulletGroup.children.length;e++)t.push(this.bulletGroup.children[e]);for(var n=0;n<t.length;n++){t[n].getComponent("FightBullet").recover()}},speedUp:function(){this.clearEnemy();for(var t=0;t<this.itemGroup.children.length;t++){this.itemGroup.children[t].getComponent("FightItem").flyToPlayer(this.player)}this.clearBullet(),this.unCreate(),this.gameStageOver=!0,this.speedScale=10,this.bgLineFrameTime=0,3===this.level?this.scheduleOnce(function(){this.speedScale=1,this.bgLineFrameTime=0,this.isSuccess=!0,this.showGameOver()},3):(this.fightPlayer.playFlyAni(cc.v2(0,0),3,!0),this.scheduleOnce(this.speedDown,6),this.scheduleOnce(function(){cc.gameSpace.audioManager.playSound("levelup",!1),this.levelUpNode.active=!0;var t=cc.sequence(cc.moveTo(3,0,200).easing(cc.easeOut(3)),cc.moveTo(1,0,-1e3).easing(cc.easeOut(3)),cc.callFunc(function(){this.levelUpNode.y=800,this.levelUpNode.active=!1},this));this.levelUpNode.runAction(t)},3))},speedDown:function(){this.bossObj=null,this.gameStageOver=!1,this.speedScale=1,this.bgLineFrameTime=0,this.create(),this.level++,this.createGold()},addCandy:function(){this.allCandyNum++,this.node.emit(i.FIGHT_EVENT.UPDATE_CANDY,{value:this.allCandyNum})},addScore:function(t){this.totalScore+=t,this.node.emit(i.FIGHT_EVENT.UPDATE_SCORE,{value:this.totalScore})},reLife:function(){this.clearEnemy(),this.clearBullet(),this.fightPlayer.reLife(),this.node.emit(i.FIGHT_EVENT.UPDATE_LIFE,{value:this.fightPlayer.hp})},onPickupBomb:function(){this.bombTmp++,this.node.emit(i.FIGHT_EVENT.UPDATE_BOMB,{})},playDamageEffect:function(){this.damageEffectNode.active=!0,this.damageEffectNode.getComponent(cc.Animation).play()},showGameOver:function(){cc.gameSpace.uiManager.showSharedDialog("gameOver","gameOver",[this.allCandyNum,this.bombTmp,this.totalScore,this])},clear:function(){this.player.destroy();for(var t=_.clone(this.enemyGroup.children),e=0;e<t.length;e++){var n=t[e];n.getComponent("FightEnemy").clear(),n.destroy()}for(var i=_.clone(this.effectGroup.children),r=0;r<i.length;r++){var o=i[r];o.getComponent(cc.Animation).stop(),o.destroy()}for(var a=_.clone(this.bossGroup.children),s=0;s<a.length;s++){a[s].destroy()}this.clearBullet()},exitFightScene:function(){this.clear(),this.resume(),cc.director.loadScene("start")}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],FightUI:[function(t,e,n){"use strict";cc._RF.push(e,"8e675Do8o9KMaab7a0+UoyI","FightUI");var i=t("constants"),r=t("playerData"),o=t("resourceUtil");cc.Class({extends:cc.Component,properties:{fightScene:cc.Node,nodeHead:cc.Node,txtScore:cc.Label,txtLife:cc.Label,txtCandy:cc.Label,headIcon:cc.Sprite,txtName:cc.Label,spFrame:cc.Sprite,txtBomb:cc.Label},start:function(){this.regEvent(),this.fightSceneScript=this.fightScene.getComponent("FightScene"),this.txtLife.string="X "+this.fightSceneScript.fightPlayer.hp;var t=r.getCurrentPilot();if(t){this.nodeHead.active=!0;var e=JSON.parse(t.base_describe),n=this;o.getPilotIcon(e.icon,function(t,e){!t&&cc.isValid(n.headIcon)&&(n.headIcon.spriteFrame=e)}),this.txtName.string=e.name}this.refreshBomb()},regEvent:function(){this.fightScene.on(i.FIGHT_EVENT.UPDATE_SCORE,this.updateScore,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_LIFE,this.updateLife,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_CANDY,this.updateCandy,this),this.fightScene.on(i.FIGHT_EVENT.UPDATE_BOMB,this.updateBomb,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},updateScore:function(t){this.txtScore.string="SCORE: "+t.value},updateLife:function(t){this.txtLife.string="X "+t.value},updateCandy:function(t){this.txtCandy.string="X "+t.value},updateBomb:function(t){this.refreshBomb()},onTouchStart:function(t){this.emitTouchPos(t)},onTouchMove:function(t){this.emitTouchPos(t)},onTouchEnd:function(t){this.emitTouchPos(t)},onTouchCancel:function(t){this.emitTouchPos(t)},onBombClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),!window.isPauseFight){if(this.fightSceneScript.bombTmp>0)this.fightSceneScript.bombTmp--;else if(!r.costBomb())return;this.refreshBomb(),this.fightScene.emit(i.FIGHT_EVENT.RELEASE_BOMB,{})}},refreshBomb:function(){var t=r.getBomb(),e=this.fightSceneScript.bombTmp;this.txtBomb.string=t.length+e},emitTouchPos:function(t){var e=t.getLocation();this.fightScene.emit(i.FIGHT_EVENT.UPDATE_TOUCH_POS,{pos:e,type:t.type})}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],LanguageData:[function(t,e,n){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var i=t("polyglot.min"),r=null;function o(t){return window.i18n.languages[t]}function a(t){t&&(r?r.replace(t):r=new i({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=o(t)||{};window.i18n.curLang=t,a(e),this.inst=r}},t:function(t,e){if(r)return r.t(t,e)},inst:r,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var i=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,i)}for(var r=0;r<e.length;++r){var o=e[r];o.node.active&&o.updateLabel()}for(var a=[],s=0;s<t.length;++s){var c=t[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,c)}for(var u=0;u<a.length;++u){var h=a[u];h.node.active&&h.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var i=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?i.t(this.dataID)&&(this.label.string=i.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var i=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:i}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],LoginScene:[function(t,e,n){"use strict";cc._RF.push(e,"660639MKTxHjIcuqC8CYs+Q","LoginScene");var i=t("bcxAdapter");t("resourceUtil"),t("configuration"),t("constants"),t("clientEvent");cc.Class({extends:cc.Component,properties:{edtAccount:cc.EditBox,edtPassword:cc.EditBox,select_node:cc.Node,select_prefab:cc.Prefab},start:function(){console.log("login----start");var t=cc.instantiate(this.select_prefab);this.select_node.addChild(t),this.login()},onBtnLoginClick:function(){},login:function(){cc.gameSpace.showLoading(cc.gameSpace.text.logining);var t=this;i.login(function(e){e?(cc.gameSpace.showTips(e),cc.gameSpace.hideLoading()):(cc.gameSpace.showLoading(cc.gameSpace.text.loading_main+"..."),t.loadPlayerInfo())})},loadPlayerInfo:function(){var t=this;i.getItems(function(e,n){t.loadMainScene()})},loadMainScene:function(){cc.director.preloadScene("start",function(){cc.gameSpace.hideLoading(),cc.director.loadScene("start")})},onBtnRegisterClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading("loading..."),cc.gameSpace.uiManager.showSharedDialog("regist","regist",[this])},onBtnPrivateKeyClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading("loading..."),cc.gameSpace.uiManager.showSharedDialog("keyLogin","keyLogin",[this])}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",clientEvent:"clientEvent",configuration:"configuration",constants:"constants",resourceUtil:"resourceUtil"}],LotteryItem:[function(t,e,n){"use strict";cc._RF.push(e,"4ffa1UGXEpMO7A4VUo70yL/","LotteryItem"),cc.Class({extends:cc.Component,properties:{spSelect:cc.Sprite,lbValue:cc.Label,nodeNo:cc.Node,spItem:cc.Sprite,imgCocos:cc.SpriteFrame,imgBomb:cc.SpriteFrame,imgWeapon:cc.SpriteFrame,imgEmployee:cc.SpriteFrame},start:function(){},setInfo:function(t){switch(this.nodeNo.active=!1,t.type){case"money":this.lbValue.string="X "+t.amount,this.spItem.spriteFrame=this.imgCocos,this.spItem.node.width=80,this.spItem.node.height=73;break;case"bomb":this.lbValue.string="X "+t.amount,this.spItem.spriteFrame=this.imgBomb,this.spItem.node.width=64,this.spItem.node.height=82;break;case"weapon":this.lbValue.string="X "+t.amount,this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=90,this.spItem.node.height=90;break;case"no":this.spItem.spriteFrame=null,this.lbValue.string="",this.nodeNo.active=!0;break;case"employee":this.spItem.spriteFrame=this.imgEmployee,this.spItem.node.width=181,this.spItem.node.height=167,this.lbValue.string="X "+t.amount}},getIconWorldPos:function(){return this.spItem.node.convertToWorldSpaceAR(cc.v2(0,0))},setSelect:function(t){this.spSelect.enabled=t}}),cc._RF.pop()},{}],MainPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"bf28a1JQNNA0qicSUG+a3te","MainPlayer");var i=t("playerData");cc.Class({extends:cc.Component,properties:{fireLevel:0,bulletPrefab:cc.Prefab,bulletGroup:cc.Node,spPlane:cc.Sprite,imgNormalPlane:cc.SpriteFrame,imgSuperPlane:cc.SpriteFrame},start:function(){this.refreshModel(),this.bulletPool=new cc.NodePool,this.fireTime=0,this.fireIndex=0,this.schedule(this.changeWeaponLevel,5)},changeWeaponLevel:function(){this.fireLevel++,this.fireLevel>3&&(this.fireLevel=0),this.fireTime=0,this.fireIndex=0},update:function(t){this.fireUpdate(t)},fireUpdate:function(t){this.fireTime+=t;var e=2;this.fireLevel>2&&(e=this.fireLevel);var n=1/(e+1),i=Math.ceil(this.fireTime/n);i!==this.fireIndex&&(this.fireIndex=i,this.fireBullet())},fireBullet:function(){var t=this.node.position,e=t.y+20,n=this.getBullet();n.getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),n.position=cc.v2(t.x,e);var i=null,r=null;if(0===this.fireLevel);else if(1===this.fireLevel){(i=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),i.setPosition(t.x-20,e),(r=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(0,20,0,1,this,this.weaponLevel),r.setPosition(t.x+20,e)}else if(this.fireLevel>=2){(i=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(-10,20,0,1,this,this.weaponLevel),i.setPosition(t.x,e),i.angle=-10,(r=this.getBullet(this.bulletGroup)).getComponent("FightBullet").initInfo(10,20,0,1,this,this.weaponLevel),r.setPosition(t.x,e),r.angle=10}},getBullet:function(){var t=null;return(t=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bulletPrefab)).parent=this.bulletGroup,t},putBullet:function(t){this.bulletPool.put(t)},refreshModel:function(){var t=i.getCurrentWeapon();t?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=i.getWeaponLevel(t)):(this.spPlane.spriteFrame=this.imgNormalPlane,this.weaponLevel=0)},equipWeapon:function(t){t?(this.spPlane.spriteFrame=this.imgSuperPlane,this.weaponLevel=i.getWeaponLevel(t)):this.spPlane.spriteFrame=this.imgNormalPlane}}),cc._RF.pop()},{playerData:"playerData"}],PilotItem:[function(t,e,n){"use strict";cc._RF.push(e,"06a8eQlvMtHJo1FnWxVe+sk","PilotItem");var i=t("resourceUtil"),r=t("constants"),o=t("playerData");cc.Class({extends:cc.Component,properties:{spHead:cc.Sprite,txtAdd:cc.Label,hpNode:cc.Node,spFrame:cc.Sprite,spFront:cc.Sprite,spSelect:cc.Sprite,nodeSelect:cc.Node,nodeCurrentFlag:cc.Node},start:function(){},setInfo:function(t,e,n){var a=this;if(this.itemInfo=t,this.pilotPanel=n,this.ownerPage=e,!t)return i.getPilotIcon("unknown",function(t,e){!t&&cc.isValid(a.spHead)&&(a.spHead.spriteFrame=e)}),this.hpNode.active=!1,void(this.nodeCurrentFlag.active=!1);var s=JSON.parse(t.base_describe),c=0,u="white";switch(s.quality){case r.QUALITY.WHITE:c=1,u="white";break;case r.QUALITY.GREEN:c=2,u="green";break;case r.QUALITY.GREEN_1:c=3,u="green";break;case r.QUALITY.GREEN_2:c=4,u="green";break;case r.QUALITY.BLUE:c=5,u="blue";break;case r.QUALITY.PURPLE:c=6,u="purple";break;case r.QUALITY.GOLD:c=7,u="gold"}this.hpNode.active=!0,this.txtAdd.string="+"+c,i.getPilotIcon(s.icon,function(t,e){!t&&cc.isValid(a.spHead)&&(a.spHead.spriteFrame=e)}),i.loadRes("Textures/Frame/"+u+"01",cc.SpriteFrame,function(t,e){!t&&cc.isValid(a.spFrame)&&(a.spFrame.spriteFrame=e)}),i.loadRes("Textures/Frame/"+u+"02",cc.SpriteFrame,function(t,e){!t&&cc.isValid(a.spFront)&&(a.spFront.spriteFrame=e)}),i.loadRes("Textures/Frame/"+u+"03",cc.SpriteFrame,function(t,e){!t&&cc.isValid(a.spSelect)&&(a.spSelect.spriteFrame=e)});var h=o.getCurrentPilotItemId();this.launch(h===this.itemInfo.id)},launch:function(t){this.nodeCurrentFlag.active=t},select:function(t){this.nodeSelect.active=t},onItemClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.itemInfo&&this.pilotPanel.onItemSelect(this.itemInfo.id,this.ownerPage)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],PilotPage:[function(t,e,n){"use strict";cc._RF.push(e,"f4daal2U/pK8KsJYp1OaUQJ","PilotPage");var i=t("playerData"),r=t("constants");cc.Class({extends:cc.Component,properties:{arrItem:[cc.Node],prefabItem:cc.Prefab},ctor:function(){this.arrPilot=[]},start:function(){this.initPage(),this.refreshPage()},initPage:function(){for(var t=0;t<this.arrItem.length;t++){var e=cc.instantiate(this.prefabItem);e.parent=this.node,e.position=this.arrItem[t].position,this.arrPilot.push(e)}},setPageInfo:function(t,e){this.currentPage=t,this.pilotPanel=e},refreshPage:function(){if(!(this.arrPilot.length<=0))for(var t=i.getPilotList(),e=0;e<this.arrPilot.length;e++){var n=this.arrPilot[e].getComponent("PilotItem"),o=this.currentPage*r.PAGE_SIZE+e;o>=t.length?n.setInfo(null,this.currentPage,this.pilotPanel):n.setInfo(t[o],this.currentPage,this.pilotPanel)}},unSelectAll:function(){for(var t=0;t<this.arrPilot.length;t++){this.arrPilot[t].getComponent("PilotItem").select(!1)}},selectByItemId:function(t){for(var e=0;e<this.arrPilot.length;e++){var n=this.arrPilot[e].getComponent("PilotItem");if(n.itemInfo&&n.itemInfo.id===t){n.select(!0);break}}},unLaunchAll:function(){for(var t=0;t<this.arrPilot.length;t++){this.arrPilot[t].getComponent("PilotItem").launch(!1)}},launchByItemId:function(t){for(var e=0;e<this.arrPilot.length;e++){var n=this.arrPilot[e].getComponent("PilotItem");if(n.itemInfo&&n.itemInfo.id===t){n.launch(!0);break}}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData"}],SpriteFrameSet:[function(t,e,n){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var i=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=i,cc._RF.pop()},{}],Tips:[function(t,e,n){"use strict";cc._RF.push(e,"4968bv/7CpA1ra4cPFcFSFR","Tips"),cc.Class({extends:cc.Component,properties:{lbContent:{type:cc.Label,default:null}},start:function(){},showTips:function(t,e){for(var n=cc.director.getScene(),i=!1,r=0;r<n.children.length;r++){var o=n.children[r];if(o.getComponent(cc.Canvas)){o.addChild(this.node,999),this.node.position=cc.v2(0,100),i=!0;break}}if(i){this.lbContent.string=t;var a,s=cc.delayTime(.8),c=cc.moveBy(.8,cc.v2(0,150)),u=cc.fadeOut(.8);a=e?cc.sequence(s,c,s,u,cc.callFunc(e),cc.removeSelf(!0)):cc.sequence(s,c,s,u,cc.removeSelf(!0)),this.node.runAction(a)}else this.node.destroy()}}),cc._RF.pop()},{}],WeaponItem:[function(t,e,n){"use strict";cc._RF.push(e,"5e7faszlztERqYbMPD9f2Bb","WeaponItem");var i=t("resourceUtil"),r=(t("constants"),t("playerData"));cc.Class({extends:cc.Component,properties:{spHead:cc.Sprite,txtLevel:cc.Label,spFrame:cc.Sprite,spFront:cc.Sprite,spSelect:cc.Sprite,nodeSelect:cc.Node,nodeCurrentFlag:cc.Node,imgWeapon:cc.SpriteFrame},start:function(){},setInfo:function(t,e,n){var o=this;if(this.itemInfo=t,this.weaponPanel=n,this.ownerPage=e,!t)return this.spHead.spriteFrame=null,this.txtLevel.string="",void(this.nodeCurrentFlag.active=!1);var a=r.getWeaponLevel(t),s="white";switch(a){case 1:s="white";break;case 2:s="green";break;case 3:s="blue";break;case 4:s="purple";break;case 5:s="gold"}this.txtLevel.string="lv."+a,this.spHead.spriteFrame=this.imgWeapon,i.loadRes("Textures/Frame/"+s+"01",cc.SpriteFrame,function(t,e){!t&&cc.isValid(o.spFrame)&&(o.spFrame.spriteFrame=e)}),i.loadRes("Textures/Frame/"+s+"02",cc.SpriteFrame,function(t,e){!t&&cc.isValid(o.spFront)&&(o.spFront.spriteFrame=e)}),i.loadRes("Textures/Frame/"+s+"03",cc.SpriteFrame,function(t,e){!t&&cc.isValid(o.spSelect)&&(o.spSelect.spriteFrame=e)});var c=r.getCurrentWeaponItemId();this.launch(c===this.itemInfo.id)},launch:function(t){this.nodeCurrentFlag.active=t},select:function(t){this.nodeSelect.active=t},refresh:function(){var t=r.getWeaponByItemId(this.itemInfo.id);this.setInfo(t,this.ownerPage,this.weaponPanel)},onItemClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.itemInfo&&this.weaponPanel.onItemSelect(this.itemInfo.id,this.ownerPage)}}),cc._RF.pop()},{constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],WeaponPage:[function(t,e,n){"use strict";cc._RF.push(e,"c074eEf0K9Bua4RqYFnx+ke","WeaponPage");var i=t("playerData"),r=t("constants");cc.Class({extends:cc.Component,properties:{arrItem:[cc.Node],prefabItem:cc.Prefab},ctor:function(){this.arrWeapon=[]},start:function(){this.initPage(),this.refreshPage()},initPage:function(){for(var t=0;t<this.arrItem.length;t++){var e=cc.instantiate(this.prefabItem);e.parent=this.node,e.position=this.arrItem[t].position,this.arrWeapon.push(e)}},setPageInfo:function(t,e){this.currentPage=t,this.weaponPanel=e},refreshPage:function(){if(!(this.arrWeapon.length<=0))for(var t=i.getWeaponList(),e=0;e<this.arrWeapon.length;e++){var n=this.arrWeapon[e].getComponent("WeaponItem"),o=this.currentPage*r.WEAPON_PAGE_SIZE+e;o>=t.length?n.setInfo(null,this.currentPage,this.weaponPanel):n.setInfo(t[o],this.currentPage,this.weaponPanel)}},unSelectAll:function(){for(var t=0;t<this.arrWeapon.length;t++){this.arrWeapon[t].getComponent("WeaponItem").select(!1)}},selectByItemId:function(t){for(var e=0;e<this.arrWeapon.length;e++){var n=this.arrWeapon[e].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===t){n.select(!0);break}}},unLaunchAll:function(){for(var t=0;t<this.arrWeapon.length;t++){this.arrWeapon[t].getComponent("WeaponItem").launch(!1)}},launchByItemId:function(t){for(var e=0;e<this.arrWeapon.length;e++){var n=this.arrWeapon[e].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===t){n.launch(!0);break}}},refreshByItemId:function(t){for(var e=0;e<this.arrWeapon.length;e++){var n=this.arrWeapon[e].getComponent("WeaponItem");if(n.itemInfo&&n.itemInfo.id===t){n.refresh();break}}}}),cc._RF.pop()},{constants:"constants",playerData:"playerData"}],audioManager:[function(t,e,n){"use strict";cc._RF.push(e,"e1533SBS+BHUYiuj9rQhh9D","audioManager");var i=t("configuration"),r=t("resourceUtil"),o=new(cc.Class({properties:{musicVolume:1,soundVolume:1},onLoad:function(){this.audios={},this.musicVolume=this.getConfiguration(!0)?1:.001,this.soundVolume=this.getConfiguration(!1)?1:.001},playMusic:function(t,e){this.play(t,e,!0)},playSound:function(t,e){this.play(t,e,!1)},play:function(t,e,n){var i=this,o=this.audios[t];if(o&&(o.isManualStop=!1),o){if(this.isAudioStarting(o.audioId)&&n)return;this.playClip(t,n)}else{var a="audios/";a+=n?"music/":"sound/",r.loadRes(a+t,cc.AudioClip,function(r,o){var a={};a.clip=o,a.loop=e,a.isMusic=n,i.audios[t]=a,i.playClip(t,n)})}},playClip:function(t,e){var n=this.audios[t];if("number"==typeof n.audioId&&(cc.audioEngine.getState(n.audioId)===cc.audioEngine.AudioState.PLAYING&&n.loop))return;var i=this.musicVolume;e||(i=this.soundVolume);var r=cc.audioEngine.play(n.clip,n.loop,i);n.audioId=r},stop:function(t){if(this.audios.hasOwnProperty(t)){var e=this.audios[t].audioId;void 0!==e&&cc.audioEngine.stop(e),this.audios[t].isManualStop=!0}},setMusic:function(t){for(var e in this.musicVolume=t,this.audios)if(this.audios.hasOwnProperty(e)&&this.audios[e].isMusic){var n=this.audios[e];this.setVolume(n.audioId,this.musicVolume)}},openMusic:function(){this.setMusic(1),i.setGlobalData("music","true")},closeMusic:function(){this.setMusic(.001),i.setGlobalData("music","false")},openSound:function(){this.setSound(1),i.setGlobalData("sound","true")},closeSound:function(){this.setSound(.001),i.setGlobalData("sound","false")},setSound:function(t){for(var e in this.soundVolume=t,this.audios)if(this.audios.hasOwnProperty(e)&&!this.audios[e].isMusic){var n=this.audios[e];this.setVolume(n.audioId,this.soundVolume)}},changeState:function(t,e){var n=this.audios[t];if(e&&n.loop&&!n.isManualStop){if("number"==typeof n.audioId&&this.isAudioStarting(n.audioId))return;this.playClip(t)}else e||"number"==typeof n.audioId&&this.isAudioStarting(n.audioId)&&cc.audioEngine.stop(n.audioId)},getConfiguration:function(t){var e=void 0;return!(e=t?i.getGlobalData("music"):i.getGlobalData("sound"))||"true"===e},isAudioStarting:function(t){var e=!1;if("number"==typeof t){var n=cc.audioEngine.getState(t);e=n===cc.audioEngine.AudioState.PLAYING||n===cc.audioEngine.AudioState.INITIALZING,cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME&&(e=e||n===cc.audioEngine.AudioState.PAUSED)}return e},setVolume:function(t,e){var n=cc.audioEngine.getState(t);console.log("### audioId "+t+" state is: "+n),cc.audioEngine.setVolume(t,e)}}));o.onLoad(),e.exports=o,cc._RF.pop()},{configuration:"configuration",resourceUtil:"resourceUtil"}],bcxAdapter:[function(t,e,n){"use strict";cc._RF.push(e,"97258OmOcZEJIes7LV/pGyQ","bcxAdapter");var i=t("playerData"),r=t("constants"),o="http://api-dev.cjfan.net/plane/";cc.game.config.debugMode===cc.debug.DebugMode.INFO&&(o="http://127.0.0.1:3000"),console.log(">>>>>>>>cc.game.config.debugMode="+cc.game.config.debugMode),console.log(">>>>>>>>SERVER_URL="+o),t("./core.min"),t("./plugins.min");var a=new(cc.Class({start:function(){if(console.info("window=1=",window.BcxWeb),window.BcxWeb)this.bcl=window.BcxWeb;else{this.bcl=new BCX({ws_node_list:[{url:"ws://39.106.126.54:8049",name:"COCOS3.0\u8282\u70b92"}],networks:[{core_asset:"COCOS",chain_id:"b9e7cee4709ddaf08e3b7cba63b71c211c845e37c9bf2b865a7b2a592c8adb28"}],faucetUrl:"http://47.93.62.96:8041",auto_reconnect:!0,worker:!1,real_sub:!0,check_cached_nodes_data:!0})}},initSDK:function(t){this.isLoginBcl=!1,this.account=null,this.userId=null,this.privateKey=null,this.contractName="contract.ccshooter.lottery",this.upgradeContract="contract.ccshooter.upgrade",t&&t()},isLogin:function(){return this.isLoginBcl},loginWithAccount:function(t,e,n){},logout:function(t){this.bcl.logout({callback:function(e){console.info("logout res",e),t&&(1===e.code?t(null,e):t(e.message,e))}})},loginWithPrivateKey:function(t,e){},login:function(t){if(console.info("window.BcxWeb==",window.BcxWeb),window.BcxWeb)this.bcl?(console.info("account_name==",this.bcl.account_name),i.account=this.bcl.account_name,t&&t(null)):t&&t("\u767b\u5f55\u5931\u8d25");else{var e=this;Cocosjs.plugins(new CocosBCX),Cocosjs.cocos.connect("My-App").then(function(n){if(!n)return!1;var r=Cocosjs.cocos;e.bcl=r.cocosBcx(e.bcl),e.bcl.getAccountInfo().then(function(n){console.log("res.account_name=="+n.account_name),e.bcl.account_name=n.account_name,i.account=n.account_name,t&&t(null)}).catch(function(e){t&&t("\u767b\u5f55\u5931\u8d25")})})}},signUp:function(t,e,n){this.bcl.createAccountWithPassword({account:t,password:e,autoLogin:!0,callback:function(t){1===t.code?(i.account=t.data.account_name,i.userId=t.data.account_id,n&&n(null,t)):n&&n(t.message,t)}})},deleteWallet:function(){this.bcl.deleteWallet({callback:function(t){console.info("deleteWallet res",t)}})},getAccounts:function(t){this.bcl.getAccounts({callback:function(e){console.info("getAccounts res",e),t&&(1===e.code?t(null,e):t(e.message,e))}})},getPrivateKey:function(t){this.bcl.getPrivateKey({callback:function(e){t&&(1===e.code?(i.privateKey=e.data.active_private_key,t(null,e)):t(e.message,e))}})},getBalance:function(t){this.getBalanceByAccount(i.account,function(e,n){e||(i.gold=n.data.COCOS),t(e,n)})},getBalanceByAccount:function(t,e){this.bcl.queryAccountBalances({assetId_or_symbol:"COCOS",account:t,callback:function(t){console.info("res",t),-25!==t.code&&125!==t.code||(t.code=1,t.data.COCOS=0),1===t.code?e&&e(null,t):e&&e(t.message,t)}})},getItems:function(t){this.bcl.queryAccountNHAssets({account:i.account,versions:["CCShooter"],page:1,pageSize:1e3,callback:function(e){console.log(e),1===e.code?(i.goods=e.data,t(null,e)):t(e.message,e)}})},deleteItem:function(t,e){this.bcl.deleteNHAsset({NHAssetIds:t,callback:function(t){console.log(t),e(t)}})},requestWithGet:function(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&i.status>=200&&i.status<400&&e.apply(n,[i.responseText])},i.open("GET",t,!0),i.send()},requestWithPost:function(t,e,n,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&r.status>=200&&r.status<400&&n.apply(i,[r.responseText])},r.open("POST",t,!0),r.send(e)},transferToDeveloper:function(t,e,n){this.bcl.transferAsset({fromAccount:i.account,toAccount:"ccshooter",amount:t,assetId:"COCOS",memo:e,onlyGetFee:!1}).then(function(t){console.log("transferToDeveloper=="+JSON.stringify(t)),1===t.code?n(null,t):n(t.message,t)}).catch(function(t){console.log("transferToDeveloper=="+JSON.stringify(t))})},queryContract:function(t,e){this.bcl.queryContract({nameOrId:t,callback:function(t){1===t.code?e(null,t):e(t.message,t)}})},lottery:function(t){this.bcl.callContractFunction({nameOrId:this.contractName,functionName:"draw",valueList:[i.account,100]}).then(function(e){console.info("draw res=",e),1===e.code?t(null,e):t(e.message,e)}).catch(function(t){console.info("draw lottery error=",JSON.stringify(t))})},transferToPlayer:function(t,e,n){var r=o+"/bcl/money?to="+i.account+"&token="+t+"&comment="+e;this.requestWithGet(r,function(t){n(t)},this)},reqStartGame:function(t){this.transferToDeveloper(r.START_GAME_CONSUME,"newGame",function(e,n){t(e,n)})},reqRelife:function(t){this.transferToDeveloper(i.relifeCost,"resurrection",function(e,n){t(e,n)})},reqCreateBomb:function(t){var e=o+"/bcl/bomb/"+i.account;console.log(">>>>>>>>SERVER_URL=="+o),this.requestWithGet(e,function(e){if(t){var n=JSON.parse(e);200===n.code?t(null,n):t(n.statusText,n)}},this)},reqDestroyBomb:function(t,e){i.removeGoodItem(t),this.deleteItem([t],function(t){console.log(t),1===t.code?e(null,t):e(t.message,t)})},creatGameItemOrder:function(t,e,n,i,r,o){this.bcl.creatNHAssetOrder({otcAccount:"ccshooter",orderFee:i,NHAssetId:t,price:e,priceAssetId:"COCOS",expiration:n,memo:r,callback:function(t){console.info("creatNHAssetOrder result",t),o&&(1===t.code?o(null,t):o(t.message,t))}})},cancelGameItemOrder:function(t,e){this.bcl.cancelNHAssetOrder({orderId:t,callback:function(t){console.info("cancelNHAssetOrder res",t),e&&(1===t.code?e(null,t):e(t.message,t))}})},queryAccountGameItemOrders:function(t){this.bcl.queryAccountNHAssetOrders({account:i.account,pageSize:100,page:1,callback:function(e){console.info("res",e),1===e.code?(i.goodsSelling=e.data,t&&t(null,e)):t&&t(e.message,e)}})},queryGameItemInfo:function(t,e){this.bcl.queryNHAssets({NHAssetHashOrIds:t,callback:function(t){console.info("queryGameItemInfo res",t),1===t.code?e(null,t):e(t.message,t)}})},upgradeWeapon:function(t,e){console.info("upgradeWeapon==-",i.getWeaponLevelById(t)),console.info("weaponId==-",t),this.bcl.callContractFunction({nameOrId:this.upgradeContract,functionName:"equipment_upgrade",valueList:[t,i.getWeaponLevelById(t)],callback:function(t){}}).then(function(t){console.info("upgrade res",JSON.stringify(t)),e&&(1===t.code?e(null,t):e(t.message,t))}).catch(function(t){console.info("upgradeWeapon error-==",JSON.stringify(t))})},isPC:function(){var t=navigator.userAgent,e=!0,n=!0,i=!1,r=void 0;try{for(var o,a=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t.indexOf(s)>0){e=!1;break}}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return e}}));a.start(),e.exports=a,cc._RF.pop()},{"./core.min":"core.min","./plugins.min":"plugins.min",constants:"constants",playerData:"playerData"}],clientEvent:[function(t,e,n){"use strict";cc._RF.push(e,"dc57f0OuY5Gm50YkWgW0d64","clientEvent");var i=t("eventListener").getBaseClass("multi"),r=new(cc.Class({extends:i,properties:{},onLoad:function(){this._EVENT_TYPE=["testEvent","onAppShow","onNetworkConnect","hideNetLoading","showNetLoading","showWaiting","hideWaiting","showSharedDialog","hideSharedDialog","showTips","showGetMoneyTips","activeScene","pushToPopupSeq","popFromPopupSeq","onSomeoneJoined","onSomeoneLeft","onSomeoneEmit","onSomeoneBet","onSomeoneReady","onDiceResult","updateMoney","updateRound","submitShareResult"],this.setSupportEventList(this._EVENT_TYPE)}}));r.onLoad(),e.exports=r,cc._RF.pop()},{eventListener:"eventListener"}],configuration:[function(t,e,n){"use strict";cc._RF.push(e,"b8491owJHhCbri6DGtXnEEg","configuration");var i=t("utils"),r=new(cc.Class({onLoad:function(){var t,e=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),cc.sys.isNative)?t=jsb.fileUtils.getValueMapFromFile(this.path).PlaneConfig:t=cc.sys.localStorage.getItem("PlaneConfig");if(t&&t.length){t.startsWith("@")&&(t=t.substring(1),t=i.decrypt(t));try{var n=JSON.parse(t);this.jsonData=n,console.log(">>>>>>>>>>>>>>content=="+JSON.stringify(n))}catch(t){}}this.markSave=!1,this.saveTimer=setInterval(function(){e.scheduleSave()},500)},setConfigDataWithoutSave:function(t,e){var n=this.jsonData.userId;this.jsonData[n]?this.jsonData[n][t]=e:console.error("no account can not save")},setConfigData:function(t,e){this.setConfigDataWithoutSave(t,e),this.markSave=!0},getConfigData:function(t){var e=this.jsonData.userId;if(this.jsonData[e]){var n=this.jsonData[e][t];return n||""}return cc.log("no account can not load"),""},setGlobalData:function(t,e){this.jsonData[t]=e,this.save()},getGlobalData:function(t){return this.jsonData[t]},setUserId:function(t){this.jsonData.userId=t,this.jsonData[t]||(this.jsonData[t]={}),this.save()},getUserId:function(){return this.jsonData.userId},scheduleSave:function(){this.markSave&&this.save()},markModified:function(){this.markSave=!0},save:function(){var t=JSON.stringify(this.jsonData),e="@"+i.encrypt(t);if(this.markSave=!1,cc.sys.isNative){var n={};n.PlaneConfig=e,jsb.fileUtils.writeToFile(n,r.path)}else{cc.sys.localStorage.setItem("PlaneConfig",e)}},getConfigPath:function(){var t=cc.sys,e="";return t===cc.sys.OS_WINDOWS?e="src/conf":t===cc.sys.OS_LINUX?e="./conf":cc.sys.isNative?(e=jsb.fileUtils.getWritablePath(),e+="conf"):e="src/conf",e},parseUrl:function(t){if(t&&!("string"==typeof t&&t.length<=0)){var e={};if("string"==typeof t)(t=t.split("?")[1]).split("&").forEach(function(t){var n=t.indexOf("=");if(-1!==n){var i=t.substring(0,n);e[i]=t.substring(n+1)}});else e=t;e.action&&this.setGlobalData("urlParams",e),e.source&&this.setGlobalData("source",e.source),e.adchannelid&&this.setGlobalData("adchannelid",e.adchannelid)}}}));r.onLoad(),e.exports=r,cc._RF.pop()},{utils:"utils"}],constants:[function(t,e,n){"use strict";cc._RF.push(e,"9b990nr/YxFFZ61VmdiTGDE","constants"),e.exports={DATA_KEY:{SOUND:"sound",ACCOUNT:"account",PASSWORD:"password",WEAPON:"weapon",PILOT:"pilot",CURRENT_WEAPON:"currentWeapon"},FIGHT_EVENT:{UPDATE_SCORE:"updateScore",UPDATE_LIFE:"updateLife",UPDATE_CANDY:"updateCandy",UPDATE_TOUCH_POS:"updateTouchPos",UPDATE_BOMB:"updateBomb",RELEASE_BOMB:"releaseBomb"},ITEM_TYPE:{BULLET_LEVEL:0,FOLLOW_NUM:1,BGold:2,CANDY:3,LIFE_UP:4,BOMB:5},isDeBug:!0,URL_DEBUG:"http://think.waitmeby.top/",URL_RELEASE:"http://shooter-admin.candy.one/",URL_LOCAL:"http://192.168.0.89/",PROTOCOL:{NEW_GAME:"froggame",SUBMIT_GAME_INFO:"submitGameInfoFromH5",GET_RANKING:"getRankingList",BUY_TIMES:"buyTimes",IS_REVIVE:"isrevive",NOTICE:"notice"},ZORDER:{DRAW_RESULT:80,DIALOG:100,REWARD:900,WAITING:998,TIPS:999},candyNumSum:150,BGoldNumSum:100,START_GAME_CONSUME:10,PAGE_SIZE:11,WEAPON_PAGE_SIZE:7,WEAPON_MAX_LEVEL:5,BOMB_KEY:"bomb",WEAPON_KEY:"weapon",PILOT:"Employee",ERROR_STR:{ERR00018:"sorry, you need more candy.",ERR0019:"sorry, you need more candy.",ERR0007:"unknown error, don\u2019t worry we can\u2019t cost your candy."},QUALITY:{WHITE:0,GREEN:10,GREEN_1:11,GREEN_2:12,BLUE:20,PURPLE:30,GOLD:40}},cc._RF.pop()},{}],"core.min":[function(t,e,n){"use strict";cc._RF.push(e,"d17fdO4dGdKeZ0KncmF6wpb","core.min");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":i(t))&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=64)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(35)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(t,e,n,i,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise(function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,c,"next",t)}function c(t){n(a,r,o,s,c,"throw",t)}s(void 0)})}}},function(t,e,n){var i=n(16),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,n){var i=n(12),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=n(10);o.inherits=n(4);var a=n(25),s=n(19);o.inherits(l,a);for(var c=r(s.prototype),u=0;u<c.length;u++){var h=c[u];l.prototype[h]||(l.prototype[h]=s.prototype[h])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){var i=n(6).Buffer;function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}r.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var c=a%r,u=Math.min(o-s,r-c),h=0;h<u;h++)n[c+h]=t[s+h];s+=u,(a+=u)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==(void 0===t?"undefined":i(t))},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==(void 0===t?"undefined":i(t))&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==(void 0===t?"undefined":i(t))||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(16).Buffer)},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!h){var t=s(f);h=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(11))},function(t,e,n){var i=n(21),r=n(62);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var i=n(63);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){(function(t){var i=n(42),r=n(43),o=n(23);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=s(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var h=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var l=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){l=!1;break}if(l)return o}return-1}function v(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return W(j(e,t.length-n),t,n,i)}function w(t,e,n,i){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _(t,e,n,i){return w(t,e,n,i)}function S(t,e,n,i){return W(Y(e),t,n,i)}function E(t,e,n,i){return W(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function P(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,c,u=t[r],h=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=C));return n}(i)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,i){return h(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return P(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(i,r),h=t.slice(e,n),l=0;l<s;++l)if(u[l]!==h[l]){o=u[l],a=h[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function k(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=U(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function O(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,i,o){return o||O(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,o){return o||O(t,0,n,8),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:j(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(7))},function(t,e,n){var r,o="object"==("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function h(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,a,s,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===n?"undefined":i(n)));if(void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),s=a[e]),void 0===s)s=a[e]=n,++t._eventsCount;else if("function"==typeof s?s=a[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=h(t))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return t}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,t))}.bind(i);return r.listener=n,i.wrapFn=r,r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):g(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=r[t];if(void 0===c)return!1;if("function"==typeof c)a(c,this,e);else{var u=c.length,h=g(c,u);for(n=0;n<u;++n)a(h[n],this,e)}return!0},c.prototype.addListener=function(t,e){return l(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return l(this,t,e,!0)},c.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":i(e)));return this.on(t,f(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":i(e)));return this.prependListener(t,f(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,o,a,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":i(e)));if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},c.prototype.listeners=function(t){return p(this,t,!0)},c.prototype.rawListeners=function(t){return p(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},c.prototype.listenerCount=d,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(e=t.exports=n(25)).Stream=e,e.Readable=e,e.Writable=n(19),e.Duplex=n(8),e.Transform=n(28),e.PassThrough=n(50)},function(t,e,n){(function(e,i,r){var o=n(12);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(void 0),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var s,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;v.WritableState=y;var u=n(10);u.inherits=n(4);var h,l={deprecate:n(49)},f=n(26),p=n(6).Buffer,d=r.Uint8Array||function(){},g=n(27);function m(){}function y(t,e){s=s||n(8),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,u=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(P,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),P(t,e))}(t,n,i,e,r);else{var a=S(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),i?c(w,t,n,a,r):w(t,n,a,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(t){if(s=s||n(8),!(h.call(v,this)||this instanceof s))return new v(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function w(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),P(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,b(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,l=n.callback;if(b(t,e,!1,e.objectMode?1:u.length,u,h,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),P(t,e)})}function P(t,e){var n=S(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(v,f),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===v&&t&&t._writableState instanceof y}})):h=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=t,p.isBuffer(i)||i instanceof d);return s&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=m),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,t,n))&&(r.pendingcb++,a=function(t,e,n,i,r,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n)),e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,i,r,o);return c}(this,r,s,t,e,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,P(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(11),n(47).setImmediate,n(7))},function(t,e,n){var i=n(6).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=l,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":i(t)})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e,n){var i=n(6).Buffer,r=n(24).Transform;function o(t){r.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(4)(o,r),o.prototype._transform=function(t,e,n){var i=null;try{this.update(t,e)}catch(t){i=t}n(i)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=r;var i=n(17).EventEmitter;function r(){i.call(this)}n(4)(r,i),r.Readable=n(18),r.Writable=n(51),r.Duplex=n(52),r.Transform=n(53),r.PassThrough=n(54),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(h(),0===i.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",u),t.on("error",u),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},function(t,e,n){(function(e,i){var r=n(12);t.exports=b;var o,a=n(23);b.ReadableState=v,n(17).EventEmitter;var s=function(t,e){return t.listeners(e).length},c=n(26),u=n(6).Buffer,h=e.Uint8Array||function(){},l=n(10);l.inherits=n(4);var f=n(44),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,g=n(45),m=n(27);l.inherits(b,c);var y=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var i=e instanceof(o=o||n(8));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(20).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(8),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,n,i,r){var o,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,P(t)}}(t,a)):(r||(o=function(t,e){var n,i;return i=e,u.isBuffer(i)||i instanceof h||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):C(t,a)):_(t,a,e,!1))):i||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&P(t)),C(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=n(20).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function P(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(I,t):I(t))}function I(t){p("emit readable"),t.emit("readable"),L(t)}function C(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function A(t){p("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?r+=o:r+=o.slice(0,t),0==(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0==(t-=a)){a===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(a));break}++r}return e.length-=r,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(B,e,t))}function B(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):P(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&R(this),null;var i,r=e.needReadable;return p("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",r=!0),e.ended||e.reading?p("reading or ended",r=!1):r&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(i=t>0?x(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=e&&!1===e.end||t===i.stdout||t===i.stderr?v:u;function u(){p("onend"),t.end()}o.endEmitted?r.nextTick(c):n.once("end",c),t.on("unpipe",function e(i,r){p("onunpipe"),i===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",d),l=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())});var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,L(t))}}(n);t.on("drain",h);var l=!1,f=!1;function d(e){p("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==F(o.pipes,t))&&!l&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(e){p("onerror",e),v(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),v()}function y(){p("onfinish"),t.removeListener("close",m),v()}function v(){p("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",y),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=F(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&P(this):r.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(k,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=x}).call(this,n(7),n(11))},function(t,e,n){t.exports=n(17).EventEmitter},function(t,e,n){var i=n(12);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){t.exports=o;var i=n(8),r=n(10);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(4),r.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){var i=n(4),r=n(9),o=n(6).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(c,r),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)n[y]=t.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((e=n[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[y-7]+p(n[y-15])+n[y-16];for(var v=0;v<64;++v){var b=m+f(c)+u(c,d,g)+a[v]+n[v]|0,w=l(i)+h(i,r,o)|0;m=g,g=d,d=c,c=s+b|0,s=o,o=r,r=i,i=b+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var i=n(4),r=n(9),o=n(6).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,r.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}i(c,r),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,v=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,P=0|this._el,I=0|this._fl,C=0|this._gl,T=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var k=e[A-30],L=e[A-30+1],x=p(k,L),R=d(L,k),B=g(k=e[A-4],L=e[A-4+1]),F=m(L,k),O=e[A-14],M=e[A-14+1],N=e[A-32],D=e[A-32+1],U=R+M|0,j=x+O+y(U,R)|0;j=(j=j+B+y(U=U+F|0,F)|0)+N+y(U=U+D|0,D)|0,e[A]=j,e[A+1]=U}for(var Y=0;Y<160;Y+=2){j=e[Y],U=e[Y+1];var W=h(n,i,r),G=h(w,_,S),q=l(n,w),z=l(w,n),H=f(s,P),V=f(P,s),K=a[Y],J=a[Y+1],Q=u(s,c,v),X=u(P,I,C),Z=T+V|0,$=b+H+y(Z,T)|0;$=($=($=$+Q+y(Z=Z+X|0,X)|0)+K+y(Z=Z+J|0,J)|0)+j+y(Z=Z+U|0,U)|0;var tt=z+G|0,et=q+W+y(tt,z)|0;b=v,T=C,v=c,C=I,c=s,I=P,s=o+$+y(P=E+Z|0,E)|0,o=r,E=S,r=i,S=_,i=n,_=w,n=$+et+y(w=Z+tt|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+P|0,this._fl=this._fl+I|0,this._gl=this._gl+C|0,this._hl=this._hl+T|0,this._ah=this._ah+n+y(this._al,w)|0,this._bh=this._bh+i+y(this._bl,_)|0,this._ch=this._ch+r+y(this._cl,S)|0,this._dh=this._dh+o+y(this._dl,E)|0,this._eh=this._eh+s+y(this._el,P)|0,this._fh=this._fh+c+y(this._fl,I)|0,this._gh=this._gh+v+y(this._gl,C)|0,this._hh=this._hh+b+y(this._hl,T)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){var i=n(36),r=n(37),o=n(38);t.exports=function(t,e){return i(t)||r(t,e)||o()}},function(t,e,n){var r=n(39),o=n(40);t.exports=function(t){if(r.crypto&&r.crypto.getRandomValues)return r.crypto.getRandomValues(t);if("object"==i(r.msCrypto)&&"function"==typeof r.msCrypto.getRandomValues)return r.msCrypto.getRandomValues(t);if(o.randomBytes){if(!(t instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(t.length>65536){var e=new Error;throw e.code=22,e.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+t.length+") exceeds the number of bytes of entropy available via this API (65536).",e.name="QuotaExceededError",e}var n=o.randomBytes(t.length);return t.set(n),t}throw new Error("No secure random number generator available.")}},function(t,e,n){var i=n(4),r=n(41),o=n(55),a=n(56),s=n(61);function c(t){s.call(this,"digest"),this._hash=t}i(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new r:"rmd160"===t||"ripemd160"===t?new o:new c(a(t))}},function(t,e,n){(function(e){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==e?n=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),t.exports=n}).call(this,n(7))},function(t,e,n){var r=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),a=new A(i||[]);return o._invoke=function(t,e,n){var i=l;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=h(t,e,n);if("normal"===c.type){if(i=n.done?d:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=d,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",p="executing",d="completed",g={};function m(){}function y(){}function v(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==n&&r.call(_,a)&&(b=_);var S=v.prototype=m.prototype=Object.create(b);function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function P(t){var e;this._invoke=function(n,o){function a(){return new Promise(function(e,a){!function e(n,o,a,s){var c=h(t[n],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==(void 0===l?"undefined":i(l))&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,a,s)},function(t){e("throw",t,a,s)}):Promise.resolve(l).then(function(t){u.value=t,a(u)},function(t){return e("throw",t,a,s)})}s(c.arg)}(n,o,e,a)})}return e=e?e.then(a,a):a()}}function I(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:L}}function L(){return{value:e,done:!0}}return y.prototype=S.constructor=v,v.constructor=y,v[c]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},E(P.prototype),P.prototype[s]=function(){return this},t.AsyncIterator=P,t.async=function(e,n,i,r){var o=new P(u(e,n,i,r));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},E(S),S[c]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,n(7))},function(t,e){},function(t,e,n){var i=n(4),r=n(22),o=n(6).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function u(t,e,n,i,r,o,a){return c(t+(e&n|~e&i)+r+o|0,a)+e|0}function h(t,e,n,i,r,o,a){return c(t+(e&i|n&~i)+r+o|0,a)+e|0}function l(t,e,n,i,r,o,a){return c(t+(e^n^i)+r+o|0,a)+e|0}function f(t,e,n,i,r,o,a){return c(t+(n^(e|~i))+r+o|0,a)+e|0}i(s,r),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,i=this._b,r=this._c,o=this._d;n=f(n=l(n=l(n=l(n=l(n=h(n=h(n=h(n=h(n=u(n=u(n=u(n=u(n,i,r,o,t[0],3614090360,7),i=u(i,r=u(r,o=u(o,n,i,r,t[1],3905402710,12),n,i,t[2],606105819,17),o,n,t[3],3250441966,22),r,o,t[4],4118548399,7),i=u(i,r=u(r,o=u(o,n,i,r,t[5],1200080426,12),n,i,t[6],2821735955,17),o,n,t[7],4249261313,22),r,o,t[8],1770035416,7),i=u(i,r=u(r,o=u(o,n,i,r,t[9],2336552879,12),n,i,t[10],4294925233,17),o,n,t[11],2304563134,22),r,o,t[12],1804603682,7),i=u(i,r=u(r,o=u(o,n,i,r,t[13],4254626195,12),n,i,t[14],2792965006,17),o,n,t[15],1236535329,22),r,o,t[1],4129170786,5),i=h(i,r=h(r,o=h(o,n,i,r,t[6],3225465664,9),n,i,t[11],643717713,14),o,n,t[0],3921069994,20),r,o,t[5],3593408605,5),i=h(i,r=h(r,o=h(o,n,i,r,t[10],38016083,9),n,i,t[15],3634488961,14),o,n,t[4],3889429448,20),r,o,t[9],568446438,5),i=h(i,r=h(r,o=h(o,n,i,r,t[14],3275163606,9),n,i,t[3],4107603335,14),o,n,t[8],1163531501,20),r,o,t[13],2850285829,5),i=h(i,r=h(r,o=h(o,n,i,r,t[2],4243563512,9),n,i,t[7],1735328473,14),o,n,t[12],2368359562,20),r,o,t[5],4294588738,4),i=l(i,r=l(r,o=l(o,n,i,r,t[8],2272392833,11),n,i,t[11],1839030562,16),o,n,t[14],4259657740,23),r,o,t[1],2763975236,4),i=l(i,r=l(r,o=l(o,n,i,r,t[4],1272893353,11),n,i,t[7],4139469664,16),o,n,t[10],3200236656,23),r,o,t[13],681279174,4),i=l(i,r=l(r,o=l(o,n,i,r,t[0],3936430074,11),n,i,t[3],3572445317,16),o,n,t[6],76029189,23),r,o,t[9],3654602809,4),i=l(i,r=l(r,o=l(o,n,i,r,t[12],3873151461,11),n,i,t[15],530742520,16),o,n,t[2],3299628645,23),r,o,t[0],4096336452,6),i=f(i=f(i=f(i=f(i,r=f(r,o=f(o,n,i,r,t[7],1126891415,10),n,i,t[14],2878612391,15),o,n,t[5],4237533241,21),r=f(r,o=f(o,n=f(n,i,r,o,t[12],1700485571,6),i,r,t[3],2399980690,10),n,i,t[10],4293915773,15),o,n,t[1],2240044497,21),r=f(r,o=f(o,n=f(n,i,r,o,t[8],1873313359,6),i,r,t[15],4264355552,10),n,i,t[6],2734768916,15),o,n,t[13],1309151649,21),r=f(r,o=f(o,n=f(n,i,r,o,t[4],4149444226,6),i,r,t[11],3174756917,10),n,i,t[2],718787259,15),o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,n){e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=u(t),i=n[0],a=n[1],s=new o(3*(i+a)/4-a),c=0,h=a>0?i-4:i,l=0;l<h;l+=4)e=r[t.charCodeAt(l)]<<18|r[t.charCodeAt(l+1)]<<12|r[t.charCodeAt(l+2)]<<6|r[t.charCodeAt(l+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===a&&(e=r[t.charCodeAt(l)]<<2|r[t.charCodeAt(l+1)]>>4,s[c++]=255&e),1===a&&(e=r[t.charCodeAt(l)]<<10|r[t.charCodeAt(l+1)]<<4|r[t.charCodeAt(l+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,h=-7,l=n?r-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[e+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+t[e+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,c,u=8*o-r-1,h=(1<<u)-1,l=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(e*c-1)*Math.pow(2,r),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+p]=255&a,p+=d,a/=256,u-=8);t[n+p-d]|=128*g}},function(t,e){},function(t,e,n){var i=n(6).Buffer,r=n(46);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r=i.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=r,n=a,o.data.copy(e,n),a+=o.data.length,o=o.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(48),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(t,e,n){(function(t,e){!function(t,n){if(!t.setImmediate){var i,r,o,a,s,c=1,u={},h=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){d(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[c]=r,i(c),c++},f.clearImmediate=p}function p(t){delete u[t]}function d(t){if(h)setTimeout(d,0,t);else{var e=u[t];if(e){h=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{p(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(7),n(11))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(7))},function(t,e,n){t.exports=o;var i=n(28),r=n(10);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(4),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(19)},function(t,e,n){t.exports=n(8)},function(t,e,n){t.exports=n(18).Transform},function(t,e,n){t.exports=n(18).PassThrough},function(t,e,n){var i=n(16).Buffer,r=n(4),o=n(22),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function g(t,e,n,i,r,o,a,s){return d(t+(e^n^i)+o+a|0,s)+r|0}function m(t,e,n,i,r,o,a,s){return d(t+(e&n|~e&i)+o+a|0,s)+r|0}function y(t,e,n,i,r,o,a,s){return d(t+((e|~n)^i)+o+a|0,s)+r|0}function v(t,e,n,i,r,o,a,s){return d(t+(e&i|n&~i)+o+a|0,s)+r|0}function b(t,e,n,i,r,o,a,s){return d(t+(e^(n|~i))+o+a|0,s)+r|0}r(p,o),p.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,p=0|this._e,w=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,P=0|this._e,I=0;I<80;I+=1){var C,T;I<16?(C=g(n,i,r,o,p,t[s[I]],l[0],u[I]),T=b(w,_,S,E,P,t[c[I]],f[0],h[I])):I<32?(C=m(n,i,r,o,p,t[s[I]],l[1],u[I]),T=v(w,_,S,E,P,t[c[I]],f[1],h[I])):I<48?(C=y(n,i,r,o,p,t[s[I]],l[2],u[I]),T=y(w,_,S,E,P,t[c[I]],f[2],h[I])):I<64?(C=v(n,i,r,o,p,t[s[I]],l[3],u[I]),T=m(w,_,S,E,P,t[c[I]],f[3],h[I])):(C=b(n,i,r,o,p,t[s[I]],l[4],u[I]),T=g(w,_,S,E,P,t[c[I]],f[4],h[I])),n=p,p=o,o=d(r,10),r=i,i=C,w=P,P=E,E=d(S,10),S=_,_=T}var A=this._b+r+E|0;this._b=this._c+o+P|0,this._c=this._d+p+w|0,this._d=this._e+n+_|0,this._e=this._a+i+S|0,this._a=A},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=p},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(57),e.sha1=n(58),e.sha224=n(59),e.sha256=n(29),e.sha384=n(60),e.sha512=n(30)},function(t,e,n){var i=n(4),r=n(9),o=n(6).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(t){return t<<30|t>>>2}function h(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var f=0;f<80;++f){var p=~~(f/20),d=0|((e=i)<<5|e>>>27)+h(p,r,o,s)+c+n[f]+a[p];c=s,s=o,o=u(r),r=i,i=d}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var i=n(4),r=n(9),o=n(6).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function l(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=(e=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|e>>>31;for(var p=0;p<80;++p){var d=~~(p/20),g=u(i)+l(d,r,o,s)+c+n[p]+a[d]|0;c=s,s=o,o=h(r),r=i,i=g}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var i=n(4),r=n(29),o=n(9),a=n(6).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}i(c,r),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var i=n(4),r=n(30),o=n(9),a=n(6).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}i(c,r),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){var i=n(6).Buffer,r=n(24).Transform,o=n(20).StringDecoder;function a(t){r.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(4)(a,r),a.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{n(i)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return n&&(i+=this._decoder.end()),i},t.exports=a},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e,n){n.r(e);var i={};n.r(i),n.d(i,"BLOCKCHAIN_SUPPORT",function(){return p}),n.d(i,"WALLET_SUPPORT",function(){return d});var r,o=n(1),a=n.n(o),s=n(5),c=n.n(s),u=n(2),h=n.n(u),l=n(3),f=n.n(l),p="blockchain_support",d="wallet_support",g=new(function(){function t(){h()(this,t),this.plugins=[]}return f()(t,[{key:"loadPlugin",value:function(t){this.plugin(t.name)||this.plugins.push(t)}},{key:"wallets",value:function(){return this.plugins.filter(function(t){return t.type===d})}},{key:"signatureProviders",value:function(){return this.plugins.filter(function(t){return t.type===p})}},{key:"supportedBlockchains",value:function(){return this.signatureProviders().map(function(){return name})}},{key:"plugin",value:function(t){return this.plugins.find(function(e){return e.name===t})}},{key:"endorsedNetworks",value:function(){var t=c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.signatureProviders().map(function(){var t=c()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEndorsedNetwork();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}()),m=n(21),y=n.n(m),v=n(31),b=n.n(v),w={},_=function(){return"undefined"==typeof window?{localStorage:{setItem:function(t,e){return w[t]=e},getItem:function(t){return w[t]||null},removeItem:function(t){return delete w[t]}}}:window},S=function(){function t(){h()(this,t)}return f()(t,null,[{key:"setAppKey",value:function(t){_().localStorage.setItem("appkey",t)}},{key:"getAppKey",value:function(){return _().localStorage.getItem("appkey")}},{key:"removeAppKey",value:function(){return _().localStorage.removeItem("appkey")}},{key:"setNonce",value:function(t){_().localStorage.setItem("nonce",t)}},{key:"getNonce",value:function(){return _().localStorage.getItem("nonce")}},{key:"removeNonce",value:function(){return _().localStorage.removeItem("nonce")}}]),t}(),E=n(32),P=n.n(E),I=n(33),C=n.n(I),T=n(34),A=n.n(T),k=null,L=!1,x=!1,R=[],B=function(t){return C()("sha256").update(t).digest("hex")},F=function(){var t=new Uint8Array(24);return P()(t),t.join("")},O=function(){var t;return"www."===(t="undefined"==typeof location?r:location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:r).substr(0,4)&&(t=t.replace("www.","")),t},M=S.getAppKey();M||(M="appkey:"+F());var N,D=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null===t&&null===e?k.send("40/Cocos-BCX"):k.send("42/Cocos-BCX,"+JSON.stringify([t,e]))},U=null,j=function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return new Promise(function(e,n){U={resolve:e,reject:n},D("pair",{data:{appkey:M,origin:O(),passthrough:t},plugin:r})})},Y={},W=function(){function t(){h()(this,t)}return f()(t,null,[{key:"init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6e5;r=t,this.timeout=e}},{key:"getOrigin",value:function(){return O()}},{key:"addEventHandler",value:function(t,e){e||(e="app"),Y[e]=t}},{key:"removeEventHandler",value:function(t){t||(t="app"),delete Y[t]}},{key:"link",value:function(){var t=this;return Promise.race([new Promise(function(e){return setTimeout(function(){L||(e(!1),k&&(k.disconnect(),k=null))},t.timeout)}),new Promise(function(){var t=c()(a.a.mark(function t(e){var n,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){k.onmessage=function(r){if(-1===r.data.indexOf("42/Cocos-BCX"))return!1;var o=JSON.parse(r.data.replace("42/Cocos-BCX,","")),a=b()(o,2),s=a[0],c=a[1];return"paired"===s?t(c):"rekey"===s?e():"api"===s?n(c):"event"===s?i(c):void 0};var t=function(t){if(x=t){var e=S.getAppKey(),n=-1<M.indexOf("appkey:")?B(M):M;e&&e===n||(S.setAppKey(n),M=S.getAppKey())}U.resolve(t)},e=function(){M="appkey:"+F(),D("rekeyed",{data:{appkey:M,origin:O()},plugin:r})},n=function(t){if(t){var e=R.find(function(e){return e.id===t.id});e&&(R=R.filter(function(e){return e.id!==t.id}),"object"===y()(t.result)&&null!==t.result&&t.result.hasOwnProperty("isError")?e.reject(t.result):e.resolve(t.result))}},i=function(t){var e=t.event,n=t.payload;Object.keys(Y).length&&Object.keys(Y).map(function(t){Y[t](e,n)})}},i=function(){var t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;i||(t=new Promise(function(t){return i=t}));var r="".concat("ws://").concat("127.0.0.1:50005").concat("/socket.io/?EIO=3&transport=websocket"),o=new A.a(r);return o.onerror=function(){e(!1),i(!1)},o.onopen=function(){k=o,D(),clearTimeout(null),L=!0,j(!0).then(function(){e(!0),i(!0)}),n()},t},t.next=4,i();case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}())])}},{key:"isConnected",value:function(){return L}},{key:"isPaired",value:function(){return x}},{key:"disconnect",value:function(){return k&&k.close(),!0}},{key:"removeAppKeys",value:function(){S.removeAppKey(),S.removeNonce()}},{key:"sendApiRequest",value:function(t){return new Promise(function(e,n){return"identityFromPermissions"!==t.type||x?void j().then(function(){if(!x)return n({code:"not_paired",message:"The user did not allow this app to connect to their Cocos"});t.id=F(),t.appkey=M,t.nonce=S.getNonce()||0;var i=F();t.nextNonce=B(i),S.setNonce(i),t.hasOwnProperty("payload")&&!t.payload.hasOwnProperty("origin")&&(t.payload.origin=O()),R.push(Object.assign(t,{resolve:e,reject:n})),D("api",{data:t,plugin:r})}):e(!1)})}}]),t}(),G=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";h()(this,t),this.name=e,this.type=n}return f()(t,[{key:"isSignatureProvider",value:function(){return this.type===p}},{key:"isValid",value:function(){return Object.keys(i).map(function(t){return i[t]}).includes(this.type)}}],[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(e){return Object.assign(t.placeholder(),e)}}]),t}(),q={EOS:"eos",ETH:"eth",TRX:"trx",COCOSBCX:"cocosBcx"},z=(Object.keys(q).map(function(t){return{key:t,value:q[t]}}),function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:q.EOS,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;h()(this,t),this.blockchain=e,this.contract=n,this.symbol=i,this.name=r||i,this.decimals=o}return f()(t,null,[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(t){return Object.assign(this.placeholder(),t)}}]),t}()),H=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"https",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:q.EOS,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"";h()(this,t),this.name=e,this.protocol=n,this.host=i,this.port=r,this.blockchain=o,this.chainId=a.toString(),this.token=null}return f()(t,[{key:"fullhost",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.port?":":"").concat(this.port)}},{key:"unique",value:function(){return("".concat(this.blockchain,":")+(this.chainId.length?"chain:".concat(this.chainId):"".concat(this.host,":").concat(this.port))).toLowerCase()}}],[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(e){var n=Object.assign(t.placeholder(),e);return n.chainId=n.chainId?n.chainId.toString():"",n.token=e.hasOwnProperty("token")&&e.token?z.fromJson(e.token):null,n}}]),t}(),V=n(0),K=n.n(V),J={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getAccountInfo:"getAccountInfo",getVersion:"getVersion",getIdentity:"getIdentity",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken",transferAsset:"transferAsset",callContractFunction:"callContractFunction"},Q=(N={},K()(N,J.getIdentity,"login"),K()(N,J.forgetIdentity,"logout"),K()(N,J.getIdentityFromPermissions,"checkLogin"),N),X=function(){function t(e,n,i){h()(this,t);var r=function(t){return function(){throw new Error("".concat(e," does not support the ").concat(t," method."))}};Object.keys(J).map(function(t){return function(t,e){void 0===i[e]&&(i[e]=t||r(e)),Q[e]&&void 0===i[Q[e]]&&(i[Q[e]]=i[e]?i[e]:r(e))}(n[t],t)})}return f()(t,null,[{key:"bindBasics",value:function(t){t.account=function(){return t.account_name?t.account_name:void 0}}}]),t}(),Z=n(13),$=n.n(Z),tt=n(14),et=n.n(tt),nt=n(15),it=n.n(nt),rt=function(t){function e(t,n){var i;return h()(this,e),(i=$()(this,et()(e).call(this,q.EOS,d))).name="CocosSockets",i.context=t,i.holderFns=n,i}return it()(e,t),f()(e,[{key:"connect",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i){if(!t||!t.length)throw new Error("You must specify a name for this connection");n=Object.assign({initTimeout:1e4,linkTimeout:3e4},n),W.init(t,n.linkTimeout),W.link().then(function(){var t=c()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return e.holderFns.get().isExtension=!1,e.holderFns.get().wallet||(e.holderFns.get().wallet=e.name),t.abrupt("return",i(!0));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}())})}},{key:"runAfterInterfacing",value:function(){var t=c()(a.a.mark(function t(){var e=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.holderFns.get().addEventHandler(function(t,n){return e.eventHandler(t,n)},"internal"),t.next=3,this.holderFns.get().getIdentityFromPermissions();case 3:return this.holderFns.get().account_name=t.sent,t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"methods",value:function(){var t,e=this,n=function(t,n){return(t||n)&&(e.holderFns.get().account_name=t),n||t};return t={},K()(t,J.disconnect,function(){return W.disconnect()}),K()(t,J.isConnected,function(){return W.isConnected()}),K()(t,J.isPaired,function(){return W.isPaired()}),K()(t,J.addEventHandler,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return W.addEventHandler(t,e)}),K()(t,J.removeEventHandler,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return W.removeEventHandler(t)}),K()(t,J.listen,function(t){return W.addEventHandler(t)}),K()(t,J.getVersion,function(){return W.sendApiRequest({type:"getVersion",payload:{}})}),K()(t,J.getIdentity,function(t){return W.sendApiRequest({type:"getOrRequestIdentity",payload:{fields:t||{accounts:[e.holderFns.get().network]}}}).then(n)}),K()(t,J.getIdentityFromPermissions,function(){return W.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(n)}),K()(t,J.lockAccount,function(){return W.sendApiRequest({type:"lockAccount",payload:{}}).then(n)}),K()(t,J.forgetIdentity,function(){return W.sendApiRequest({type:"forgetIdentity",payload:{}}).then(function(t){return n(null,t)})}),K()(t,J.updateIdentity,function(t){var e=t.name,i=t.kyc;return W.sendApiRequest({type:"updateIdentity",payload:{name:e,kyc:i}}).then(function(t){return t?n(t):null})}),K()(t,J.authenticate,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return W.sendApiRequest({type:"authenticate",payload:{nonce:t,data:e,publicKey:n}})}),K()(t,J.getArbitrarySignature,function(t,e){return W.sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:t,data:e}})}),K()(t,J.getPublicKey,function(t){return W.sendApiRequest({type:"getPublicKey",payload:{blockchain:t}})}),K()(t,J.linkAccount,function(t,n){return W.sendApiRequest({type:"linkAccount",payload:{account:t,network:n||e.holderFns.get().network}})}),K()(t,J.hasAccountFor,function(t){return W.sendApiRequest({type:"hasAccountFor",payload:{network:t||e.holderFns.get().network}})}),K()(t,J.suggestNetwork,function(t){return W.sendApiRequest({type:"requestAddNetwork",payload:{network:t||e.holderFns.get().network}})}),K()(t,J.requestTransfer,function(t,n,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return W.sendApiRequest({type:"requestTransfer",payload:{network:t||e.holderFns.get().network,to:n,amount:i,options:r}})}),K()(t,J.callContractFunction,function(t,n,i,r,o,a){return W.sendApiRequest({type:"callContractFunction",payload:{network:t||e.holderFns.get().network,nameOrId:n,functionName:i,valueList:r,runTime:o,onlyGetFee:a}})}),K()(t,J.getAccountInfo,function(t){return W.sendApiRequest({type:"getAccountInfo",payload:{network:t||e.holderFns.get().network}})}),K()(t,J.requestSignature,function(t){return W.sendApiRequest({type:"requestSignature",payload:t})}),K()(t,J.createTransaction,function(t,n,i,r){return W.sendApiRequest({type:"createTransaction",payload:{blockchain:t,actions:n,account:i,network:r||e.holderFns.get().network}})}),K()(t,J.addToken,function(t,n){return W.sendApiRequest({type:"addToken",payload:{token:t,network:n||e.holderFns.get().network}})}),t}},{key:"eventHandler",value:function(){var t=c()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===ct.Disconnected?3:t.t0===ct.LoggedOut?5:9;break;case 3:return this.holderFns.get().account_name=null,t.abrupt("break",9);case 5:return t.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:return this.holderFns.get().account_name=t.sent,t.abrupt("break",9);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(G),ot=!1,at=function(){var t=c()(a.a.mark(function t(){var e,n,i=arguments;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<i.length&&void 0!==i[0]?i[0]:null,n=1<i.length&&void 0!==i[1]?i[1]:0,t.abrupt("return",new Promise(function(t){return e||(e=t),ot?e(!0):5<n?e(!1):void setTimeout(function(){return at(e,n+1)},100)}));case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),st=function(t){function e(t,n){var i;return h()(this,e),(i=$()(this,et()(e).call(this,q.COCOSBCX,d))).name="CocosExtension",i.context=t,i.holderFns=n,i}return it()(e,t),f()(e,[{key:"connect",value:function(){var t=this;return"undefined"!=typeof window&&"undefined"!=typeof document&&(void 0!==window.BcxWeb&&void 0!==window.BcxWeb.BCX||void 0!==window.BcxWeb&&void 0!==window.BcxWeb.getAccountInfo()?ot=!0:document.addEventListener("cocosLoaded",function(){return ot=!0})),new Promise(function(){var e=c()(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:e.sent&&(!t.holderFns.get().wallet&&(t.holderFns.get().wallet=t.name),n(!0));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}())}},{key:"runBeforeInterfacing",value:function(){var t=c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.holderFns.get().wallet===this.name&&(window.BcxWeb.wallet=this.name,e=this.holderFns.get(),void 0===window.BcxWeb?void 0!==window.BcxWeb&&void 0!==window.BcxWeb.getAccountInfo()&&(e.cocosBcx=function(){return window.BcxWeb}):e.cocosBcx=function(){return window.BcxWeb}),this.holderFns.set(e),this.context=this.holderFns.get(),t.abrupt("return",!0);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var t=c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.context.isExtension=!0,t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"methods",value:function(){return K()({},J.getIdentity,function(){console.log("getid")})}}]),e}(G);n.d(e,"EVENTS",function(){return ct}),n.d(e,"Plugin",function(){return G}),n.d(e,"PluginTypes",function(){return i}),n.d(e,"Blockchains",function(){return q}),n.d(e,"Network",function(){return H}),n.d(e,"SocketService",function(){return W}),n.d(e,"WalletInterface",function(){return X}),n.d(e,"WALLET_METHODS",function(){return J});var ct={Disconnected:"dced",LoggedOut:"logout"},ut=[],ht={},lt=function(){function t(){h()(this,t),this.account_name=null,this.network=null,g.loadPlugin(new rt(this,ht)),g.loadPlugin(new st(this,ht))}return f()(t,[{key:"loadPlugin",value:function(t){if(!t.isValid())throw new Error("".concat(t.name," doesn't seem to be a valid CocosJS plugin."));g.loadPlugin(t),t.type===p&&(this[t.name]=t.signatureProvider(function(){if(!ht.get().account_name)throw new Error("No Identity")},function(){return ht.get().account_name}),this[t.name+"Hook"]=t.hookProvider,ut.push(t.setSocketService)),t.type===d&&t.init(this,ht,ut)}},{key:"connect",value:function(){var t=c()(a.a.mark(function t(e,n){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n||(n={}),this.network=n.hasOwnProperty("network")?n.network:null,i=g.wallets(),t.next=5,Promise.race(i.map(function(t){return t.connect(e,n).then(c()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t.runBeforeInterfacing){e.next=3;break}return e.next=3,t.runBeforeInterfacing();case 3:if(new X(t.name,t.methods(),ht.get()),"function"!=typeof t.runAfterInterfacing){e.next=7;break}return e.next=7,t.runAfterInterfacing();case 7:return X.bindBasics(ht.get()),e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)})))}).concat(new Promise(function(t){return setTimeout(function(){return t(!1)},n.initTimeout||5e3)})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),ft=new Proxy(new(function(){function t(e){h()(this,t),this.cocos=e}return f()(t,[{key:"plugins",value:function(){var t=this;if(!this.cocos.isExtension){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.map(function(e){return t.cocos.loadPlugin(e)})}}},{key:"connect",value:function(){var t;return(t=this.cocos).connect.apply(t,arguments)}},{key:"catchAll",value:function(){}}]),t}())(new lt),{get:function(t,e){return void 0===t[e]?t.cocos[e]:t[e]}});ht.set=function(t){return ft.cocos=t},ht.get=function(){return ft.cocos},"undefined"!=typeof window&&(window.CocosJS=ft),ft.Plugin=G,ft.PluginTypes=i,ft.Blockchains=q,ft.Network=H,ft.Token=z,ft.SocketService=W,ft.EVENTS=ct,ft.WalletInterface=X,ft.WALLET_METHODS=J,window.Cocosjs=ft,e.default=Cocosjs}]),cc._RF.pop()},{}],en:[function(t,e,n){"use strict";cc._RF.push(e,"e87eazqTBxKA5a3F4j9gcsO","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={label:{login:"Login",register:"Register",account:"Account",password:"Password",login_account:"Account",register_account:"Account Register",login_password:"Password",confirm_password:"Confirm",thanks:"Thanks",Backpack:"Backpack",Sell:"Sell",Refreshing:"Refreshing",Price:"Price",expire_date:"Expire date",sale_notes:"Sale notes",bill_list:"Bill list",hours:"Hours",confirm:"Determine",cancel:"Cancel",weapon_rack:"Weapon rack",equipment:"Equipment",strengthen:"Strengthen",no_weapon_msg:"No weapons yet. Go to the market and buy them.",trading_market:"Trading market",Attack:"Attack",Pilot:"Pilot",no_pilot_msg:"There is no pilot yet. Go to the market and buy it.",Replay:"Replay",show_key_msg:"Here is your wallet private key, please keep it safe!",private_key:"Private key",Score:"Score",continue_msg:"Click Continue to Clear the Enemy and Resurrect"}},cc._RF.pop()},{}],eventListener:[function(t,e,n){"use strict";cc._RF.push(e,"52af6tRwp9Od5G0CUJ6MP/R","eventListener");var i=cc.Class({ctor:function(){this.supportEvent=null},on:function(t,e,n){this[t]={handler:e,target:n}},off:function(t,e){var n=this[t];n&&n.handler&&n.handler===e&&(this[t]=null)},dispatchEvent:function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){for(var e=this[t],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);e.handler?e.handler.apply(e.target,n):cc.log("not register "+t+"    callback func")}else cc.error("please add the event into clientEvent.js")},setSupportEventList:function(t){if(!(t instanceof Array))return cc.error("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0}}),r=cc.Class({ctor:function(){this.handlers={},this.supportEvent=null},on:function(t,e,n){var i={handler:e,target:n},r=this.handlers[t];r||(r=[],this.handlers[t]=r);for(var o=0;o<r.length;o++)if(!r[o])return r[o]=i,o;return r.push(i),r.length},off:function(t,e,n){var i=this.handlers[t];if(i)for(var r=0;r<i.length;r++){var o=i[r];if(o.handler===e&&(!n||n===o.target)){i.splice(r,1);break}}},dispatchEvent:function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){var e,n=this.handlers[t],i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);if(n)for(e=0;e<n.length;e++){var r=n[e];r.handler&&r.handler.apply(r.target,i)}}else cc.error("please add the event into clientEvent.js")},setSupportEventList:function(t){if(!(t instanceof Array))return cc.error("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0}}),o={getBaseClass:function(t){return"multi"===t?r:i}};e.exports=o,cc._RF.pop()},{}],flyReward:[function(t,e,n){"use strict";cc._RF.push(e,"9e31fKsunxIe6tVsli5kNsi","flyReward");cc.Class({extends:cc.Component,properties:{prefabReward:cc.Prefab,nodeRewardParent:cc.Node},ctor:function(){this.finishIdx=0},start:function(){this.createReward()},setInfo:function(t){this.targetWorldPos=t},getTargetPos:function(){return this.node.convertToNodeSpaceAR(this.targetWorldPos)},createReward:function(){for(var t=this.getTargetPos(),e=0;e<10;e++){var n=cc.instantiate(this.prefabReward);n.parent=this.nodeRewardParent,n.angle=Math.floor(360*Math.random());var i=Math.floor(10*Math.random())/10,r=cc.v2(Math.floor(300*Math.random())-150,Math.floor(300*Math.random())-150),o=r.sub(cc.v2(0,0)).mag()/400,a=cc.moveTo(o,r).easing(cc.easeBackOut()),s=120+Math.floor(60*Math.random());s=1===Math.floor(2*Math.random())?s:-s;var c=cc.rotateBy(o,s),u=cc.scaleTo(2*o/3,1.4),h=cc.scaleTo(o/3,1),l=cc.spawn(a,c,cc.sequence(u,h)),f=r.sub(t).mag()/1500,p=cc.sequence(l,cc.callFunc(this.playLoopAction,this),cc.delayTime(i),cc.moveTo(f,t),cc.callFunc(this.onFlyOver,this));n.runAction(p)}},playLoopAction:function(t){t.getComponent(cc.Animation).play()},onFlyOver:function(t){t.active=!1,this.finishIdx++,10===this.finishIdx&&(this._callback&&this._callback.apply(this._target),this.node.destroy())},setEndListener:function(t,e){this._callback=t,this._target=e}}),cc._RF.pop()},{}],gameLogic:[function(t,e,n){"use strict";cc._RF.push(e,"9c5ecD44SpPhZYWCAbryLls","gameLogic");var i=new(cc.Class({properties:{},start:function(){this.regNetEvent(),this.regLogicEvent()},regNetEvent:function(){},regLogicEvent:function(){}}));i.start(),e.exports=i,cc._RF.pop()},{}],gameOver:[function(t,e,n){"use strict";cc._RF.push(e,"4a3e1JfWUxAp7NuHO5ERxd8","gameOver");var i=t("bcxAdapter"),r=t("playerData"),o=(t("resourceUtil"),t("LanguageData"));cc.Class({extends:cc.Component,properties:{txtCocos:cc.Label,txtBomb:cc.Label,txtScore:cc.Label},start:function(){this.setCurLanguage()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?o.init("en"):o.init("zh"),o.updateSceneRenderers()},reqCloseLoading:function(){this.isReqCocosFinished&&this.currentCreate>=this.cntCreateBomb&&(r.goods=r.goodsDel.concat(r.goods),r.goodsDel=[],cc.gameSpace.hideLoading())},clearFightScene:function(){this.fightScene.unCreate(),this.fightScene.clear(),this.fightScene.resume()},show:function(t,e,n,o){this.fightScene=o,this.clearFightScene(),cc.gameSpace.showLoading(cc.gameSpace.text.submit_data);var a=this;this.isReqCocosFinished=!0,t>0&&(this.isReqCocosFinished=!1,this.txtCocos.string=t.toString(),i.transferToPlayer(t,"Reward",function(t){1===JSON.parse(t).state&&(console.log(t),console.log("reward succeed!"),cc.gameSpace.showTips(cc.gameSpace.text.success_rewards)),a.isReqCocosFinished=!0,a.reqCloseLoading()})),this.currentCreate=0,this.cntCreateBomb=0;var s=e-r.goodsDel.length;this.txtBomb.string=s,this.cntCreateBomb=Math.abs(s),s<0?this.destroyBomb():s>0&&this.createBomb(),this.txtScore.string=n,this.reqCloseLoading()},onBtnYesClick:function(){this.fightScene.exitFightScene()},createBomb:function(){if(this.currentCreate>=this.cntCreateBomb)i.getItems(function(){});else{var t=this;i.reqCreateBomb(function(e,n){e?cc.gameSpace.showTips(e):console.log("create bomb succeed("+t.currentCreate+")"),t.currentCreate++,t.createBomb(),t.reqCloseLoading()})}},destroyBomb:function(){if(!(this.currentCreate>=this.cntCreateBomb)){var t=this,e=r.goodsDel.shift();i.reqDestroyBomb(e.id,function(e,n){e&&cc.gameSpace.showTips(e),t.currentCreate++,t.destroyBomb(),t.reqCloseLoading()})}}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",playerData:"playerData",resourceUtil:"resourceUtil"}],gridView:[function(t,e,n){"use strict";cc._RF.push(e,"d8b03VqaQVPTL6BonNOvv9e","gridView");var i=cc.Enum({HORIZONTAL:1,VERTICAL:2});cc.Class({extends:cc.Component,properties:{prefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.Node},type:{default:i.VERTICAL,type:i},prefabScale:1,paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,spacingX:5,spacingY:5,countPerRow:5},onLoad:function(){this.updateTimer=0,this.updateInterval=.2,this.pool=new cc.NodePool;for(var t=this.countPerRow,e=0;e<t;++e){var n=cc.instantiate(this.prefab);this.pool.put(n)}this.contents=[]},init:function(t){this.isChange=!0,this.positions=[],this.contents=t instanceof Array?t:[];var e=this.node.getContentSize();this.type===i.HORIZONTAL&&(this.countPerCol=this.countPerRow);for(var n=0;n<this.contents.length;n++){var r,o;this.type===i.VERTICAL?(r=n%this.countPerRow,o=Math.floor(n/this.countPerRow)):(r=Math.floor(n/this.countPerCol),o=n%this.countPerCol);var a=this.getPrefabWidth(),s=this.getPrefabHeight();this.positions.push(cc.v2(this.paddingLeft+this.spacingX*r+a*(r+.5),-(this.paddingTop+this.spacingY*o+s*(o+.5))))}var c=Math.ceil(n/this.countPerCol),u=this.getPrefabWidth(),h=Math.ceil(n/this.countPerRow),l=this.getPrefabHeight();this.type===i.VERTICAL?this.node.setContentSize(cc.size(e.width,this.paddingTop+this.spacingY*h+l*h)):this.node.setContentSize(cc.size(this.paddingLeft+this.spacingX*c+u*c,e.height))},addNode:function(){for(var t,e=[],n=0;n<this.contents.length;n++){var i=this.getPositionInView(this.positions[n]);this.isOverBorder(i)?(t=this.node.getChildByName(String(n)))&&this.remove(t):(e.push(n),(t=this.node.getChildByName(String(n)))?this.isChange&&(this.node.emit("show",{index:n,node:t,content:this.contents[n]}),t.setPosition(this.positions[n]),t.name=String(n)):this.create(t,n))}if(this.isChange){var r=this.node.children;cc.log("num"+e);for(var o=0;o<r.length;)t=r[o],-1===e.indexOf(parseInt(t.name))?(cc.log("remove"+t.name),this.remove(t)):o++}this.isChange=!1},create:function(t,e){(t=this.pool.size()>0?this.pool.get():cc.instantiate(this.prefab)).setScale(this.prefabScale,this.prefabScale),t.setPosition(this.positions[e]),this.node.addChild(t,0,String(e)),this.node.emit("show",{index:e,node:t,content:this.contents[e]})},remove:function(t){this.pool.put(t),this.node.removeChild(t,!1)},getPositionInView:function(t){var e=this.node.convertToWorldSpaceAR(t);return this.scrollView.convertToNodeSpaceAR(e)},getPrefabHeight:function(){return this.prefab.data.height*this.prefabScale},getPrefabWidth:function(){return this.prefab.data.width*this.prefabScale},isOverBorder:function(t){var e=this.scrollView.height/2+this.getPrefabHeight()/2,n=this.scrollView.width+this.getPrefabWidth()/2;return this.type===i.VERTICAL?t.y>e||t.y<-e:t.x>n},update:function(t){this.updateTimer+=t,this.updateTimer<this.updateInterval||(this.updateTimer=0,this.addNode())},onDestory:function(){this.pool.clear()}}),cc._RF.pop()},{}],keyLogin:[function(t,e,n){"use strict";cc._RF.push(e,"7d8c2NG6xRCO6PkgqAr2fMk","keyLogin");var i=t("bcxAdapter");cc.Class({extends:cc.Component,properties:{edtPrivateKey:cc.EditBox},start:function(){cc.gameSpace.showLoading(cc.gameSpace.text.logining+"...");var t=this;i.login(privateKey,function(e){e?(cc.gameSpace.showTips(e),cc.gameSpace.hideLoading()):(cc.gameSpace.showLoading(cc.gameSpace.text.loading_main+"..."),t.loginScene.loadPlayerInfo())})},show:function(t){this.loginScene=t,cc.gameSpace.hideLoading()},onBtnLoginClick:function(){},onBtnCloseClick:function(){this.node.destroy()}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter"}],language:[function(t,e,n){"use strict";cc._RF.push(e,"79fcbgn7ylEd6/ecnl6q1wk","language"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.gameSpace.text=""}}),cc._RF.pop()},{}],loading:[function(t,e,n){"use strict";cc._RF.push(e,"e9d73Vv5+NOY6Wy5Wvh5AJM","loading"),cc.Class({extends:cc.Component,properties:{txtTips:cc.Label},start:function(){},show:function(t){this.txtTips.string=t||""},onEnable:function(){this.node.getComponent(cc.Animation).play()},onDisable:function(){this.node.getComponent(cc.Animation).stop()}}),cc._RF.pop()},{}],lottery:[function(t,e,n){"use strict";cc._RF.push(e,"d8a4f6ipSlLHZsifvncQs35","lottery");var i=t("bcxAdapter"),r=t("resourceUtil");cc.Class({extends:cc.Component,properties:{arrRewardNode:[cc.Node],pfRewardItem:cc.Prefab,nodeTurnable:cc.Node,btnStart:cc.Button,lbGold:cc.Label,nodeCocosIcon:cc.Node,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame,imgEmployee:cc.SpriteFrame},ctor:function(){this.dictReward={},this.arrRewardData=[{type:"no",amount:0},{type:"money",amount:80},{type:"bomb",amount:1},{type:"money",amount:120},{type:"bomb",amount:2},{type:"money",amount:200},{type:"weapon",amount:1},{type:"money",amount:300},{type:"employee",amount:1},{type:"money",amount:400}]},start:function(){this.lbGold.string="\u5237\u65b0\u4e2d",this.gold=0},show:function(){cc.gameSpace.hideLoading()},onEnable:function(){this.refreshUI()},refreshUI:function(){this.refreshGold(),this.initReward()},refreshGold:function(){var t=this;i.getBalance(function(e,n){e?cc.gameSpace.showTips(e):(t.gold=n.data.COCOS.toFixed(1),t.lbGold.string=n.data.COCOS.toFixed(1))})},initReward:function(){for(var t=0;t<this.arrRewardNode.length;t++){var e=this.arrRewardNode[t],n=this.dictReward[t];if(this.dictReward.hasOwnProperty(t)||((n=cc.instantiate(this.pfRewardItem)).parent=e,this.dictReward[t]=n),this.arrRewardData.length>t){var i=this.arrRewardData[t];n.getComponent("LotteryItem").setInfo(i)}}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onBtnLotteryClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.gold<100)cc.gameSpace.showTips(cc.gameSpace.text.lottery_nocoin);else{for(var t in this.dictReward)this.dictReward[t].getComponent("LotteryItem").setSelect(!1);cc.gameSpace.showLoading(cc.gameSpace.text.executing+" "+i.contractName+" "+cc.gameSpace.text.contract+"...");var e=this;i.lottery(function(t,n){if(cc.gameSpace.hideLoading(),t)e.refreshGold();else{e.gold-=100,e.lbGold.string=e.gold;for(var i=n.data[0].contract_affecteds,r=0;r<i.length;r++)if("contract_affecteds_log"===i[r].type){var o=i[r].raw_data.message,a="##result##:",s=o.indexOf(a);if(-1!==s){var c=o.slice(s+a.length),u=JSON.parse(c);e.randValue=Number(u.pos)-1,e.rewardType=u.draw,e.rewardValue=Math.ceil(Number(u.amount)),e.startRun();break}}}})}},startRun:function(){this.nodeTurnable.angle=this.nodeTurnable.angle%360;var t=360-this.nodeTurnable.angle,e=3+Math.floor(4*Math.random()),n=cc.rotateTo(t/360+.5*e,-(360+360*e+360-36*this.randValue)).easing(cc.easeCircleActionOut()),i=cc.sequence(n,cc.callFunc(function(){this.showReward()},this));this.nodeTurnable.runAction(i)},showReward:function(){var t=this.dictReward[this.randValue].getComponent("LotteryItem");t.setSelect(!0);var e=t.getIconWorldPos();switch(this.rewardType){case"money":this.showFlyReward(function(){this.refreshGold()},this);break;case"bomb":this.showItemReward(this.imgBomb,e,function(){},this);break;case"weapon":this.showItemReward(this.imgWeapon,e,function(){this.refreshItem()},this);break;case"employee":this.showItemReward(this.imgEmployee,e,function(){this.refreshItem()},this);break;case"no":this.refreshGold()}},refreshItem:function(){i.getItems(function(t,e){if(!t){var n=cc.find("Canvas").getComponent("startScene");n&&n.refreshChangeBtn()}})},showItemReward:function(t,e,n,i){var o=this;r.createEffectWithPath("UI/showReward/showReward",null,function(r,a){if(r)n&&n.apply(i,[r,a]);else{var s=a.parent.convertToNodeSpaceAR(e);a.position=s,a.zIndex=100,a.getChildByName("texture").getComponent(cc.Sprite).spriteFrame=t;var c=a.getComponent(cc.Animation);c.on("finished",function(){a.destroy(),n&&n.apply(i)},o),c.play("showReward")}})},showFlyReward:function(t,e){var n=this;r.createUI("flyReward",function(i,r){if(i)t&&t.apply(e);else{r.zIndex=100;var o=r.getComponent("flyReward");o.setInfo(n.nodeCocosIcon.convertToWorldSpaceAR(cc.v2(0,0))),o.setEndListener(t,e)}})}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],main:[function(t,e,n){"use strict";cc._RF.push(e,"7311eMXNMBL86G8UbCGTvL6","main");var i=t("clientEvent"),r=t("LanguageData"),o=t("uiManager"),a=t("audioManager"),s=t("bcxAdapter"),c=t("gameLogic");cc.gameSpace={},cc.gameSpace.TIME_SCALE=1,cc.gameSpace.isStop=!1,cc.gameSpace.SDK="bcx",cc.Class({extends:cc.Component,properties:{},start:function(){cc.debug.setDisplayStats(!1),console.log("main----start");var e=cc.winSize;((e.width>e.height||e.width/e.height<1.4)&&(this.node.getComponent(cc.Canvas).fitHeight=!0),cc.gameSpace.isIphoneX=cc.game.canvas.height/cc.game.canvas.width>2,cc.gameSpace.gameLogic=c,cc.gameSpace.audioManager=a,cc.gameSpace.uiManager=o,cc.gameSpace.showTips=o.showTips.bind(o),cc.gameSpace.showLoading=o.showLoading.bind(o),cc.gameSpace.hideLoading=o.hideLoading.bind(o),cc.gameSpace.clientEvent=i,cc.gameSpace.bcxAdapter=s,cc.gameSpace.isInitFinished=!1,cc.gameSpace.isConfigLoadFinished=!0,"eos"===cc.gameSpace.SDK)?t("eosAdapter").initSDK(function(){cc.gameSpace.isInitFinished=!0}):s.initSDK(function(){cc.gameSpace.isInitFinished=!0});cc.gameSpace.audioManager.playMusic("bgm",!0),r.init("zh")}}),cc._RF.pop()},{LanguageData:"LanguageData",audioManager:"audioManager",bcxAdapter:"bcxAdapter",clientEvent:"clientEvent",eosAdapter:void 0,gameLogic:"gameLogic",uiManager:"uiManager"}],marketItem:[function(t,e,n){"use strict";cc._RF.push(e,"5a9b1MeZ75FE4g0eLsecxEM","marketItem");var i=t("constants"),r=t("resourceUtil"),o=t("playerData"),a=t("bcxAdapter"),s=t("LanguageData");cc.Class({extends:cc.Component,properties:{spFrame:cc.Sprite,spFront:cc.Sprite,spItem:cc.Sprite,lbName:cc.Label,nodeBtnSell:cc.Node,nodeSelling:cc.Node,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame},onLoad:function(){this.setCurLanguage()},start:function(){},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?s.init("en"):s.init("zh"),s.updateSceneRenderers()},show:function(t,e,n){this.parent=t,this.index=e,this.content=n;var a="white",s=this;switch(n.info.type){case i.BOMB_KEY:this.spItem.spriteFrame=this.imgBomb,this.lbName.string=cc.gameSpace.text.bomb,this.spItem.node.width=64,this.spItem.node.height=82;break;case i.WEAPON_KEY:this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=116,this.spItem.node.height=116;var c=o.getWeaponLevel(n);switch(this.lbName.string=cc.gameSpace.text.weapon+"+"+c,c){case 2:a="green";break;case 3:a="blue";break;case 4:a="purple";break;case 5:a="gold"}break;case i.PILOT:switch(r.getPilotIcon(n.info.icon,function(t,e){!t&&cc.isValid(s.spItem)&&(s.spItem.spriteFrame=e,s.spItem.node.width=200,s.spItem.node.height=184)}),this.lbName.string=n.info.name,n.info.quality){case i.QUALITY.WHITE:a="white";break;case i.QUALITY.GREEN:case i.QUALITY.GREEN_1:case i.QUALITY.GREEN_2:a="green";break;case i.QUALITY.BLUE:a="blue";break;case i.QUALITY.PURPLE:a="purple";break;case i.QUALITY.GOLD:a="gold"}}this.nodeSelling.active=o.isGoodsSelling(this.content.id),this.nodeBtnSell.active=!this.nodeSelling.active,r.loadRes("Textures/Frame/"+a+"01",cc.SpriteFrame,function(t,e){!t&&cc.isValid(s.spFrame)&&(s.spFrame.spriteFrame=e)}),r.loadRes("Textures/Frame/"+a+"02",cc.SpriteFrame,function(t,e){!t&&cc.isValid(s.spFront)&&(s.spFront.spriteFrame=e)})},onBtnSellClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("marketSell","marketSell",[this.content,this.parent])},onBtnCancelClick:function(){cc.gameSpace.audioManager.playSound("click",!1);var t=o.getGoodsOrderId(this.content.id);if(!t)return cc.gameSpace.showTips(cc.gameSpace.text.Incorrect_data),void this.parent.refreshList();cc.gameSpace.showLoading(cc.gameSpace.text.cancel_sell+"....");var e=this;a.cancelGameItemOrder(t,function(t,n){cc.gameSpace.hideLoading(),t?cc.gameSpace.showTips(t):(cc.gameSpace.showTips(cc.gameSpace.text.cancel_success),e.parent.refreshList())})}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],marketSell:[function(t,e,n){"use strict";cc._RF.push(e,"4551bcaonRA85fWV4oBObqa","marketSell");var i=t("resourceUtil"),r=t("bcxAdapter"),o=t("constants"),a=t("playerData");cc.Class({extends:cc.Component,properties:{spFrame:cc.Sprite,spFront:cc.Sprite,spItem:cc.Sprite,lbName:cc.Label,edtPrice:cc.EditBox,edtTime:cc.EditBox,edtMemo:cc.EditBox,lbFee:cc.Label,imgWeapon:cc.SpriteFrame,imgBomb:cc.SpriteFrame},start:function(){},show:function(t,e){this.content=t,this.parent=e;var n="white",r=this;switch(t.info.type){case o.BOMB_KEY:this.spItem.spriteFrame=this.imgBomb,this.lbName.string="\u70b8\u5f39",this.spItem.node.width=128,this.spItem.node.height=164;break;case o.WEAPON_KEY:this.spItem.spriteFrame=this.imgWeapon,this.spItem.node.width=232,this.spItem.node.height=232;var s=a.getWeaponLevel(t);switch(this.lbName.string="\u6b66\u5668+"+s,s){case 2:n="green";break;case 3:n="blue";break;case 4:n="purple";break;case 5:n="gold"}break;case o.PILOT:switch(i.getPilotIcon(t.info.icon,function(t,e){!t&&cc.isValid(r.spItem)&&(r.spItem.spriteFrame=e,r.spItem.node.width=454,r.spItem.node.height=417)}),this.lbName.string=t.info.name,t.info.quality){case o.QUALITY.WHITE:n="white";break;case o.QUALITY.GREEN:case o.QUALITY.GREEN_1:case o.QUALITY.GREEN_2:n="green";break;case o.QUALITY.BLUE:n="blue";break;case o.QUALITY.PURPLE:n="purple";break;case o.QUALITY.GOLD:n="gold"}}i.loadRes("Textures/Frame/"+n+"01",cc.SpriteFrame,function(t,e){!t&&cc.isValid(r.spFrame)&&(r.spFrame.spriteFrame=e)}),i.loadRes("Textures/Frame/"+n+"02",cc.SpriteFrame,function(t,e){!t&&cc.isValid(r.spFront)&&(r.spFront.spriteFrame=e)})},onEdtTimeChange:function(){var t=Number(this.edtTime.string);if(t>0){var e=1;(t*=3600)>3600&&(e=1+.5*Math.ceil(t/3600)),this.lbFee.string=e.toFixed(1)}},onBtnSellClick:function(){cc.gameSpace.audioManager.playSound("click",!1);var t=Number(this.edtPrice.string);if(t<=0||!t)cc.gameSpace.showTips(cc.gameSpace.text.prive_error);else{var e=Number(this.edtTime.string);if(e<=0||!e)cc.gameSpace.showTips(cc.gameSpace.text.time_expiration_error);else if(e>72)cc.gameSpace.showTips(cc.gameSpace.text.time_max);else{var n=1;(e*=3600)>3600&&(n=1+.5*Math.ceil(e/3600)),cc.gameSpace.showLoading(cc.gameSpace.text.in_the_list+"...");var i=this;r.creatGameItemOrder(this.content.id,t,e,n,this.edtMemo.string,function(t,e){cc.gameSpace.hideLoading(),t?cc.gameSpace.showTips(t):(cc.gameSpace.showTips(cc.gameSpace.text.success_list),i.onBtnCloseClick(),i.parent.refreshList())})}}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],market:[function(t,e,n){"use strict";cc._RF.push(e,"ffcb3aQaDJKEYOU2TZ4fESh","market");var i=t("gridView"),r=t("bcxAdapter"),o=t("playerData"),a=t("LanguageData");cc.Class({extends:cc.Component,properties:{inviteGridView:{default:null,type:i}},onLoad:function(){this.setCurLanguage()},start:function(){this.arrSelling=[]},onEnable:function(){this.inviteGridView.node.on("show",this.initGridView,this),this.refreshList()},onDisable:function(){this.inviteGridView.node.off("show",this.initGridView,this)},initGridView:function(t){var e=t.index,n=t.node,i=t.content;console.log(">>>>>>>>>>>content>>>"+JSON.stringify(i)),n.getComponent("marketItem").show(this,e,i)},refreshList:function(){this.isAllBack=!1;var t=this;r.getItems(function(){t.isAllBack?t.afterGetData():t.isAllBack=!0}),r.queryAccountGameItemOrders(function(e,n){if(o.goodsSelling.length>0){for(var i=[],a=0;a<o.goodsSelling.length;a++){var s=o.goodsSelling[a];i.push(s.id)}t.arrSelling=[],r.queryGameItemInfo(i,function(e,n){if(e)return cc.gameSpace.showTips(e),void console.error(n);t.arrSelling=n.data,t.isAllBack?t.afterGetData():t.isAllBack=!0})}else t.arrSelling=[],t.isAllBack?t.afterGetData():t.isAllBack=!0})},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?a.init("en"):a.init("zh"),a.updateSceneRenderers()},afterGetData:function(){for(var t=[],e=0;e<o.goods.length;e++){var n=o.goods[e];n.info=JSON.parse(n.base_describe),t.push(n)}for(var i=0;i<this.arrSelling.length;i++){var r=this.arrSelling[i];r.info=JSON.parse(r.base_describe),t.push(r)}t.sort(function(t,e){return t.info.type>e.info.type?1:t.info.type===e.info.type?t.order&&!e.order?-1:!t.order&&e.order?1:0:-1}),this.inviteGridView.init(t)},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",gridView:"gridView",playerData:"playerData"}],pilot:[function(t,e,n){"use strict";cc._RF.push(e,"a26d9Pi1MtA+ptBaFKtJVbV","pilot");var i=t("playerData"),r=t("constants"),o=t("resourceUtil"),a=t("LanguageData");cc.Class({extends:cc.Component,properties:{nodeTips:cc.Node,nodeView:cc.Node,pageView:cc.PageView,prefabPage:cc.Prefab,spHead:cc.Sprite,txtAdd:cc.Label,txtName:cc.Label,hpNode:cc.Node,nodeBtnUse:cc.Node,nodeName:cc.Node},start:function(){this.currentSelect=null,this.refreshUI(),this.refreshPilotInfo(),this.setCurLanguage()},refreshUI:function(){i.getPilotList().length<=0?(this.nodeTips.active=!0,this.nodeView.active=!1):(this.nodeTips.active=!1,this.nodeView.active=!0,this.initPage())},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?a.init("en"):a.init("zh"),a.updateSceneRenderers()},show:function(t){this.startScene=t},refreshPilotInfo:function(){var t=this;if(this.currentSelect){var e=i.getPilotByItemId(this.currentSelect),n=JSON.parse(e.base_describe),a=0;switch(n.quality){case r.QUALITY.WHITE:a=1;break;case r.QUALITY.GREEN:a=2;break;case r.QUALITY.GREEN_1:a=3;break;case r.QUALITY.GREEN_2:a=4;break;case r.QUALITY.BLUE:a=5;break;case r.QUALITY.PURPLE:a=6;break;case r.QUALITY.GOLD:a=7}this.hpNode.active=!0,this.txtAdd.string="+"+a,this.txtName.string=n.name,o.getPilotIcon(n.icon,function(e,n){!e&&cc.isValid(t.spHead)&&(t.spHead.spriteFrame=n)}),this.nodeBtnUse.active=!0}else o.getPilotIcon("unknown",function(e,n){!e&&cc.isValid(t.spHead)&&(t.spHead.spriteFrame=n)}),this.txtName.string=cc.gameSpace.text.unselected,this.hpNode.active=!1,this.nodeBtnUse.active=!1},initPage:function(){var t=i.getPilotList();this.pageCnt=Math.ceil(t.length/r.PAGE_SIZE);for(var e=this.pageView.getPages(),n=0;n<this.pageCnt;n++){var o=null;n<e.length?o=e[n]:(o=cc.instantiate(this.prefabPage),this.pageView.addPage(o));var a=o.getComponent("PilotPage");a.setPageInfo(n,this),a.refreshPage()}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy()},onItemSelect:function(t,e){this.currentSelect=t,this.currentSelectPageOwner=e;for(var n=this.pageView.getPages(),i=0;i<n.length;i++){var r=n[i].getComponent("PilotPage");r.unSelectAll(),this.currentSelectPageOwner===i&&r.selectByItemId(this.currentSelect)}this.refreshPilotInfo()},onBtnUseClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.currentSelect){i.saveCurrentPilot(this.currentSelect);for(var t=this.pageView.getPages(),e=0;e<t.length;e++){var n=t[e].getComponent("PilotPage");n.unLaunchAll(),this.currentSelectPageOwner===e&&n.launchByItemId(this.currentSelect)}this.node.destroy(),this.startScene.refreshPilotInfo()}},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")}}),cc._RF.pop()},{LanguageData:"LanguageData",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],playerData:[function(t,e,n){"use strict";cc._RF.push(e,"641cdx84KdM4Jpz0G2/oyDa","playerData");var i=t("constants"),r=t("configuration"),o=new(cc.Class({ctor:function(){this.info={code:1,function:"newGame",PlayingUID:"29042",PlayingGameID:"1",PlayingGameKey:"111a731261aeb2d55b214346e5b2eec2",GameData:[{level:1,enemy_num:1e3,boss_num:3e4},{level:2,enemy_num:800,boss_num:3e4},{level:3,enemy_num:600,boss_num:2e4}],cion_num:{GCS:.576},imgUrl:["https://ofe0v4nhm.qnssl.com/candy/images/coin/GCS.png"],Cost:300,reviveImg:"http://shooter-admin.candy.one/static/images/defeault.png",candy:253,trans:[43],isFreeGame:1,relifeCost:100},this.relifeCost=i.START_GAME_CONSUME,this.goods=[],this.goodsDel=[],this.goodsSelling=[]},getUid:function(){return this.info.PlayingUID},parseNotice:function(t){this.isFree=1===t.isFreeGame,this.noticeList=t.data,this.playTimes=t.times,this.introduction=t.info,this.errCode=t.errCode,this.backUrl=t.backUrl},getBomb:function(){var t=[];return _.forEach(this.goods,function(e){JSON.parse(e.base_describe).type===i.BOMB_KEY&&t.push(e)}),t},costBomb:function(){if(this.getBomb().length<=0)return!1;var t=null,e=this;return _.forEach(this.goods,function(n,r){if(JSON.parse(n.base_describe).type===i.BOMB_KEY)return t=n,e.goods.splice(r,1),!1}),!!t&&(this.goodsDel.push(t),!0)},removeGoodItem:function(t){_.remove(this.goods,function(e){return e.id===t})},hasSuperWeapon:function(){var t=!1;return _.forEach(this.goods,function(e){if(JSON.parse(e.base_describe).type===i.WEAPON_KEY)return t=!0,!1}),t},isUsedSuperWeapon:function(){return!!this.hasSuperWeapon()&&r.getGlobalData(i.DATA_KEY.WEAPON)},hasPilot:function(){return this.getPilotList().length>0},getPilotByItemId:function(t){var e=null;return _.forEach(this.goods,function(n){if(JSON.parse(n.base_describe).type===i.PILOT&&n.id===t)return e=n,!1}),e},getCurrentPilot:function(){if(!this.hasPilot())return null;var t=r.getGlobalData(i.DATA_KEY.PILOT);return t?this.getPilotByItemId(t):null},getPilotList:function(){var t=[];return _.forEach(this.goods,function(e){JSON.parse(e.base_describe).type===i.PILOT&&t.push(e)}),t},getWeaponList:function(){var t=[];return _.forEach(this.goods,function(e){JSON.parse(e.base_describe).type===i.WEAPON_KEY&&t.push(e)}),t},saveCurrentPilot:function(t){r.setGlobalData(i.DATA_KEY.PILOT,t)},getCurrentPilotItemId:function(){return r.getGlobalData(i.DATA_KEY.PILOT)},saveCurrentWeapon:function(t){r.setGlobalData(i.DATA_KEY.CURRENT_WEAPON,t)},getCurrentWeaponItemId:function(){return r.getGlobalData(i.DATA_KEY.CURRENT_WEAPON)},getWeaponByItemId:function(t){var e=null;return _.forEach(this.goods,function(n){if(JSON.parse(n.base_describe).type===i.WEAPON_KEY&&n.id===t)return e=n,!1}),e},getCurrentWeapon:function(){if(this.getWeaponList().length<=0)return null;var t=r.getGlobalData(i.DATA_KEY.CURRENT_WEAPON);return t?this.getWeaponByItemId(t):null},getWeaponLevel:function(t){var e=["contract.ccshooter.upgrade"];if(!t||!t.describe_with_contract)return 1;for(var n=1,i=0;i<e.length;i++){var r=e[i];if(t.describe_with_contract.hasOwnProperty(r)){var o=t.describe_with_contract[r];o.hasOwnProperty("level")&&Number(o.level)>n&&(n=Number(o.level))}}return n},getWeaponLevelById:function(t){var e=this.getWeaponByItemId(t);return e?this.getWeaponLevel(e):0},isGoodsSelling:function(t){for(var e=0;e<this.goodsSelling.length;e++)if(this.goodsSelling[e].id===t)return!0;return!1},getGoodsOrderId:function(t){for(var e=0;e<this.goodsSelling.length;e++)if(this.goodsSelling[e].id===t)return this.goodsSelling[e].order;return null}}));e.exports=o,cc._RF.pop()},{configuration:"configuration",constants:"constants"}],"plugins.min":[function(t,e,n){"use strict";cc._RF.push(e,"72367rp2FlPxI56nm0II73Y","plugins.min");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":r(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n.r(e),n.d(e,"default",function(){return s});var r=Cocosjs.WALLET_METHODS,a=Cocosjs.SocketService,s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Cocosjs.Blockchains.COCOSBCX,Cocosjs.PluginTypes.BLOCKCHAIN_SUPPORT))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Cocosjs.Plugin),i(e,[{key:"setSocketService",value:function(t){a=t}},{key:"hookProvider",value:function(){throw new Error("cocos hook provider not enabled yet.")}},{key:"signatureProvider",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n[0],function(t){return function(t,e){return new Proxy(t,e)}(t,{get:function(t,n){return"function"==typeof t[n]?function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return Cocosjs.cocos.isExtension?t[n].apply(t,o):n===r.transferAsset?new Promise(function(t,n){var i;(i=e.methods())[r.transferAsset].apply(i,o).then(function(e){return t(e)}).catch(function(t){return n(t)})}):n===r.callContractFunction?new Promise(function(t,n){var i;(i=e.methods())[r.callContractFunction].apply(i,o).then(function(e){return t(e)}).catch(function(t){return n(t)})}):n===r.getAccountInfo?new Promise(function(t,n){e.methods()[r.getAccountInfo]({}).then(function(e){return t(e)}).catch(function(t){return n(t)})}):t[n].apply(t,o)}:t[n]}})}}}],[{key:"methods",value:function(){var t;return o(t={},r.transferAsset,function(t){return a.sendApiRequest({type:"requestTransfer",payload:t})}),o(t,r.callContractFunction,function(t){return a.sendApiRequest({type:"callContractFunction",payload:t})}),o(t,r.getAccountInfo,function(t){return a.sendApiRequest({type:"getAccountInfo",payload:{}})}),t}}]),e}();"undefined"!=typeof window&&(window.CocosBCX=s)}]),cc._RF.pop()},{}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,r){"function"==typeof define&&define.amd?define([],function(){return r(t)}):"object"==(void 0===n?"undefined":i(n))?e.exports=r(t):t.Polyglot=r(t)})(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||o}function n(t,e,n){var i,o;return null!=n&&t?i=function(t){return t.replace(/^\s+|\s+$/g,"")}((o=t.split(a))[r(e,n)]||o[0]):i=t,i}function r(t,e){return s[function(t){var e=function(t){var e,n,i,r={};for(e in t)if(t.hasOwnProperty(e))for(i in n=t[e])r[n[i]]=e;return r}(c);return e[t]||e.en}(t)](e)}function o(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"==(void 0===n?"undefined":i(n))?this.extend(n,r):this.phrases[r]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var i,r;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?i=this.phrases[t]:"string"==typeof e._?i=e._:this.allowMissing?i=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof i&&(e=function(t){var e={};for(var n in t)e[n]=t[n];return e}(e),r=function(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}(r=n(i,this.currentLocale,e.smart_count),e)),r},e.prototype.has=function(t){return t in this.phrases};var a="||||",s={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},c={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}],pomeloBuild:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"2b140+XfZJAkrKhkboKjpW4","pomeloBuild");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.prototype.hasOwnProperty,r=cc.Class({onLoad:function(){this.modules={},this.aliases={}},requirePomelo:function(t,e,n){var i=this.resolve(t);if(null===i){n=n||t,e=e||"root";var r=new Error('Failed to requirePomelo "'+n+'" from "'+e+'"');throw r.path=n,r.parent=e,r.requirePomelo=!0,r}var o=this.modules[i];return o.exports||(o.exports={},o.client=o.component=!0,o.call(this,o.exports,this.relative(i),o)),o.exports},resolve:function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var e=t+"/index.js",n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],r=0;r<n.length;r++){var o=n[r];if(i.call(this.modules,o))return o}if(i.call(this.aliases,e))return this.aliases[e]},normalize:function(t,e){var n=[];if("."!==e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var i=0;i<e.length;++i)".."===e[i]?t.pop():"."!==e[i]&&""!==e[i]&&n.push(e[i]);return t.concat(n).join("/")},register:function(t,e){this.modules[t]=e},alias:function(t,e){if(!i.call(this.modules,t))throw new Error('Failed to alias "'+t+'", it does not exist');this.aliases[e]=t},relative:function(t){var e=this.normalize(t,"..");var n=this;function r(e){var i=r.resolve(e);return n.requirePomelo(i,t,e)}return r.resolve=function(i){var r=i.charAt(0);if("/"===r)return i.slice(1);if("."===r)return n.normalize(e,i);var o=t.split("/"),a=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}(o,"deps")+1;return a||(a=0),i=o.slice(0,a+1).join("/")+"/deps/"+i},r.exists=function(t){return i.call(n.modules,r.resolve(t))},r}});r.create=function(){var e=new r;return e.onLoad(),e.register("component-indexof/index.js",function(t,e,n){var i=[].indexOf;n.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),e.register("component-emitter/index.js",function(t,e,n){var i=e("indexof");function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}n.exports=r,r.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},e._off=i,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(t,e){if(this._callbacks=this._callbacks||{},0===arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;var r=i(n,e._off||e);return~r&&n.splice(r,1),this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),e.register("NetEase-pomelo-protocol/lib/protocol.js",function(e,i,r){(function(t,e,n){var i=t,o=i.Package={},a=i.Message={};o.TYPE_HANDSHAKE=1,o.TYPE_HANDSHAKE_ACK=2,o.TYPE_HEARTBEAT=3,o.TYPE_DATA=4,o.TYPE_KICK=5,a.TYPE_REQUEST=0,a.TYPE_NOTIFY=1,a.TYPE_RESPONSE=2,a.TYPE_PUSH=3,i.strencode=function(t){for(var n=new e(3*t.length),i=0,r=0;r<t.length;r++){var o=t.charCodeAt(r),a=null;a=o<=127?[o]:o<=2047?[192|o>>6,128|63&o]:[224|o>>12,128|(4032&o)>>6,128|63&o];for(var c=0;c<a.length;c++)n[i]=a[c],++i}var u=new e(i);return s(u,0,n,0,i),u},i.strdecode=function(t){for(var n=new e(t),i=[],r=0,o=0,a=n.length;r<a;)n[r]<128?(o=n[r],r+=1):n[r]<224?(o=((63&n[r])<<6)+(63&n[r+1]),r+=2):(o=((15&n[r])<<12)+((63&n[r+1])<<6)+(63&n[r+2]),r+=3),i.push(o);var s,c="";for(s=0;s<i.length/8192;s++)c+=String.fromCharCode.apply(null,i.slice(8192*s,8192*(s+1)));return c+=String.fromCharCode.apply(null,i.slice(8192*s))},o.encode=function(t,n){var i=n?n.length:0,r=new e(4+i),o=0;return r[o++]=255&t,r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i,n&&s(r,o,n,0,i),r},o.decode=function(t){var n=new e(t),i=n[0],r=1,o=(n[r++]<<16|n[r++]<<8|n[r++])>>>0,a=o?new e(o):null;return s(a,0,n,4,o),{type:i,body:a}},a.encode=function(t,n,r,o,a){var s=c(n)?h(t):0,g=1+s;if(u(n))if(r){if("number"!=typeof o)throw new Error("error flag for number route!");g+=2}else if(g+=1,o){if((o=i.strencode(o)).length>255)throw new Error("route maxlength is overflow");g+=o.length}a&&(g+=a.length);var m=new e(g),y=0;return y=l(n,r,m,y),c(n)&&(y=f(t,s,m,y)),u(n)&&(y=p(r,o,m,y)),a&&(y=d(a,m,y)),m},a.decode=function(t){var n=new e(t),r=n.length||n.byteLength,o=0,a=0,h=null,l=n[o++],f=1&l,p=l>>1&7;if(c(p)){var d=n[o++];for(a=127&d;128&d;)a<<=7,a|=127&(d=n[o++])}if(u(p))if(f)h=n[o++]<<8|n[o++];else{var g=n[o++];g?(h=new e(g),s(h,0,n,o,g),h=i.strdecode(h)):h="",o+=g}var m=r-o,y=new e(m);return s(y,0,n,o,m),{id:a,type:p,compressRoute:f,route:h,body:y}};var s=function(t,e,n,i,r){if("function"==typeof n.copy)n.copy(t,e,i,i+r);else for(var o=0;o<r;o++)t[e++]=n[i++]},c=function(t){return t===a.TYPE_REQUEST||t===a.TYPE_RESPONSE},u=function(t){return t===a.TYPE_REQUEST||t===a.TYPE_NOTIFY||t===a.TYPE_PUSH},h=function(t){var e=0;do{e+=1,t>>=7}while(t>0);return e},l=function(t,e,n,i){if(t!==a.TYPE_REQUEST&&t!==a.TYPE_NOTIFY&&t!==a.TYPE_RESPONSE&&t!==a.TYPE_PUSH)throw new Error("unkonw message type: "+t);return n[i]=t<<1|(e?1:0),i+1},f=function(t,e,n,i){var r=i+e-1;for(n[r--]=127&t;r>=i;)t>>=7,n[r--]=127&t|128;return i+e},p=function(t,e,n,i){if(t){if(e>65535)throw new Error("route number is overflow");n[i++]=e>>8&255,n[i++]=255&e}else e?(n[i++]=255&e.length,s(n,i,e,0,e.length),i+=e.length):n[i++]=0;return i},d=function(t,e,n){return s(e,n,t,0,t.length),n+t.length};r.exports=i})("object"===(void 0===r?"undefined":n(r))?r.exports:this.Protocol={},"object"===(void 0===r?"undefined":n(r))?t:Uint8Array)}),e.register("pomelonode-pomelo-protobuf/lib/client/protobuf.js",function(t,e,i){(function(t,e){var n=t;n.init=function(t){n.encoder.init(t.encoderProtos),n.decoder.init(t.decoderProtos)},n.encode=function(t,e){return n.encoder.encode(t,e)},n.decode=function(t,e){return n.decoder.decode(t,e)},i.exports=n})("object"===(void 0===i?"undefined":n(i))?i.exports:this.protobuf={}),(("undefined"!=typeof protobuf?protobuf:i.exports).constants={}).TYPES={uInt32:0,sInt32:0,int32:0,double:1,string:2,message:2,float:5},(("undefined"!=typeof protobuf?protobuf:i.exports).util={}).isSimpleType=function(t){return"uInt32"===t||"sInt32"===t||"int32"===t||"uInt64"===t||"sInt64"===t||"float"===t||"double"===t},function(t,e){var n=("undefined"!==typeof protobuf?protobuf:i.exports).codec={},r=new ArrayBuffer(8),o=new Float32Array(r),a=new Float64Array(r),s=new Uint8Array(r);function c(t){return t<=127?[t]:t<=2047?[192|t>>6,128|63&t]:[224|t>>12,128|(4032&t)>>6,128|63&t]}function u(t){return t<=127?1:t<=2047?2:3}n.encodeUInt32=function(t){t=parseInt(t);if(isNaN(t)||t<0)return null;var e=[];do{var n=t%128,i=Math.floor(t/128);0!==i&&(n+=128),e.push(n),t=i}while(0!==t);return e},n.encodeSInt32=function(t){t=parseInt(t);return isNaN(t)?null:(t=t<0?2*Math.abs(t)-1:2*t,n.encodeUInt32(t))},n.decodeUInt32=function(t){for(var e=0,n=0;n<t.length;n++){var i=parseInt(t[n]);if(e+=(127&i)*Math.pow(2,7*n),i<128)return e}return e},n.decodeSInt32=function(t){var e=this.decodeUInt32(t);return e=(e%2+e)/2*(e%2==1?-1:1)},n.encodeFloat=function(t){return o[0]=t,s},n.decodeFloat=function(t,e){if(!t||t.length<e+4)return null;for(var n=0;n<4;n++)s[n]=t[e+n];return o[0]},n.encodeDouble=function(t){return a[0]=t,s.subarray(0,8)},n.decodeDouble=function(t,e){if(!t||t.length<8+e)return null;for(var n=0;n<8;n++)s[n]=t[e+n];return a[0]},n.encodeStr=function(t,e,n){for(var i=0;i<n.length;i++)for(var r=c(n.charCodeAt(i)),o=0;o<r.length;o++)t[e]=r[o],e++;return e},n.decodeStr=function(t,e,n){for(var i=[],r=e+n;e<r;){var o=0;t[e]<128?(o=t[e],e+=1):t[e]<224?(o=((63&t[e])<<6)+(63&t[e+1]),e+=2):(o=((15&t[e])<<12)+((63&t[e+1])<<6)+(63&t[e+2]),e+=3),i.push(o)}for(var a="",s=0;s<i.length;)a+=String.fromCharCode.apply(null,i.slice(s,s+1e4)),s+=1e4;return a},n.byteLength=function(t){if("string"!=typeof t)return-1;for(var e=0,n=0;n<t.length;n++){e+=u(t.charCodeAt(n))}return e}}(),function(t,e){var n=t,i=t.encoder={},r=n.codec,o=n.constants,a=n.util;function s(t,e,n,i){for(var r in i)if(n[r]){var o=n[r];switch(o.option){case"required":case"optional":e=h(t,e,l(o.type,o.tag)),e=c(i[r],o.type,e,t,n);break;case"repeated":i[r].length>0&&(e=u(i[r],o,e,t,n))}}return e}function c(t,e,n,o,a){switch(e){case"uInt32":n=h(o,n,r.encodeUInt32(t));break;case"int32":case"sInt32":n=h(o,n,r.encodeSInt32(t));break;case"float":h(o,n,r.encodeFloat(t)),n+=4;break;case"double":h(o,n,r.encodeDouble(t)),n+=8;break;case"string":var c=r.byteLength(t);n=h(o,n,r.encodeUInt32(c)),r.encodeStr(o,n,t),n+=c;break;default:var u=a.__messages[e]||i.protos["message "+e];if(u){var l=new ArrayBuffer(r.byteLength(JSON.stringify(t)));c=s(l,c=0,u,t),n=h(o,n,r.encodeUInt32(c));for(var f=0;f<c;f++)o[n]=l[f],n++}}return n}function u(t,e,n,i,o){var s=0;if(a.isSimpleType(e.type))for(n=h(i,n=h(i,n,l(e.type,e.tag)),r.encodeUInt32(t.length)),s=0;s<t.length;s++)n=c(t[s],e.type,n,i);else for(s=0;s<t.length;s++)n=h(i,n,l(e.type,e.tag)),n=c(t[s],e.type,n,i,o);return n}function h(t,e,n){for(var i=0;i<n.length;i++,e++)t[e]=n[i];return e}function l(t,e){var n=o.TYPES[t]||2;return r.encodeUInt32(e<<3|n)}i.init=function(t){this.protos=t||{}},i.encode=function(t,e){var n=this.protos[t];if(!function t(e,n){if(!n)return!1;for(var r in n){var o=n[r];switch(o.option){case"required":if(void 0===e[r])return!1;case"optional":if(void 0!==e[r]){var a=n.__messages[o.type]||i.protos["message "+o.type];a&&t(e[r],a)}break;case"repeated":var a=n.__messages[o.type]||i.protos["message "+o.type];if(e[r]&&a)for(var s=0;s<e[r].length;s++)if(!t(e[r][s],a))return!1}}return!0}(e,n))return null;var o=r.byteLength(JSON.stringify(e)),a=new ArrayBuffer(o),c=new Uint8Array(a),u=0;return n&&(u=s(c,u,n,e))>0?c.subarray(0,u):null}}("undefined"!=typeof protobuf?protobuf:i.exports),function(t,e){var n,i=t,r=t.decoder={},o=i.codec,a=i.util,s=0;function c(t,e,n){for(;s<n;){var i=u(),r=(i.type,i.tag),o=e.__tags[r];switch(e[o].option){case"optional":case"required":t[o]=h(e[o].type,e);break;case"repeated":t[o]||(t[o]=[]),l(t[o],e[o].type,e)}}return t}function u(){var t=o.decodeUInt32(f());return{type:7&t,tag:t>>3}}function h(t,e){switch(t){case"uInt32":return o.decodeUInt32(f());case"int32":case"sInt32":return o.decodeSInt32(f());case"float":var i=o.decodeFloat(n,s);return s+=4,i;case"double":var a=o.decodeDouble(n,s);return s+=8,a;case"string":var u=o.decodeUInt32(f()),h=o.decodeStr(n,s,u);return s+=u,h;default:var l=e.__messages[t]||r.protos["message "+t];if(e&&l){u=o.decodeUInt32(f());var p={};return c(p,l,s+u),p}}}function l(t,e,n){if(a.isSimpleType(e))for(var i=o.decodeUInt32(f()),r=0;r<i;r++)t.push(h(e));else t.push(h(e,n))}function f(t){var e,i=[],r=s;t=t||!1;do{e=n[r],i.push(e),r++}while(e>=128);return t||(s=r),i}r.init=function(t){this.protos=t||{}},r.setProtos=function(t){t&&(this.protos=t)},r.decode=function(t,e){var i=this.protos[t];return n=e,s=0,i?c({},i,n.length):null}}("undefined"!=typeof protobuf?protobuf:i.exports)}),e.register("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js",function(t,e,n){(function(t){var e=t.Protocol,i=e.Package,r=e.Message,o=t.EventEmitter,a=t.protobuf;"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var s=window,c=Object.create(o.prototype);s.pomelo=c;var u=null,h=0,l={},f={},p={},d=0,g=0,m=0,y=null,v=null,b=null,w={sys:{type:"js-websocket",version:"0.0.1"},user:{}},_=null;c.init=function(t,e){var n;if(_=e,!t.url||cc.sys.isBrowser&&"http:"===window.location.protocol){var i=t.host,r=t.port;n="ws://"+i,r&&(n+=":"+r)}else n="wss://"+t.url;w.user=t.user,b=t.handshakeCallback,S(n,e)};var S=function(t,n){console.log("connect to "+t);(u=new WebSocket(t)).binaryType="arraybuffer",u.onopen=function(t){var n=i.encode(i.TYPE_HANDSHAKE,e.strencode(JSON.stringify(w)));P(n)},u.onmessage=function(t){C(i.decode(t.data),n),g&&(m=Date.now()+g)},u.onerror=function(t){c.emit("io-error",t),console.error("socket error: ",JSON.stringify(t))},u.onclose=function(t){c.emit("close",t),console.error("socket close: ",JSON.stringify(t)),y&&(clearTimeout(y),y=null),v&&(clearTimeout(v),v=null)}};c.disconnect=function(){u&&(u.disconnect&&u.disconnect(),u.close&&u.close(),cc.log("disconnect"),u.onopen=null,u.onmessage=null,u.onerror=null,u.onclose=null,u=null),y&&(clearTimeout(y),y=null),v&&(clearTimeout(v),v=null)},c.request=function(t,e,n){2===arguments.length&&"function"==typeof e?(n=e,e={}):e=e||{},(t=t||e.route)&&(++h%128==0&&h++,E(h,t,e),l[h]=n,p[h]=t)},c.notify=function(t,e){E(0,t,e=e||{})};var E=function(t,n,o){var s=t?r.TYPE_REQUEST:r.TYPE_NOTIFY;o=(c.data.protos?c.data.protos.client:{})[n]?a.encode(n,o):e.strencode(JSON.stringify(o));var u=0;c.dict&&c.dict[n]&&(n=c.dict[n],u=1),o=r.encode(t,s,u,n,o);var h=i.encode(i.TYPE_DATA,o);P(h)},P=function(t){u&&u.send(t.buffer)},I=function t(){var e=m-Date.now();e>100?v=setTimeout(t,e):(console.error("server heartbeat timeout"),c.emit("heartbeat timeout"),c.disconnect())};f[i.TYPE_HANDSHAKE]=function(t){if(501!==(t=JSON.parse(e.strdecode(t))).code)if(200===t.code){k(t);var n=i.encode(i.TYPE_HANDSHAKE_ACK);P(n),_&&(_(u),_=null)}else c.emit("error","handshake fail");else c.emit("error","client version not fullfill")},f[i.TYPE_HEARTBEAT]=function(t){if(d){var e=i.encode(i.TYPE_HEARTBEAT);v&&(clearTimeout(v),v=null),y||(y=setTimeout(function(){y=null,P(e),m=Date.now()+g,v=setTimeout(I,g)},d))}},f[i.TYPE_DATA]=function(t){var e=r.decode(t);e.id>0&&(e.route=p[e.id],delete p[e.id],!e.route)||(e.body=A(e),T(c,e))},f[i.TYPE_KICK]=function(t){var n=JSON.parse(e.strdecode(t)),i="kick";n.hasOwnProperty("reason")&&(i=n.reason),c.emit("onKick",i)};var C=function(t){f[t.type](t.body)},T=function(t,e){if(cc.log("receive msg from :"+e.route),cc.log(e.body),e.id){var n=l[e.id];delete l[e.id],"function"==typeof n&&n(e)}else t.emit(e.route,e)},A=function(t){var n=c.data.protos?c.data.protos.server:{},i=c.data.abbrs,r=t.route;if(t.compressRoute){if(!i[r])return{};r=t.route=i[r]}return n[r]?a.decode(r,t.body):JSON.parse(e.strdecode(t.body))},k=function(t){t.sys&&t.sys.heartbeat?(d=1e3*t.sys.heartbeat,g=2*d):(d=0,g=0),L(t),"function"==typeof b&&b(t.user)},L=function(t){if(t&&t.sys){c.data=c.data||{};var e=t.sys.dict,n=t.sys.protos;if(e)for(var i in c.data.dict=e,c.data.abbrs={},e)c.data.abbrs[e[i]]=i;n&&(c.data.protos={server:n.server||{},client:n.client||{}},a&&a.init({encoderProtos:n.client,decoderProtos:n.server}))}};n.exports=c})(this)}),e.register("boot/index.js",function(t,e,n){var i=e("emitter");this.EventEmitter=Object.create(i);var r=e("pomelo-protocol");this.Protocol=r;var o=e("pomelo-protobuf");this.protobuf=o;var a=e("pomelo-jsclient-websocket");this.pomelo=a}),e.alias("boot/index.js","pomelo-client/deps/boot/index.js"),e.alias("component-emitter/index.js","boot/deps/emitter/index.js"),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("NetEase-pomelo-protocol/lib/protocol.js","boot/deps/pomelo-protocol/lib/protocol.js"),e.alias("NetEase-pomelo-protocol/lib/protocol.js","boot/deps/pomelo-protocol/index.js"),e.alias("NetEase-pomelo-protocol/lib/protocol.js","NetEase-pomelo-protocol/index.js"),e.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","boot/deps/pomelo-protobuf/lib/client/protobuf.js"),e.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","boot/deps/pomelo-protobuf/index.js"),e.alias("pomelonode-pomelo-protobuf/lib/client/protobuf.js","pomelonode-pomelo-protobuf/index.js"),e.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","boot/deps/pomelo-jsclient-websocket/lib/pomelo-client.js"),e.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","boot/deps/pomelo-jsclient-websocket/index.js"),e.alias("pomelonode-pomelo-jsclient-websocket/lib/pomelo-client.js","pomelonode-pomelo-jsclient-websocket/index.js"),e.requirePomelo("boot"),e},e.exports=r,cc._RF.pop()}).call(this,t("buffer").Buffer)},{buffer:2}],poolManager:[function(t,e,n){"use strict";cc._RF.push(e,"0c812zHPv1O2af+eiDCF8fZ","poolManager");var i=new(cc.Class({start:function(){this.dictPool={}},getNode:function(t,e){var n=t.name,i=null;if(this.dictPool.hasOwnProperty(n)){var r=this.dictPool[n];i=r.size()>0?r.get():cc.instantiate(t)}else{var o=new cc.NodePool;this.dictPool[n]=o,i=cc.instantiate(t)}return i.parent=e,i},putNode:function(t){var e=t.name,n=null;this.dictPool.hasOwnProperty(e)?n=this.dictPool[e]:(n=new cc.NodePool,this.dictPool[e]=n),n.put(t)},clearPool:function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()}}));i.start(),e.exports=i,cc._RF.pop()},{}],regist:[function(t,e,n){"use strict";cc._RF.push(e,"bb672YqxgNFdYTHxyYgIATh","regist");t("resourceUtil");var i=t("bcxAdapter"),r=t("LanguageData");cc.Class({extends:cc.Component,properties:{edtAccount:cc.EditBox,edtPassword:cc.EditBox,edtPassword2:cc.EditBox,edtPrivateKey:cc.EditBox,frameReg:cc.Node,frameKey:cc.Node},onLoad:function(){this.setCurLanguage()},start:function(){i.logout(function(){})},show:function(t){this.loginScene=t,cc.gameSpace.hideLoading()},onBtnCloseClick:function(){this.node.destroy()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?r.init("en"):r.init("zh"),r.updateSceneRenderers()},onBtnRegistClick:function(){var t=this,e=this.edtAccount.string,n=this.edtPassword.string,r=this.edtPassword2.string;""!==e?""!==n&&""!==r?n===r?(cc.gameSpace.showLoading(cc.gameSpace.text.registering+"..."),i.signUp(e,n,function(e,n){e?cc.gameSpace.showTips(e):t.onBtnConfirmClick(),cc.gameSpace.hideLoading()})):cc.gameSpace.showTips(cc.gameSpace.text.password_confirm_error):cc.gameSpace.showTips(cc.gameSpace.text.password_null):cc.gameSpace.showTips(cc.gameSpace.text.account_null)},onPrivateKeyChanged:function(t){t!==this.privateKey&&(this.edtPrivateKey.string=this.privateKey)},onBtnConfirmClick:function(){this.node.destroy(),cc.gameSpace.showLoading(cc.gameSpace.text.register_loading+"..."),this.loginScene.loadMainScene()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],relife:[function(t,e,n){"use strict";cc._RF.push(e,"0ba11mtbmpDOoyh6M6Mjphp","relife");var i=t("playerData"),r=(t("resourceUtil"),t("bcxAdapter")),o=t("LanguageData");cc.Class({extends:cc.Component,properties:{txtSecond:cc.Label,txtCost:cc.Label},start:function(){this.second=10,this.refreshSecond(),this.countDownTimer=setInterval(function(t){t.countDownTime()},1e3,this),this.setCurLanguage(),this.txtCost.string=cc.gameSpace.text.need_to_pay+" "+i.relifeCost+" "+cc.gameSpace.text.cocos_coins},show:function(t){this.fightScene=t},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?o.init("en"):o.init("zh"),o.updateSceneRenderers()},countDownTime:function(){this.second--,this.second<0&&(this.second=0,this.onBtnNoClick()),this.refreshSecond()},refreshSecond:function(){this.txtSecond.string=this.second+" s"},clear:function(){this.node.destroy(),this.clearCountDown()},clearCountDown:function(){this.countDownTimer&&(clearInterval(this.countDownTimer),this.countDownTimer=null)},onBtnYesClick:function(){var t=this;this.isPaying||(this.isPaying=!0,this.clearCountDown(),cc.gameSpace.showLoading(cc.gameSpace.text.paying+"..."),r.reqRelife(function(e,n){t.isPaying=!1,cc.gameSpace.hideLoading(),e?cc.gameSpace.showTips(e,function(){}):(t.onCompleteYes(),t.clear())}))},onBtnNoClick:function(){this.clear(),this.fightScene.showGameOver()},onCompleteYes:function(){this.fightScene.resume(),this.fightScene.reLife()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",playerData:"playerData",resourceUtil:"resourceUtil"}],resourceUtil:[function(t,e,n){"use strict";cc._RF.push(e,"caa77uZgtBNH6fVcTZYGENz","resourceUtil");var i=new(cc.Class({properties:{},onLoad:function(){this.showTipsTime=0,this.isShow=!1,this.loading=null},loadRes:function(t,e,n){cc.loader.loadRes(t,e,function(t,e){t?cc.error(t.message||t):n(t,e)})},createEffect:function(t,e,n,i){this.loadRes("effects/"+t+"/"+t,cc.Prefab,function(t,r){if(t)n.apply(i,[t]);else{var o=cc.instantiate(r);o.position=cc.v2(0,0),e||(e=cc.director.getScene().getChildByName("Canvas")),o.parent=e,n.apply(i,[null,o])}})},createEffectWithPath:function(t,e,n,i){this.loadRes("effects/"+t,cc.Prefab,function(t,r){if(t)n("err",null);else{var o=cc.instantiate(r);e||(e=cc.find("Canvas")),e.addChild(o),n.apply(i,[null,o])}})},getUIPrefabRes:function(t,e){this.loadRes("prefabs/ui/"+t,cc.Prefab,e)},createUI:function(t,e,n){this.loadRes("prefabs/ui/"+t,cc.Prefab,function(t,i){if(!t){var r=cc.instantiate(i);r.setPosition(cc.v2(0,0)),n||(n=cc.find("Canvas")),n.addChild(r),e(null,r)}})},playEffect:function(t,e,n,i){var r=t.getComponent(cc.Animation);r.play(t.name),r.once("finished",function(){i&&t.destroy(),e.apply(n)},n)},getPilotIcon:function(t,e){var n=t.split(".");this.loadRes("Textures/Head/"+n[0],cc.SpriteFrame,e)}}));i.onLoad(),e.exports=i,cc._RF.pop()},{}],select_prefab:[function(t,e,n){"use strict";cc._RF.push(e,"231e1JzVExJNLXpRHlvIPT9","select_prefab");var i=t("LanguageData");cc.Class({extends:cc.Component,properties:{btn_table:cc.Node,select_table:cc.Node},onLoad:function(){this.initLanguageText(),this.btn_table.on("touchend",this.openSelectTable,this),this.arrow=this.btn_table.getChildByName("arrow"),this.language_text=this.btn_table.getChildByName("language_text"),this.zh_bg=this.select_table.getChildByName("zh_bg"),this.en_bg=this.select_table.getChildByName("en_bg"),this.zh_text_btn=this.select_table.getChildByName("zh_text_btn"),this.en_text_btn=this.select_table.getChildByName("en_text_btn"),this.zh_text_btn.on("touchend",this.switchZhEndCallBack,this.zh_text_btn),this.en_text_btn.on("touchend",this.switchEnEndCallBack,this.en_text_btn),this.select_table.active=!1,this.checkCurLanguage(),this.open_select=!1},checkCurLanguage:function(){var t=cc.sys.localStorage.getItem("language");t||(cc.sys.localStorage.setItem("language",0),t=0),this.setCurLanguage(t)},setCurLanguage:function(t){var e="";1==t?(i.init("en"),e="English",this.en_bg.active=!1,this.zh_bg.active=!0,cc.gameSpace.text=this.text_en):(i.init("zh"),e="\u7b80\u4f53\u4e2d\u6587",this.en_bg.active=!0,this.zh_bg.active=!1,cc.gameSpace.text=this.text),this.language_text.getComponent(cc.Label).string=e,i.updateSceneRenderers()},openSelectTable:function(){this.open_select?this.open_select=!1:this.open_select=!0,this.open_select?this.arrow.rotation=0:this.arrow.rotation=180,this.select_table.active=this.open_select},switchEnEndCallBack:function(t){var e=t.target.parent.parent.getComponent("select_prefab");cc.sys.localStorage.setItem("language",1),e.setCurLanguage(1),e.openSelectTable()},switchZhEndCallBack:function(t){var e=t.target.parent.parent.getComponent("select_prefab");cc.sys.localStorage.setItem("language",0),e.setCurLanguage(0),e.openSelectTable()},initLanguageText:function(){this.text={lottery_nocoin:"\u4ee3\u5e01\u6570\u91cf\u4e0d\u8db3",executing:"\u6b63\u5728\u6267\u884c",contract:"\u5408\u7ea6",bomb:"\u70b8\u5f39",weapon:"\u6b66\u5668",Incorrect_data:"\u8be5\u5546\u54c1\u6570\u636e\u6709\u8bef",cancel_sell:"\u53d6\u6d88\u51fa\u552e\u4e2d",cancel_success:"\u53d6\u6d88\u6210\u529f",gongqijun:"\u5bab\u5d0e\u9a8f",unselected:"\u672a\u9009\u62e9",need_to_pay:"\u9700\u8981\u652f\u4ed8",cocos_coins:"Cocos\u5e01",registering:"\u6b63\u5728\u6ce8\u518c\u4e2d",account_null:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a",password_null:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",privatekey_null:"\u79c1\u94a5\u4e0d\u80fd\u4e3a\u7a7a",submit_data:"\u6b63\u5728\u63d0\u4ea4\u6570\u636e\u4e2d",success_rewards:"\u5956\u52b1\u53d1\u653e\u6210\u529f",logining:"\u767b\u5f55\u4e2d...",Requesting_info:"\u6b63\u5728\u8bf7\u6c42\u6218\u573a\u4fe1\u606f",deduct_Coin:"\u6263\u9664Cocos\u5e01",success:"\u6210\u529f",enter_battlefield:"\u6b63\u5728\u8fdb\u5165\u6218\u573a",loading_main:"\u767b\u5f55\u6210\u529f\uff0c\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f",register_loading:"\u6ce8\u518c\u6210\u529f\uff0c\u6b63\u5728\u52a0\u8f7d\u4e3b\u573a\u666f",in_the_list:"\u6302\u5355\u4e2d",refreshing:"\u5237\u65b0\u4e2d",loading:"\u52a0\u8f7d\u4e2d",paying:"\u6b63\u5728\u652f\u4ed8\u4e2d",getting_key:"\u83b7\u53d6\u79c1\u94a5\u4e2d",prive_error:"\u8f93\u5165\u4ef7\u683c\u6709\u8bef",time_expiration_error:"\u8f93\u5165\u8fc7\u671f\u65f6\u95f4\u6709\u8bef",time_max:"\u6302\u5355\u65f6\u95f4\u6700\u591a\u53ea\u80fd72\u5c0f\u65f6",password_confirm_error:"\u5bc6\u7801\u4e0e\u786e\u8ba4\u5bc6\u7801\u4e0d\u540c",strengthen_success:"\u5f3a\u5316\u6210\u529f",success_list:"\u6302\u5355\u6210\u529f"},this.text_en={lottery_nocoin:"Insufficient tokens",executing:"Executing",contract:"contract",bomb:"Bomb",weapon:"Weapon",Incorrect_data:"Incorrect commodity data",cancel_sell:"Cancellation of sale",cancel_success:"Cancel Success",gongqijun:"Hayao Miyazaki",unselected:"unselected",need_to_pay:"Need to pay",cocos_coins:"Cocos coins",registering:"Registering ",account_null:"Account cannot be empty",password_null:"Password cannot be empty",privatekey_null:"Private key cannot be empty",submit_data:"Data being submitted",success_rewards:"Successful rewards",logining:"Logging in...",Requesting_info:"Requesting battlefield information",deduct_Coin:"Deduct Cocos Coin",success:"Successfull",enter_battlefield:"Entering the battlefield",loading_main:"Login successfully, loading the main scenario",register_loading:"Register successfully,, loading the main scenario",in_the_list:"In the list",refreshing:"Refreshing",loading:"loading",paying:"Payment in progress",getting_key:"Getting the private key",prive_error:"Input Price Error",time_expiration_error:"Error in input expiration time",time_max:"Pending orders can only be 72 hours at most.",password_confirm_error:"Password is different from confirmation password",strengthen_success:"Successfull strengthen",success_list:"Successful listing"}}}),cc._RF.pop()},{LanguageData:"LanguageData"}],showKey:[function(t,e,n){"use strict";cc._RF.push(e,"75b75PDrqRKRL+SKe0KvtYs","showKey");t("resourceUtil");var i=t("bcxAdapter"),r=t("LanguageData");cc.Class({extends:cc.Component,properties:{edtPrivateKey:cc.EditBox},onLoad:function(){cc.gameSpace.showLoading(cc.gameSpace.text.getting_key);var t=this;i.getPrivateKey(function(e,n){e?cc.gameSpace.showTips(e):(t.privateKey=n.data.active_private_key,t.edtPrivateKey.string=t.privateKey),cc.gameSpace.hideLoading()}),this.setCurLanguage()},show:function(){cc.gameSpace.hideLoading()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?r.init("en"):r.init("zh"),r.updateSceneRenderers()},onPrivateKeyChanged:function(t){t!==this.privateKey&&(this.edtPrivateKey.string=this.privateKey)},onBtnConfirmClick:function(){this.node.destroy()}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",resourceUtil:"resourceUtil"}],startScene:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","startScene");var i=t("bcxAdapter"),r=t("constants"),o=(t("configuration"),t("resourceUtil")),a=t("playerData");cc.Class({extends:cc.Component,properties:{btnOpen:cc.Node,btnMute:cc.Node,txtCocos:cc.Label,txtLevel:cc.Label,btnChange:cc.Node,fightPlayer:cc.Node,imgWeaponUp:cc.SpriteFrame,imgWeaponDown:cc.SpriteFrame,headIcon:cc.Sprite,arrMap:[cc.Node]},onLoad:function(){var t=cc.winSize;t.width>t.height&&(this.node.getComponent(cc.Canvas).fitHeight=!0),this.isLoading=!1,this.isOpen=cc.gameSpace.audioManager.getConfiguration(!0),this.btnOpen.active=this.isOpen,this.btnMute.active=!this.isOpen,this.refreshChangeBtn(),this.refreshPilotInfo()},onEnable:function(){this.refreshMoney()},refreshMoney:function(){var t=this;i.getBalance(function(e,n){e?cc.gameSpace.showTips(e):t.txtCocos.string=n.data.COCOS.toFixed(1)})},onBtnPlayClick:function(){var t=this;cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.Requesting_info+"..."),this.isGetItemFinished=!1,this.isCostFinished=!1;var e=this;i.getItems(function(t,n){e.isGetItemFinished=!0,e.loadFightScene()}),i.reqStartGame(function(e,n){t.isCostFinished=!0,e?(cc.gameSpace.hideLoading(),cc.gameSpace.showTips(e)):(cc.gameSpace.showLoading(cc.gameSpace.text.deduct_Coin+"("+r.START_GAME_CONSUME+")"+cc.gameSpace.text.success+cc.gameSpace.enter_battlefield),t.loadFightScene())})},loadFightScene:function(){this.isGetItemFinished&&this.isCostFinished&&cc.director.preloadScene("fight",function(){cc.gameSpace.hideLoading(),cc.director.loadScene("fight",function(){})})},refreshChangeBtn:function(){var t=a.getCurrentWeapon();if(t){var e=a.getWeaponLevel(t);this.txtLevel.string="lv."+e}else this.txtLevel.string="";this.fightPlayer.getComponent("MainPlayer").refreshModel()},onBtnRefreshClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.refreshing+"...");var t=this;i.getItems(function(e,n){cc.gameSpace.hideLoading(),e||t.refreshChangeBtn()})},onBtnChangeClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("weapon","weapon",[this])},onBtnQuestionClick:function(){cc.gameSpace.audioManager.playSound("click",!1)},onBtnPilotClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("pilot","pilot",[this])},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.uiManager.showSharedDialog("market","market",[])},onBtnRankClick:function(){i.test()},onBtnSoundClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.isOpen=!1,this.changeMusicState()},onBtnMuteClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.isOpen=!0,this.changeMusicState()},onBtnLotteryClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.loading),cc.gameSpace.uiManager.showSharedDialog("lottery","lottery")},changeMusicState:function(){this.btnOpen.active=this.isOpen,this.btnMute.active=!this.isOpen,this.isOpen?(cc.gameSpace.audioManager.openMusic(),cc.gameSpace.audioManager.openSound()):(cc.gameSpace.audioManager.closeMusic(),cc.gameSpace.audioManager.closeSound())},refreshPilotInfo:function(){var t=a.getCurrentPilot();if(t){var e=JSON.parse(t.base_describe),n=this;o.getPilotIcon(e.icon,function(t,e){!t&&cc.isValid(n.headIcon)&&(n.headIcon.spriteFrame=e)})}},update:function(t){this.updateMap()},updateMap:function(){for(var t=0;t<this.arrMap.length;t++){var e=this.arrMap[t];e.y=e.position.y-1}for(var n=0;n<this.arrMap.length;n++){var i=this.arrMap[n];if(i.position.y<=-cc.winSize.height/2-e.height/2-100){var r=n-1;r=r<0?this.arrMap.length-1:r;var o=this.arrMap[r];i.y=o.position.y+i.height;break}}},testBclFunction:function(){}}),cc._RF.pop()},{bcxAdapter:"bcxAdapter",configuration:"configuration",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],stopPropagation:[function(t,e,n){"use strict";cc._RF.push(e,"ea55dN1rNxD6qVRf70pebDB","stopPropagation"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.on("touchstart",function(t){t.stopPropagation()}),this.node.on("touchend",function(t){t.stopPropagation()}),this.node.on("touchmove",function(t){t.stopPropagation()}),this.node.on("touchcancel",function(t){t.stopPropagation()}),this.node.on("mousedown",function(t){t.stopPropagation()}),this.node.on("mouseenter",function(t){t.stopPropagation()}),this.node.on("mousemove",function(t){t.stopPropagation()}),this.node.on("mouseleave",function(t){t.stopPropagation()}),this.node.on("mouseup",function(t){t.stopPropagation()}),this.node.on("mousewheel",function(t){t.stopPropagation()})},onDisable:function(){this.node.off("touchstart",function(t){t.stopPropagation()}),this.node.off("touchend",function(t){t.stopPropagation()}),this.node.off("touchmove",function(t){t.stopPropagation()}),this.node.off("touchcancel",function(t){t.stopPropagation()}),this.node.off("mousedown",function(t){t.stopPropagation()}),this.node.off("mouseenter",function(t){t.stopPropagation()}),this.node.off("mousemove",function(t){t.stopPropagation()}),this.node.off("mouseleave",function(t){t.stopPropagation()}),this.node.off("mouseup",function(t){t.stopPropagation()}),this.node.off("mousewheel",function(t){t.stopPropagation()})}}),cc._RF.pop()},{}],uiManager:[function(t,e,n){"use strict";cc._RF.push(e,"5215e3L7P1Cm7yAC6WLNZa+","uiManager");var i=t("clientEvent"),r=t("constants"),o=t("resourceUtil"),a=t("poolManager"),s=new(cc.Class({start:function(){this.dictSharedPanel={},this.dictLoading={},this.arrPopupDialog=[],this.showTipsTime=0},regEvent:function(){var t=this,e=this;i.on("showSharedDialog",function(){for(var t=arguments[0],n=arguments[1],i=[],r=2;r<arguments.length;r++)i.push(arguments[r]);e.showSharedDialog(t,n,i)}),i.on("hideSharedDialog",function(e){t.hideSharedDialog(e)}),i.on("pushToPopupSeq",this.pushToPopupSeq,this),i.on("popFromPopupSeq",this.popFromPopupSeq,this)},showSharedDialog:function(t,e,n){var i=this;if(!this.dictLoading[t]){if(n||(n=[]),this.dictSharedPanel.hasOwnProperty(t)){var a=this.dictSharedPanel[t];if(cc.isValid(a)){a.parent=cc.find("Canvas"),a.active=!0;var s=a.getComponent(e);return void(s.show&&s.show.apply(s,n))}}this.dictLoading[t]=!0,o.createUI(t,function(o,a){var s=!1;if(i.dictLoading[t]||(s=!0),i.dictLoading[t]=!1,o)console.error(o);else{a.zIndex=r.ZORDER.DIALOG,i.dictSharedPanel[t]=a;var c=a.getComponent(e);c.show&&c.show.apply(c,n),s&&i.hideSharedDialog(t)}})}},hideSharedDialog:function(t){this.dictSharedPanel.hasOwnProperty(t)&&(this.dictSharedPanel[t].parent=null);this.dictLoading[t]=!1},pushToPopupSeq:function(t,e,n){var i={panelPath:t,scriptName:e,param:n,isShow:!1};this.arrPopupDialog.push(i),this.checkPopupSeq()},popFromPopupSeq:function(t){this.arrPopupDialog[0].panelPath===t&&(this.arrPopupDialog.shift(),this.checkPopupSeq())},checkPopupSeq:function(){if(this.arrPopupDialog.length>0){var t=this.arrPopupDialog[0];t.isShow||(i.dispatchEvent("showSharedDialog",t.panelPath,t.scriptName,t.param),this.arrPopupDialog[0].isShow=!0)}},showTips:function(t,e){var n=Date.now();if(n-this.showTipsTime<800){var i=800-(n-this.showTipsTime);setTimeout(function(t,e){this._showTipsAni(t,e)}.bind(this,t,e),i),this.showTipsTime=n+i}else this._showTipsAni(t,e),this.showTipsTime=n},_showTipsAni:function(t,e){o.getUIPrefabRes("common/tips",function(n,i){if(!n){var o=a.getNode(i,cc.find("Canvas"));o.zIndex=r.ZORDER.TIPS,o.setPosition(cc.v2(0,100)),o.opacity=255,o.stopActionByTag(1e4);var s=o.getChildByName("txtValue").getComponent(cc.RichText);s.maxWidth=0,s.string=t;var c=s._linesWidth;c.length&&c[0]<500?s.maxWidth=c[0]:(s.maxWidth=500,s.node.setContentSize(500,s.node.getContentSize().height));var u=s.node.getContentSize();if(cc.isValid(u)){o.setContentSize(u.width+136<240?240:u.width+136,u.height+50);var h,l=cc.delayTime(.8),f=cc.moveBy(.8,cc.v2(0,150)),p=cc.fadeOut(.8),d=cc.callFunc(function(t){a.putNode(t)},this);(h=e?cc.sequence(l,f,l,p,cc.callFunc(e),d):cc.sequence(l,f,l,p,d)).setTag(1e4),o.runAction(h)}else a.putNode(o)}})},showLoading:function(t,e){this.showSharedDialog("common/loading","loading",[t,e])},hideLoading:function(){this.hideSharedDialog("common/loading")},showGetMoneyTips:function(t,e,n){o.createUI("common/getTips",function(i,r){if(!i){var o=r.parent.convertToNodeSpaceAR(t);r.setPosition(o);var a="+"+e,s=cc.Color.GREEN;e<0&&(a=e,s=cc.Color.RED);var c=r.getChildByName("txtValue");c.color=s,c.getComponent(cc.Label).string=a,r.setScale(0);var u,h=cc.scaleTo(.5,1).easing(cc.easeBackInOut()),l=cc.delayTime(.5),f=cc.fadeOut(.8);u=n?cc.sequence(h,l,f,cc.callFunc(n),cc.removeSelf(!0)):cc.sequence(h,l,f,cc.removeSelf(!0)),r.runAction(u)}})}}));s.start(),e.exports=s,cc._RF.pop()},{clientEvent:"clientEvent",constants:"constants",poolManager:"poolManager",resourceUtil:"resourceUtil"}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"9daf9oAQcdI752d4zoeTyvC","utils");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={clone:function(t){if(null===t||"object"!==(void 0===t?"undefined":i(t)))return t;var e={};for(var n in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(n)&&(e[n]=this.clone(t[n]));return e},objectToArray:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},arrayToObject:function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&t[i][e]&&(n[t[i][e]]=t[i]);return n},getWeightRandIndex:function(t,e){for(var n=parseInt(Math.random()*e),i=0,r=0;r<t.length&&!(n<(i+=t[r]));r++);return r},getRandomNFromM:function(t,e){for(var n=[],i=0,r=0;r<e&&!(r>=t+1);){i=this.getRandomInt(0,t);for(var o=0,a=0;a<r;a++)if(n[a]===i){o=1;break}0===o&&(n[r]=i,r++)}return n},getRandomInt:function(t,e){var n=Math.random()*(e-t+1)+t;return Math.floor(n)},getStringLength:function(t){for(var e=t,n=0,i=0,r=e.length;i<r;i++){n+=e.charCodeAt(i)<=255?1:2}return Math.ceil(n/2)},isEmptyObject:function(t){var e=!0;if(t&&t.constructor===Object){for(var n in t)if(t.hasOwnProperty(n)){e=!1;break}}else e=!1;return e},formatNum:function(t){if(t<=0)return"0";var e=Math.round(Math.log(t)/Math.log(1e3));return parseInt(t/Math.pow(1e3,e-1<0?0:e-1),10)+["","","K","M","B"][e]},isNewDay:function(t){var e=new Date(t),n=new Date,i=e.getYear(),r=e.getMonth(),o=e.getDate(),a=n.getYear(),s=n.getMonth(),c=n.getDate();return a>i||(s>r||c>o)},getPropertyCount:function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n},difference:function(t,e){var n=[];if(t.constructor!==Array||e.constructor!==Array)return n;for(var i=t.length,r=0;r<i;r++)-1===e.indexOf(t[r])&&n.push(t[r]);return n},base64encode:function(t){var e,n,i,r,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",h=0;for(t=this.utf8Encode(t);h<t.length;)r=(e=t.charCodeAt(h++))>>2,o=(3&e)<<4|(n=t.charCodeAt(h++))>>4,a=(15&n)<<2|(i=t.charCodeAt(h++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+c.charAt(r)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u},utf8Encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},base64Decode:function(t){var e,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=s.indexOf(t.charAt(u++))<<2|(r=s.indexOf(t.charAt(u++)))>>4,n=(15&r)<<4|(o=s.indexOf(t.charAt(u++)))>>2,i=(3&o)<<6|(a=s.indexOf(t.charAt(u++))),c+=String.fromCharCode(e),64!=o&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(i));return c=this.utf8Decode(c)},utf8Decode:function(t){for(var e="",n=0,i=0,r=0,o=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(r=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=t.charCodeAt(n+1),o=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3);return e},stringToArray:function(t){var e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n=RegExp("[\\u200d\\ud800-\\udfff"+e+"\\ufe0e\\ufe0f]"),i="\\ud83c[\\udffb-\\udfff]",r="["+e+"]",o="(?:"+r+"|"+i+")"+"?",a="[\\ud800-\\udfff]",s="[^\\ud800-\\udfff]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",h="[\\ufe0e\\ufe0f]?"+o+("(?:\\u200d(?:"+[s,c,u].join("|")+")[\\ufe0e\\ufe0f]?"+o+")*"),l="(?:"+[s+r+"?",r,c,u,a].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+h,"g");return function(t){return n.test(t)}(t)?function(t){return t.match(f)||[]}(t):function(t){return t.split("")}(t)},simulationUUID:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},isNowValid:function(t,e){var n=new Date(t),i=new Date(e),r=!1;if(n.getDate()+""!="NaN"&&i.getDate()+""!="NaN"){var o=new Date;r=o<i&&o>n}return r},getDeltaDays:function(t,e){t=new Date(t),e=new Date(e);var n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();t=new Date(n+"-"+i+"-"+r+" GMT+0800").getTime();var c=(e=new Date(o+"-"+a+"-"+s+" GMT+0800").getTime())-t;return Math.floor(c/864e5)},getMin:function(t){var e=null;if(t.constructor===Array)for(var n=t.length,i=0;i<n;i++)e=0===i?Number(t[0]):e>Number(t[i])?Number(t[i]):e;return e},formatTwoDigits:function(t){return(Array(2).join(0)+t).slice(-2)},formatDate:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},getDay:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},formatName:function(t,e){e=e||6;var n=this.stringToArray(t),i="";if(n.length>e){for(var r=0;r<e;r++)i+=n[r];i+="..."}else i=t;return i},formatMoney:function(t){for(var e=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",i=0;i<e.length;i++){if(!(t>=1e4)){n=Math.floor(t)+e[i];break}t/=1e3}return""===n&&(n=Math.floor(t)+"U"),n},formatTimeForSecond:function(t){var e="",n=t%60,i=Math.floor(t/60);i=i<0?0:i;var r=Math.floor(i/60),o=i%60;return r>0&&(e+=r>9?r.toString():"0"+r,e+=":"),e+=o>9?o.toString():"0"+o,e+=":",e+=n>9?n.toString():"0"+n},zip:function(t){var e=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(e)},unZip:function(t){var e=this.base64Decode(t),n=e.split("").map(function(t){return t.charCodeAt(0)}),i=new Uint8Array(n),r=pako.inflate(i);return e=String.fromCharCode.apply(null,new Uint16Array(r)),decodeURIComponent(e)},encrypt:function(t){var e=this.base64encode(t),n=6;e.length%2==0&&(n=7);for(var i="",r=0;r<(e.length-n+1)/2;r++)i+=e[2*r+1],i+=e[2*r];return i+=e.slice(e.length-n+1)},decrypt:function(t){var e=6;t.length%2==0&&(e=7);for(var n="",i=0;i<t.length-e;i+=2)n+=t[i+1],n+=t[i];return n+=t.slice(t.length-e+1),n=this.base64Decode(n)}};e.exports=r,cc._RF.pop()},{}],weapon:[function(t,e,n){"use strict";cc._RF.push(e,"06385kABDdEo77I8NgJx89a","weapon");var i=t("playerData"),r=t("constants"),o=t("resourceUtil"),a=t("bcxAdapter"),s=t("LanguageData");cc.Class({extends:cc.Component,properties:{nodeTips:cc.Node,nodeView:cc.Node,pageView:cc.PageView,prefabPage:cc.Prefab,fightPlayer:cc.Node,txtLevel:cc.Label,txtCocos:cc.Label,nodeBtnUse:cc.Node,nodeBtnUnUse:cc.Node,nodeCost:cc.Node,imgWeapon:cc.SpriteFrame,btnUpgrade:cc.Button},start:function(){this.currentSelect=null,this.refreshUI(),this.refreshWeaponInfo(),this.setCurLanguage()},refreshUI:function(){i.getWeaponList().length<=0?(this.nodeTips.active=!0,this.nodeView.active=!1):(this.nodeTips.active=!1,this.nodeView.active=!0,this.initPage()),this.refreshMoney()},setCurLanguage:function(){1==cc.sys.localStorage.getItem("language")?s.init("en"):s.init("zh"),s.updateSceneRenderers()},show:function(t){this.startScene=t},refreshWeaponInfo:function(){var t=null;if(this.currentSelect){t=i.getWeaponByItemId(this.currentSelect);var e=i.getWeaponLevel(t);this.currentLevel=e,this.txtLevel.string="lv."+e;var n=i.getCurrentWeaponItemId()===t.id;this.nodeBtnUse.getComponent(cc.Button).interactable=!0,this.nodeBtnUse.active=!n,this.nodeBtnUnUse.active=n}else this.txtLevel.string=cc.gameSpace.text.unselected,this.nodeBtnUse.active=!0,this.nodeBtnUse.getComponent(cc.Button).interactable=!1,this.nodeBtnUnUse.active=!1;this.refreshUpgradeButton(),this.fightPlayer.getComponent("MainPlayer").equipWeapon(t)},refreshUpgradeButton:function(){if(this.currentSelect){var t=this.currentLevel>=r.WEAPON_MAX_LEVEL,e=i.gold>100;this.btnUpgrade.interactable=!t&&e}else this.btnUpgrade.interactable=!1},refreshMoney:function(){var t=this;a.getBalance(function(e,n){e||(t.txtCocos.string=n.data.COCOS.toFixed(1),n.data.COCOS>100?t.nodeCost.color=cc.Color.WHITE:t.nodeCost.color=cc.Color.RED,t.refreshUpgradeButton())})},initPage:function(){var t=i.getWeaponList();this.pageCnt=Math.ceil(t.length/r.WEAPON_PAGE_SIZE);for(var e=this.pageView.getPages(),n=0;n<this.pageCnt;n++){var o=null;n<e.length?o=e[n]:(o=cc.instantiate(this.prefabPage),this.pageView.addPage(o));var a=o.getComponent("WeaponPage");a.setPageInfo(n,this),a.refreshPage()}},onBtnCloseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),this.node.destroy(),this.startScene.refreshChangeBtn(),this.startScene.refreshMoney()},onItemSelect:function(t,e){this.currentSelect=t,this.currentSelectPageOwner=e;for(var n=this.pageView.getPages(),i=0;i<n.length;i++){var r=n[i].getComponent("WeaponPage");r.unSelectAll(),this.currentSelectPageOwner===i&&r.selectByItemId(this.currentSelect)}this.refreshWeaponInfo()},onBtnUseClick:function(){if(cc.gameSpace.audioManager.playSound("click",!1),this.currentSelect){i.saveCurrentWeapon(this.currentSelect);for(var t=this.pageView.getPages(),e=0;e<t.length;e++){var n=t[e].getComponent("WeaponPage");n.unLaunchAll(),this.currentSelectPageOwner===e&&n.launchByItemId(this.currentSelect)}this.refreshWeaponInfo()}},onBtnUnUseClick:function(){cc.gameSpace.audioManager.playSound("click",!1),i.saveCurrentWeapon("");for(var t=this.pageView.getPages(),e=0;e<t.length;e++){t[e].getComponent("WeaponPage").unLaunchAll()}this.refreshWeaponInfo()},onBtnUpgradeClick:function(){cc.gameSpace.audioManager.playSound("click",!1),cc.gameSpace.showLoading(cc.gameSpace.text.executing+" "+a.upgradeContract+cc.gameSpace.text.contract+"...");var t=this;a.upgradeWeapon(this.currentSelect,function(e,n){if(cc.gameSpace.hideLoading(),t.refreshMoney(),!e)for(var i=n.data[0].contract_affecteds,r=0;r<i.length;r++)if("contract_affecteds_log"===i[r].type){var o=i[r].raw_data.message,a="##result##:",s=o.indexOf(a);if(-1!==s){var c=o.slice(s+a.length),u=JSON.parse(c);t.showUpgradeEffect(),t.refreshItem(u.equipmentId);break}}})},onBtnMarketClick:function(){cc.gameSpace.audioManager.playSound("click",!1),window.open("http://gpe.famegame.com.cn")},showUpgradeEffect:function(){cc.gameSpace.audioManager.playSound("upgrade",!1),o.createEffect("upgrade",this.node,function(t,e){var n=this.fightPlayer.convertToWorldSpaceAR(cc.v2(0,0));e.position=e.parent.convertToNodeSpaceAR(n),o.playEffect(e,function(){},this,!0)},this)},refreshItem:function(t){var e=this;a.getItems(function(n,i){if(!n){t===e.currentSelect&&e.refreshWeaponInfo();for(var r=e.pageView.getPages(),o=0;o<r.length;o++){r[o].getComponent("WeaponPage").refreshByItemId(t)}}})}}),cc._RF.pop()},{LanguageData:"LanguageData",bcxAdapter:"bcxAdapter",constants:"constants",playerData:"playerData",resourceUtil:"resourceUtil"}],zh:[function(t,e,n){"use strict";cc._RF.push(e,"171c3QJPLpPobLTkS88sVJm","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label:{login:"\u767b\u5f55",register:"\u6ce8\u518c",account:"\u8d26\u53f7",password:"\u5bc6\u7801",login_account:"\u767b\u5f55\u8d26\u53f7",register_account:"\u8d26\u53f7\u6ce8\u518c",login_password:"\u767b\u5f55\u5bc6\u7801",confirm_password:"\u786e\u8ba4\u5bc6\u7801",thanks:"\u8c22\u8c22\u60e0\u987e",Backpack:"\u80cc\u5305",Sell:"\u51fa\u552e",Refreshing:"\u5237\u65b0\u4e2d",Price:"\u51fa\u552e\u4ef7\u683c",expire_date:"\u8fc7\u671f\u65f6\u95f4",sale_notes:"\u51fa\u552e\u5907\u6ce8",bill_list:"\u6302\u5355\u8d39\u7528",hours:"\u5c0f\u65f6",confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88",weapon_rack:"\u6b66\u5668\u67b6",equipment:"\u88c5\u5907",strengthen:"\u5f3a\u5316",no_weapon_msg:"\u8fd8\u6ca1\u6709\u6b66\u5668\uff0c\u8d76\u5feb\u53bb\u4ea4\u6613\u5e02\u573a\u8d2d\u4e70\u5427",trading_market:"\u4ea4\u6613\u5e02\u573a",Attack:"\u51fa\u51fb",Pilot:"\u98de\u884c\u5458",no_pilot_msg:"\u8fd8\u6ca1\u6709\u98de\u884c\u5458\uff0c\u8d76\u5feb\u53bb\u4ea4\u6613\u5e02\u573a\u8d2d\u4e70\u5427",Replay:"\u91cd\u73a9",show_key_msg:"\u4ee5\u4e0b\u662f\u60a8\u7684\u94b1\u5305\u79c1\u94a5\uff0c\u8bf7\u59a5\u5584\u4fdd\u7ba1\uff01",private_key:"\u79c1\u94a5",Score:"\u5206\u6570",continue_msg:"\u70b9\u51fb\u7ee7\u7eed\u5c06\u6e05\u9664\u654c\u4eba\u5e76\u590d\u6d3b"}},cc._RF.pop()},{}]},{},["gridView","stopPropagation","FightBoss","FightBullet","FightEnemy","FightItem","FightMapObj","FightPlayer","FightScene","FightUI","LoginScene","bcxAdapter","core.min","plugins.min","LotteryItem","MainPlayer","PilotItem","PilotPage","Tips","WeaponItem","WeaponPage","flyReward","gameOver","keyLogin","loading","lottery","market","marketItem","marketSell","pilot","regist","relife","select_prefab","showKey","weapon","constants","audioManager","clientEvent","configuration","gameLogic","playerData","poolManager","uiManager","utils","language","eventListener","pomeloBuild","main","resourceUtil","startScene","en","zh","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);